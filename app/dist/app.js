!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="dist",e(e.s=145)}([function(t,e,n){var r=n(2),o=n(18),i=n(11),s=n(12),a=n(19),u=function(t,e,n){var c,l,h,d,f=t&u.F,p=t&u.G,g=t&u.S,v=t&u.P,m=t&u.B,y=p?r:g?r[e]||(r[e]={}):(r[e]||{}).prototype,b=p?o:o[e]||(o[e]={}),_=b.prototype||(b.prototype={});p&&(n=e);for(c in n)l=!f&&y&&void 0!==y[c],h=(l?y:n)[c],d=m&&l?a(h,r):v&&"function"==typeof h?a(Function.call,h):h,y&&s(y,c,h,t&u.U),b[c]!=h&&i(b,c,d),v&&_[c]!=h&&(_[c]=h)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(48)("wks"),o=n(34),i=n(2).Symbol,s="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))}).store=r},function(t,e,n){var r=n(21),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(1),o=n(98),i=n(23),s=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(24);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(8),o=n(33);t.exports=n(7)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(2),o=n(11),i=n(14),s=n(34)("src"),a=n(149),u=(""+a).split("toString");n(18).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(c&&(i(n,s)||o(n,s,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},function(t,e,n){var r=n(0),o=n(3),i=n(24),s=/"/g,a=function(t,e,n,r){var o=String(i(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(r).replace(s,"&quot;")+'"'),a+">"+o+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),r(r.P+r.F*o(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(49),o=n(24);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(50),o=n(33),i=n(15),s=n(23),a=n(14),u=n(98),c=Object.getOwnPropertyDescriptor;e.f=n(7)?c:function(t,e){if(t=i(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(14),o=n(9),i=n(70)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(10);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(0),o=n(18),i=n(3);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",s)}},function(t,e,n){var r=n(19),o=n(49),i=n(9),s=n(6),a=n(86);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,h=6==t,d=5==t||h,f=e||a;return function(e,a,p){for(var g,v,m=i(e),y=o(m),b=r(a,p,3),_=s(y.length),P=0,E=n?f(e,_):u?f(e,0):void 0;_>P;P++)if((d||P in y)&&(g=y[P],v=b(g,P,m),t))if(n)E[P]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return P;case 2:E.push(g)}else if(l)return!1;return h?-1:c||l?l:E}}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){g&&f&&(g=!1,f.length?p=f.concat(p):v=-1,p.length&&a())}function a(){if(!g){var t=o(s);g=!0;for(var e=p.length;e;){for(f=p,p=[];++v<e;)f&&f[v].run();v=-1,e=p.length}f=null,g=!1,i(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,h,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var f,p=[],g=!1,v=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||g||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){"use strict";if(n(7)){var r=n(30),o=n(2),i=n(3),s=n(0),a=n(64),u=n(94),c=n(19),l=n(40),h=n(33),d=n(11),f=n(42),p=n(21),g=n(6),v=n(126),m=n(36),y=n(23),b=n(14),_=n(45),P=n(4),E=n(9),x=n(83),S=n(37),C=n(17),w=n(38).f,j=n(85),D=n(34),I=n(5),M=n(26),O=n(54),A=n(52),N=n(88),k=n(47),T=n(59),L=n(39),F=n(87),R=n(115),B=n(8),G=n(16),U=B.f,W=G.f,V=o.RangeError,H=o.TypeError,Y=o.Uint8Array,X=Array.prototype,z=u.ArrayBuffer,q=u.DataView,$=M(0),K=M(2),J=M(3),Q=M(4),Z=M(5),tt=M(6),et=O(!0),nt=O(!1),rt=N.values,ot=N.keys,it=N.entries,st=X.lastIndexOf,at=X.reduce,ut=X.reduceRight,ct=X.join,lt=X.sort,ht=X.slice,dt=X.toString,ft=X.toLocaleString,pt=I("iterator"),gt=I("toStringTag"),vt=D("typed_constructor"),mt=D("def_constructor"),yt=a.CONSTR,bt=a.TYPED,_t=a.VIEW,Pt=M(1,function(t,e){return wt(A(t,t[mt]),e)}),Et=i(function(){return 1===new Y(new Uint16Array([1]).buffer)[0]}),xt=!!Y&&!!Y.prototype.set&&i(function(){new Y(1).set({})}),St=function(t,e){var n=p(t);if(n<0||n%e)throw V("Wrong offset!");return n},Ct=function(t){if(P(t)&&bt in t)return t;throw H(t+" is not a typed array!")},wt=function(t,e){if(!(P(t)&&vt in t))throw H("It is not a typed array constructor!");return new t(e)},jt=function(t,e){return Dt(A(t,t[mt]),e)},Dt=function(t,e){for(var n=0,r=e.length,o=wt(t,r);r>n;)o[n]=e[n++];return o},It=function(t,e,n){U(t,e,{get:function(){return this._d[n]}})},Mt=function(t){var e,n,r,o,i,s,a=E(t),u=arguments.length,l=u>1?arguments[1]:void 0,h=void 0!==l,d=j(a);if(void 0!=d&&!x(d)){for(s=d.call(a),r=[],e=0;!(i=s.next()).done;e++)r.push(i.value);a=r}for(h&&u>2&&(l=c(l,arguments[2],2)),e=0,n=g(a.length),o=wt(this,n);n>e;e++)o[e]=h?l(a[e],e):a[e];return o},Ot=function(){for(var t=0,e=arguments.length,n=wt(this,e);e>t;)n[t]=arguments[t++];return n},At=!!Y&&i(function(){ft.call(new Y(1))}),Nt=function(){return ft.apply(At?ht.call(Ct(this)):Ct(this),arguments)},kt={copyWithin:function(t,e){return R.call(Ct(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Q(Ct(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return F.apply(Ct(this),arguments)},filter:function(t){return jt(this,K(Ct(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Z(Ct(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){$(Ct(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Ct(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Ct(this),arguments)},lastIndexOf:function(t){return st.apply(Ct(this),arguments)},map:function(t){return Pt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return at.apply(Ct(this),arguments)},reduceRight:function(t){return ut.apply(Ct(this),arguments)},reverse:function(){for(var t,e=this,n=Ct(e).length,r=Math.floor(n/2),o=0;o<r;)t=e[o],e[o++]=e[--n],e[n]=t;return e},some:function(t){return J(Ct(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return lt.call(Ct(this),t)},subarray:function(t,e){var n=Ct(this),r=n.length,o=m(t,r);return new(A(n,n[mt]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,g((void 0===e?r:m(e,r))-o))}},Tt=function(t,e){return jt(this,ht.call(Ct(this),t,e))},Lt=function(t){Ct(this);var e=St(arguments[1],1),n=this.length,r=E(t),o=g(r.length),i=0;if(o+e>n)throw V("Wrong length!");for(;i<o;)this[e+i]=r[i++]},Ft={entries:function(){return it.call(Ct(this))},keys:function(){return ot.call(Ct(this))},values:function(){return rt.call(Ct(this))}},Rt=function(t,e){return P(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Bt=function(t,e){return Rt(t,e=y(e,!0))?h(2,t[e]):W(t,e)},Gt=function(t,e,n){return!(Rt(t,e=y(e,!0))&&P(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?U(t,e,n):(t[e]=n.value,t)};yt||(G.f=Bt,B.f=Gt),s(s.S+s.F*!yt,"Object",{getOwnPropertyDescriptor:Bt,defineProperty:Gt}),i(function(){dt.call({})})&&(dt=ft=function(){return ct.call(this)});var Ut=f({},kt);f(Ut,Ft),d(Ut,pt,Ft.values),f(Ut,{slice:Tt,set:Lt,constructor:function(){},toString:dt,toLocaleString:Nt}),It(Ut,"buffer","b"),It(Ut,"byteOffset","o"),It(Ut,"byteLength","l"),It(Ut,"length","e"),U(Ut,gt,{get:function(){return this[bt]}}),t.exports=function(t,e,n,u){u=!!u;var c=t+(u?"Clamped":"")+"Array",h="get"+t,f="set"+t,p=o[c],m=p||{},y=p&&C(p),b=!p||!a.ABV,E={},x=p&&p.prototype,j=function(t,n){var r=t._d;return r.v[h](n*e+r.o,Et)},D=function(t,n,r){var o=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[f](n*e+o.o,r,Et)},I=function(t,e){U(t,e,{get:function(){return j(this,e)},set:function(t){return D(this,e,t)},enumerable:!0})};b?(p=n(function(t,n,r,o){l(t,p,c,"_d");var i,s,a,u,h=0,f=0;if(P(n)){if(!(n instanceof z||"ArrayBuffer"==(u=_(n))||"SharedArrayBuffer"==u))return bt in n?Dt(p,n):Mt.call(p,n);i=n,f=St(r,e);var m=n.byteLength;if(void 0===o){if(m%e)throw V("Wrong length!");if((s=m-f)<0)throw V("Wrong length!")}else if((s=g(o)*e)+f>m)throw V("Wrong length!");a=s/e}else a=v(n),s=a*e,i=new z(s);for(d(t,"_d",{b:i,o:f,l:s,e:a,v:new q(i)});h<a;)I(t,h++)}),x=p.prototype=S(Ut),d(x,"constructor",p)):i(function(){p(1)})&&i(function(){new p(-1)})&&T(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=n(function(t,n,r,o){l(t,p,c);var i;return P(n)?n instanceof z||"ArrayBuffer"==(i=_(n))||"SharedArrayBuffer"==i?void 0!==o?new m(n,St(r,e),o):void 0!==r?new m(n,St(r,e)):new m(n):bt in n?Dt(p,n):Mt.call(p,n):new m(v(n))}),$(y!==Function.prototype?w(m).concat(w(y)):w(m),function(t){t in p||d(p,t,m[t])}),p.prototype=x,r||(x.constructor=p));var M=x[pt],O=!!M&&("values"==M.name||void 0==M.name),A=Ft.values;d(p,vt,!0),d(x,bt,c),d(x,_t,!0),d(x,mt,p),(u?new p(1)[gt]==c:gt in x)||U(x,gt,{get:function(){return c}}),E[c]=p,s(s.G+s.W+s.F*(p!=m),E),s(s.S,c,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*i(function(){m.of.call(p,1)}),c,{from:Mt,of:Ot}),"BYTES_PER_ELEMENT"in x||d(x,"BYTES_PER_ELEMENT",e),s(s.P,c,kt),L(c),s(s.P+s.F*xt,c,{set:Lt}),s(s.P+s.F*!O,c,Ft),r||x.toString==dt||(x.toString=dt),s(s.P+s.F*i(function(){new p(1).slice()}),c,{slice:Tt}),s(s.P+s.F*(i(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!i(function(){x.toLocaleString.call([1,2])})),c,{toLocaleString:Nt}),k[c]=O?M:A,r||O||d(x,pt,A)}}else t.exports=function(){}},function(t,e,n){var r=n(121),o=n(0),i=n(48)("metadata"),s=i.store||(i.store=new(n(124))),a=function(t,e,n){var o=s.get(t);if(!o){if(!n)return;s.set(t,o=new r)}var i=o.get(e);if(!i){if(!n)return;o.set(e,i=new r)}return i},u=function(t,e,n){var r=a(e,n,!1);return void 0!==r&&r.has(t)},c=function(t,e,n){var r=a(e,n,!1);return void 0===r?void 0:r.get(t)},l=function(t,e,n,r){a(n,r,!0).set(t,e)},h=function(t,e){var n=a(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},d=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},f=function(t){o(o.S,"Reflect",t)};t.exports={store:s,map:a,has:u,get:c,set:l,keys:h,key:d,exp:f}},function(t,e){t.exports=!1},function(t,e,n){var r=n(34)("meta"),o=n(4),i=n(14),s=n(8).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(3)(function(){return u(Object.preventExtensions({}))}),l=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},h=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},d=function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},f=function(t){return c&&p.NEED&&u(t)&&!i(t,r)&&l(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:d,onFreeze:f}},function(t,e,n){var r=n(5)("unscopables"),o=Array.prototype;void 0==o[r]&&n(11)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(100),o=n(71);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(21),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(1),o=n(101),i=n(71),s=n(70)("IE_PROTO"),a=function(){},u=function(){var t,e=n(68)("iframe"),r=i.length;for(e.style.display="none",n(72).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=u(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(100),o=n(71).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){"use strict";var r=n(2),o=n(8),i=n(7),s=n(5)("species");t.exports=function(t){var e=r[t];i&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(19),o=n(113),i=n(83),s=n(1),a=n(6),u=n(85),c={},l={},e=t.exports=function(t,e,n,h,d){var f,p,g,v,m=d?function(){return t}:u(t),y=r(n,h,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(i(m)){for(f=a(t.length);f>b;b++)if((v=e?y(s(p=t[b])[0],p[1]):y(t[b]))===c||v===l)return v}else for(g=m.call(t);!(p=g.next()).done;)if((v=o(g,y,p.value,e))===c||v===l)return v};e.BREAK=c,e.RETURN=l},function(t,e,n){var r=n(12);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var r=n(8).f,o=n(14),i=n(5)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(20),o=n(5)("toStringTag"),i="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(0),o=n(24),i=n(3),s=n(74),a="["+s+"]",u="​",c=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),h=function(t,e,n){var o={},a=i(function(){return!!s[t]()||u[t]()!=u}),c=o[t]=a?e(d):s[t];n&&(o[n]=c),r(r.P+r.F*a,"String",o)},d=h.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=h},function(t,e){t.exports={}},function(t,e,n){var r=n(18),o=n(2),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(30)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var r=n(1);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(1),o=n(10),i=n(5)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[i])?e:o(n)}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(15),o=n(6),i=n(36);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=o(u.length),l=i(s,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(20);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(21),o=n(24);t.exports=function(t){return function(e,n){var i,s,a=String(o(e)),u=r(n),c=a.length;return u<0||u>=c?t?"":void 0:(i=a.charCodeAt(u),i<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):i:t?a.slice(u,u+2):s-56320+(i-55296<<10)+65536)}}},function(t,e,n){var r=n(4),o=n(20),i=n(5)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){var r=n(5)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(45),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){"use strict";n(117);var r=n(12),o=n(11),i=n(3),s=n(24),a=n(5),u=n(89),c=a("species"),l=!i(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=a(t),f=!i(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),p=f?!i(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!e}):void 0;if(!f||!p||"replace"===t&&!l||"split"===t&&!h){var g=/./[d],v=n(s,d,""[t],function(t,e,n,r,o){return e.exec===u?f&&!o?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),m=v[0],y=v[1];r(String.prototype,t,m),o(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},function(t,e,n){var r=n(2),o=r.navigator;t.exports=o&&o.userAgent||""},function(t,e,n){"use strict";var r=n(2),o=n(0),i=n(12),s=n(42),a=n(31),u=n(41),c=n(40),l=n(4),h=n(3),d=n(59),f=n(44),p=n(75);t.exports=function(t,e,n,g,v,m){var y=r[t],b=y,_=v?"set":"add",P=b&&b.prototype,E={},x=function(t){var e=P[t];i(P,t,"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(m||P.forEach&&!h(function(){(new b).entries().next()}))){var S=new b,C=S[_](m?{}:-0,1)!=S,w=h(function(){S.has(1)}),j=d(function(t){new b(t)}),D=!m&&h(function(){for(var t=new b,e=5;e--;)t[_](e,e);return!t.has(-0)});j||(b=e(function(e,n){c(e,b,t);var r=p(new y,e,b);return void 0!=n&&u(n,v,r[_],r),r}),b.prototype=P,P.constructor=b),(w||D)&&(x("delete"),x("has"),v&&x("get")),(D||C)&&x(_),m&&P.clear&&delete P.clear}else b=g.getConstructor(e,t,v,_),s(b.prototype,n),a.NEED=!0;return f(b,t),E[t]=b,o(o.G+o.W+o.F*(b!=y),E),m||g.setStrong(b,t,v),b}},function(t,e,n){for(var r,o=n(2),i=n(11),s=n(34),a=s("typed_array"),u=s("view"),c=!(!o.ArrayBuffer||!o.DataView),l=c,h=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(r=o[d[h++]])?(i(r.prototype,a,!0),i(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:a,VIEW:u}},function(t,e,n){"use strict";t.exports=n(30)||!n(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(2)[t]})},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var r=n(0),o=n(10),i=n(19),s=n(41);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,a,u=arguments[1];return o(this),e=void 0!==u,e&&o(u),void 0==t?new this:(n=[],e?(r=0,a=i(u,arguments[2],2),s(t,!1,function(t){n.push(a(t,r++))})):s(t,!1,n.push,n),new this(n))}})}},function(t,e,n){var r=n(4),o=n(2).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(2),o=n(18),i=n(30),s=n(99),a=n(8).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var r=n(48)("keys"),o=n(34);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(2).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(4),o=n(1),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(19)(Function.call,n(16).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(4),o=n(73).set;t.exports=function(t,e,n){var i,s=e.constructor;return s!==n&&"function"==typeof s&&(i=s.prototype)!==n.prototype&&r(i)&&o&&o(t,i),t}},function(t,e,n){"use strict";var r=n(21),o=n(24);t.exports=function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){"use strict";var r=n(30),o=n(0),i=n(12),s=n(11),a=n(47),u=n(80),c=n(44),l=n(17),h=n(5)("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,p,g,v,m){u(n,e,p);var y,b,_,P=function(t){if(!d&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",x="values"==g,S=!1,C=t.prototype,w=C[h]||C["@@iterator"]||g&&C[g],j=w||P(g),D=g?x?P("entries"):j:void 0,I="Array"==e?C.entries||w:w;if(I&&(_=l(I.call(new t)))!==Object.prototype&&_.next&&(c(_,E,!0),r||"function"==typeof _[h]||s(_,h,f)),x&&w&&"values"!==w.name&&(S=!0,j=function(){return w.call(this)}),r&&!m||!d&&!S&&C[h]||s(C,h,j),a[e]=j,a[E]=f,g)if(y={values:x?j:P("values"),keys:v?j:P("keys"),entries:D},m)for(b in y)b in C||i(C,b,y[b]);else o(o.P+o.F*(d||S),e,y);return y}},function(t,e,n){"use strict";var r=n(37),o=n(33),i=n(44),s={};n(11)(s,n(5)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(58),o=n(24);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},function(t,e,n){var r=n(5)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(47),o=n(5)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){"use strict";var r=n(8),o=n(33);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(45),o=n(5)("iterator"),i=n(47);t.exports=n(18).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(238);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(9),o=n(36),i=n(6);t.exports=function(t){for(var e=r(this),n=i(e.length),s=arguments.length,a=o(s>1?arguments[1]:void 0,n),u=s>2?arguments[2]:void 0,c=void 0===u?n:o(u,n);c>a;)e[a++]=t;return e}},function(t,e,n){"use strict";var r=n(32),o=n(116),i=n(47),s=n(15);t.exports=n(79)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r=n(51),o=RegExp.prototype.exec,i=String.prototype.replace,s=o,a=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=void 0!==/()??/.exec("")[1];(a||u)&&(s=function(t){var e,n,s,c,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",r.call(l))),a&&(e=l.lastIndex),s=o.call(l,t),a&&s&&(l.lastIndex=l.global?s.index+s[0].length:e),u&&s&&s.length>1&&i.call(s[0],n,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(s[c]=void 0)}),s}),t.exports=s},function(t,e,n){"use strict";var r=n(57)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r,o,i,s=n(19),a=n(106),u=n(72),c=n(68),l=n(2),h=l.process,d=l.setImmediate,f=l.clearImmediate,p=l.MessageChannel,g=l.Dispatch,v=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){y.call(t.data)};d&&f||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++v]=function(){a("function"==typeof t?t:Function(t),e)},r(v),v},f=function(t){delete m[t]},"process"==n(20)(h)?r=function(t){h.nextTick(s(y,t,1))}:g&&g.now?r=function(t){g.now(s(y,t,1))}:p?(o=new p,i=o.port2,o.port1.onmessage=b,r=s(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:d,clear:f}},function(t,e,n){var r=n(2),o=n(91).set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(20)(s);t.exports=function(){var t,e,n,c=function(){var r,o;for(u&&(r=s.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(c)}}else n=function(){o.call(r,c)};else{var h=!0,d=document.createTextNode("");new i(c).observe(d,{characterData:!0}),n=function(){d.data=h=!h}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=o(e),this.reject=o(n)}var o=n(10);t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t,e,n){var r,o,i,s=new Array(n),a=8*n-e-1,u=(1<<a)-1,c=u>>1,l=23===e?R(2,-24)-R(2,-77):0,h=0,d=t<0||0===t&&1/t<0?1:0;for(t=F(t),t!=t||t===T?(o=t!=t?1:0,r=u):(r=B(G(t)/U),t*(i=R(2,-r))<1&&(r--,i*=2),t+=r+c>=1?l/i:l*R(2,1-c),t*i>=2&&(r++,i/=2),r+c>=u?(o=0,r=u):r+c>=1?(o=(t*i-1)*R(2,e),r+=c):(o=t*R(2,c-1)*R(2,e),r=0));e>=8;s[h++]=255&o,o/=256,e-=8);for(r=r<<e|o,a+=e;a>0;s[h++]=255&r,r/=256,a-=8);return s[--h]|=128*d,s}function o(t,e,n){var r,o=8*n-e-1,i=(1<<o)-1,s=i>>1,a=o-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;a>0;l=256*l+t[u],u--,a-=8);for(r=l&(1<<-a)-1,l>>=-a,a+=e;a>0;r=256*r+t[u],u--,a-=8);if(0===l)l=1-s;else{if(l===i)return r?NaN:c?-T:T;r+=R(2,e),l-=s}return(c?-1:1)*r*R(2,l-e)}function i(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function s(t){return[255&t]}function a(t){return[255&t,t>>8&255]}function u(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function c(t){return r(t,52,8)}function l(t){return r(t,23,4)}function h(t,e,n){w(t[I],e,{get:function(){return this[n]}})}function d(t,e,n,r){var o=+n,i=S(o);if(i+e>t[V])throw k(M);var s=t[W]._b,a=i+t[H],u=s.slice(a,a+e);return r?u:u.reverse()}function f(t,e,n,r,o,i){var s=+n,a=S(s);if(a+e>t[V])throw k(M);for(var u=t[W]._b,c=a+t[H],l=r(+o),h=0;h<e;h++)u[c+h]=l[i?h:e-h-1]}var p=n(2),g=n(7),v=n(30),m=n(64),y=n(11),b=n(42),_=n(3),P=n(40),E=n(21),x=n(6),S=n(126),C=n(38).f,w=n(8).f,j=n(87),D=n(44),I="prototype",M="Wrong index!",O=p.ArrayBuffer,A=p.DataView,N=p.Math,k=p.RangeError,T=p.Infinity,L=O,F=N.abs,R=N.pow,B=N.floor,G=N.log,U=N.LN2,W=g?"_b":"buffer",V=g?"_l":"byteLength",H=g?"_o":"byteOffset";if(m.ABV){if(!_(function(){O(1)})||!_(function(){new O(-1)})||_(function(){return new O,new O(1.5),new O(NaN),"ArrayBuffer"!=O.name})){O=function(t){return P(this,O),new L(S(t))};for(var Y,X=O[I]=L[I],z=C(L),q=0;z.length>q;)(Y=z[q++])in O||y(O,Y,L[Y]);v||(X.constructor=O)}var $=new A(new O(2)),K=A[I].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||b(A[I],{setInt8:function(t,e){K.call(this,t,e<<24>>24)},setUint8:function(t,e){K.call(this,t,e<<24>>24)}},!0)}else O=function(t){P(this,O,"ArrayBuffer");var e=S(t);this._b=j.call(new Array(e),0),this[V]=e},A=function(t,e,n){P(this,A,"DataView"),P(t,O,"DataView");var r=t[V],o=E(e);if(o<0||o>r)throw k("Wrong offset!");if(n=void 0===n?r-o:x(n),o+n>r)throw k("Wrong length!");this[W]=t,this[H]=o,this[V]=n},g&&(h(O,"byteLength","_l"),h(A,"buffer","_b"),h(A,"byteLength","_l"),h(A,"byteOffset","_o")),b(A[I],{getInt8:function(t){return d(this,1,t)[0]<<24>>24},getUint8:function(t){return d(this,1,t)[0]},getInt16:function(t){var e=d(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=d(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return i(d(this,4,t,arguments[1]))},getUint32:function(t){return i(d(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return o(d(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return o(d(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){f(this,1,t,s,e)},setUint8:function(t,e){f(this,1,t,s,e)},setInt16:function(t,e){f(this,2,t,a,e,arguments[2])},setUint16:function(t,e){f(this,2,t,a,e,arguments[2])},setInt32:function(t,e){f(this,4,t,u,e,arguments[2])},setUint32:function(t,e){f(this,4,t,u,e,arguments[2])},setFloat32:function(t,e){f(this,4,t,l,e,arguments[2])},setFloat64:function(t,e){f(this,8,t,c,e,arguments[2])}});D(O,"ArrayBuffer"),D(A,"DataView"),y(A[I],m.VIEW,!0),e.ArrayBuffer=O,e.DataView=A},function(t,e){t.exports=React},function(t,e,n){"use strict";(function(e){"production"===e.env.NODE_ENV?t.exports=n(353):t.exports=n(354)}).call(e,n(27))},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){t.exports=!n(7)&&!n(3)(function(){return 7!=Object.defineProperty(n(68)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(5)},function(t,e,n){var r=n(14),o=n(15),i=n(54)(!1),s=n(70)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(8),o=n(1),i=n(35);t.exports=n(7)?Object.defineProperties:function(t,e){o(t);for(var n,s=i(e),a=s.length,u=0;a>u;)r.f(t,n=s[u++],e[n]);return t}},function(t,e,n){var r=n(15),o=n(38).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return o(t)}catch(t){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==i.call(t)?a(t):o(r(t))}},function(t,e,n){"use strict";var r=n(35),o=n(55),i=n(50),s=n(9),a=n(49),u=Object.assign;t.exports=!u||n(3)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=s(t),u=arguments.length,c=1,l=o.f,h=i.f;u>c;)for(var d,f=a(arguments[c++]),p=l?r(f).concat(l(f)):r(f),g=p.length,v=0;g>v;)h.call(f,d=p[v++])&&(n[d]=f[d]);return n}:u},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(10),o=n(4),i=n(106),s=[].slice,a={},u=function(t,e,n){if(!(e in a)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";a[e]=Function("F,a","return new F("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=s.call(arguments,1),a=function(){var r=n.concat(s.call(arguments));return this instanceof a?u(e,r.length,r):i(e,r,t)};return o(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(2).parseInt,o=n(46).trim,i=n(74),s=/^[-+]?0[xX]/;t.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(t,e){var n=o(String(t),3);return r(n,e>>>0||(s.test(n)?16:10))}:r},function(t,e,n){var r=n(2).parseFloat,o=n(46).trim;t.exports=1/r(n(74)+"-0")!=-1/0?function(t){var e=o(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(20);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(4),o=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&o(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(77),o=Math.pow,i=o(2,-52),s=o(2,-23),a=o(2,127)*(2-s),u=o(2,-126),c=function(t){return t+1/i-1/i};t.exports=Math.fround||function(t){var e,n,o=Math.abs(t),l=r(t);return o<u?l*c(o/u/s)*u*s:(e=(1+s/i)*o,n=e-(e-o),n>a||n!=n?l*(1/0):l*n)}},function(t,e,n){var r=n(1);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(10),o=n(9),i=n(49),s=n(6);t.exports=function(t,e,n,a,u){r(e);var c=o(t),l=i(c),h=s(c.length),d=u?h-1:0,f=u?-1:1;if(n<2)for(;;){if(d in l){a=l[d],d+=f;break}if(d+=f,u?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:h>d;d+=f)d in l&&(a=e(a,l[d],d,c));return a}},function(t,e,n){"use strict";var r=n(9),o=n(36),i=n(6);t.exports=[].copyWithin||function(t,e){var n=r(this),s=i(n.length),a=o(t,s),u=o(e,s),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?s:o(c,s))-u,s-a),h=1;for(u<a&&a<u+l&&(h=-1,u+=l-1,a+=l-1);l-- >0;)u in n?n[a]=n[u]:delete n[a],a+=h,u+=h;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(89);n(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){n(7)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(51)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(1),o=n(4),i=n(93);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(122),o=n(43);t.exports=n(63)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(o(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(o(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(8).f,o=n(37),i=n(42),s=n(19),a=n(40),u=n(41),c=n(79),l=n(116),h=n(39),d=n(7),f=n(31).fastKey,p=n(43),g=d?"_s":"size",v=function(t,e){var n,r=f(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){a(t,l,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=r&&u(r,n,t[c],t)});return i(l.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=p(this,e),r=v(n,t);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[g]--}return!!r},forEach:function(t){p(this,e);for(var n,r=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!v(p(this,e),t)}}),d&&r(l.prototype,"size",{get:function(){return p(this,e)[g]}}),l},def:function(t,e,n){var r,o,i=v(t,e);return i?i.v=n:(t._l=i={i:o=f(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[g]++,"F"!==o&&(t._i[o]=i)),t},getEntry:v,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?l(0,n.k):"values"==e?l(0,n.v):l(0,[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var r=n(122),o=n(43);t.exports=n(63)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(o(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,o=n(2),i=n(26)(0),s=n(12),a=n(31),u=n(103),c=n(125),l=n(4),h=n(43),d=n(43),f=!o.ActiveXObject&&"ActiveXObject"in o,p=a.getWeak,g=Object.isExtensible,v=c.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(l(t)){var e=p(t);return!0===e?v(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(h(this,"WeakMap"),t,e)}},b=t.exports=n(63)("WeakMap",m,y,c,!0,!0);d&&f&&(r=c.getConstructor(m,"WeakMap"),u(r.prototype,y),a.NEED=!0,i(["delete","has","get","set"],function(t){var e=b.prototype,n=e[t];s(e,t,function(e,o){if(l(e)&&!g(e)){this._f||(this._f=new r);var i=this._f[t](e,o);return"set"==t?this:i}return n.call(this,e,o)})}))},function(t,e,n){"use strict";var r=n(42),o=n(31).getWeak,i=n(1),s=n(4),a=n(40),u=n(41),c=n(26),l=n(14),h=n(43),d=c(5),f=c(6),p=0,g=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},m=function(t,e){return d(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,i){var c=t(function(t,r){a(t,c,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=r&&u(r,n,t[i],t)});return r(c.prototype,{delete:function(t){if(!s(t))return!1;var n=o(t);return!0===n?g(h(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=o(t);return!0===n?g(h(this,e)).has(t):n&&l(n,this._i)}}),c},def:function(t,e,n){var r=o(i(e),!0);return!0===r?g(t).set(e,n):r[t._i]=n,t},ufstore:g}},function(t,e,n){var r=n(21),o=n(6);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(38),o=n(55),i=n(1),s=n(2).Reflect;t.exports=s&&s.ownKeys||function(t){var e=r.f(i(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";function r(t,e,n,c,l,h,d,f){for(var p,g,v=l,m=0,y=!!d&&a(d,f,3);m<c;){if(m in n){if(p=y?y(n[m],m,e):n[m],g=!1,i(p)&&(g=p[u],g=void 0!==g?!!g:o(p)),g&&h>0)v=r(t,e,p,s(p.length),v,h-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=p}v++}m++}return v}var o=n(56),i=n(4),s=n(6),a=n(19),u=n(5)("isConcatSpreadable");t.exports=r},function(t,e,n){var r=n(6),o=n(76),i=n(24);t.exports=function(t,e,n,s){var a=String(i(t)),u=a.length,c=void 0===n?" ":String(n),l=r(e);if(l<=u||""==c)return a;var h=l-u,d=o.call(c,Math.ceil(h/c.length));return d.length>h&&(d=d.slice(0,h)),s?d+a:a+d}},function(t,e,n){var r=n(35),o=n(15),i=n(50).f;t.exports=function(t){return function(e){for(var n,s=o(e),a=r(s),u=a.length,c=0,l=[];u>c;)i.call(s,n=a[c++])&&l.push(t?[n,s[n]]:s[n]);return l}}},function(t,e,n){var r=n(45),o=n(132);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,e,n){var r=n(41);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,r,o){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||o!=o?NaN:t===1/0||t===-1/0?t:(t-e)*(o-r)/(n-e)+r}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.connect=e.Provider=void 0;var o=n(352),i=r(o),s=n(359),a=r(s);e.Provider=i.default,e.connect=a.default},function(t,e,n){(function(e){if("production"!==e.env.NODE_ENV){var r=n(96);t.exports=n(355)(r.isElement,!0)}else t.exports=n(358)()}).call(e,n(27))},function(t,e,n){"use strict";e.__esModule=!0;var r=n(135),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=o.default.shape({subscribe:o.default.func.isRequired,dispatch:o.default.func.isRequired,getState:o.default.func.isRequired})},function(t,e,n){"use strict";function r(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}e.__esModule=!0,e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function r(){}var o=n(139),i=n(373),s=n(374),a=n(375),u=n(143),c=n(142);n.d(e,"createStore",function(){return o.b}),n.d(e,"combineReducers",function(){return i.a}),n.d(e,"bindActionCreators",function(){return s.a}),n.d(e,"applyMiddleware",function(){return a.a}),n.d(e,"compose",function(){return u.a}),"production"!==t.env.NODE_ENV&&"string"==typeof r.name&&"isCrushed"!==r.name&&Object(c.a)("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build.")}.call(e,n(27))},function(t,e,n){"use strict";function r(t,e,n){function a(){m===v&&(m=v.slice())}function u(){return g}function c(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return a(),m.push(t),function(){if(e){e=!1,a();var n=m.indexOf(t);m.splice(n,1)}}}function l(t){if(!Object(o.a)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,g=p(g,t)}finally{y=!1}for(var e=v=m,n=0;n<e.length;n++){(0,e[n])()}return t}function h(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");p=t,l({type:s.INIT})}function d(){var t,e=c;return t={subscribe:function(t){function n(){t.next&&t.next(u())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:e(n)}}},t[i.a]=function(){return this},t}var f;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var p=t,g=e,v=[],m=v,y=!1;return l({type:s.INIT}),f={dispatch:l,subscribe:c,getState:u,replaceReducer:h},f[i.a]=d,f}n.d(e,"a",function(){return s}),e.b=r;var o=n(140),i=n(370),s={INIT:"@@redux/INIT"}},function(t,e,n){"use strict";function r(t){if(!Object(s.a)(t)||Object(o.a)(t)!=a)return!1;var e=Object(i.a)(t);if(null===e)return!0;var n=h.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}var o=n(362),i=n(367),s=n(369),a="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,h=c.hasOwnProperty,d=l.call(Object);e.a=r},function(t,e,n){"use strict";var r=n(363),o=r.a.Symbol;e.a=o},function(t,e,n){"use strict";function r(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}e.a=r},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}e.a=r},function(t,e,n){var r=n(378),o=r.Symbol;t.exports=o},function(t,e,n){n(146),n(348),t.exports=n(349)},function(t,e,n){"use strict";(function(t){function e(t,e,n){t[e]||Object[r](t,e,{writable:!0,configurable:!0,value:n})}if(n(147),n(344),n(345),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var r="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,n(53))},function(t,e,n){n(148),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(228),n(229),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(88),n(252),n(117),n(253),n(118),n(254),n(255),n(256),n(257),n(258),n(121),n(123),n(124),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),t.exports=n(18)},function(t,e,n){"use strict";var r=n(2),o=n(14),i=n(7),s=n(0),a=n(12),u=n(31).KEY,c=n(3),l=n(48),h=n(44),d=n(34),f=n(5),p=n(99),g=n(69),v=n(150),m=n(56),y=n(1),b=n(4),_=n(15),P=n(23),E=n(33),x=n(37),S=n(102),C=n(16),w=n(8),j=n(35),D=C.f,I=w.f,M=S.f,O=r.Symbol,A=r.JSON,N=A&&A.stringify,k=f("_hidden"),T=f("toPrimitive"),L={}.propertyIsEnumerable,F=l("symbol-registry"),R=l("symbols"),B=l("op-symbols"),G=Object.prototype,U="function"==typeof O,W=r.QObject,V=!W||!W.prototype||!W.prototype.findChild,H=i&&c(function(){return 7!=x(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=D(G,e);r&&delete G[e],I(t,e,n),r&&t!==G&&I(G,e,r)}:I,Y=function(t){var e=R[t]=x(O.prototype);return e._k=t,e},X=U&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},z=function(t,e,n){return t===G&&z(B,e,n),y(t),e=P(e,!0),y(n),o(R,e)?(n.enumerable?(o(t,k)&&t[k][e]&&(t[k][e]=!1),n=x(n,{enumerable:E(0,!1)})):(o(t,k)||I(t,k,E(1,{})),t[k][e]=!0),H(t,e,n)):I(t,e,n)},q=function(t,e){y(t);for(var n,r=v(e=_(e)),o=0,i=r.length;i>o;)z(t,n=r[o++],e[n]);return t},$=function(t,e){return void 0===e?x(t):q(x(t),e)},K=function(t){var e=L.call(this,t=P(t,!0));return!(this===G&&o(R,t)&&!o(B,t))&&(!(e||!o(this,t)||!o(R,t)||o(this,k)&&this[k][t])||e)},J=function(t,e){if(t=_(t),e=P(e,!0),t!==G||!o(R,e)||o(B,e)){var n=D(t,e);return!n||!o(R,e)||o(t,k)&&t[k][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=M(_(t)),r=[],i=0;n.length>i;)o(R,e=n[i++])||e==k||e==u||r.push(e);return r},Z=function(t){for(var e,n=t===G,r=M(n?B:_(t)),i=[],s=0;r.length>s;)!o(R,e=r[s++])||n&&!o(G,e)||i.push(R[e]);return i};U||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(B,n),o(this,k)&&o(this[k],t)&&(this[k][t]=!1),H(this,t,E(1,n))};return i&&V&&H(G,t,{configurable:!0,set:e}),Y(t)},a(O.prototype,"toString",function(){return this._k}),C.f=J,w.f=z,n(38).f=S.f=Q,n(50).f=K,n(55).f=Z,i&&!n(30)&&a(G,"propertyIsEnumerable",K,!0),p.f=function(t){return Y(f(t))}),s(s.G+s.W+s.F*!U,{Symbol:O});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)f(tt[et++]);for(var nt=j(f.store),rt=0;nt.length>rt;)g(nt[rt++]);s(s.S+s.F*!U,"Symbol",{for:function(t){return o(F,t+="")?F[t]:F[t]=O(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!U,"Object",{create:$,defineProperty:z,defineProperties:q,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),A&&s(s.S+s.F*(!U||c(function(){var t=O();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(b(e)||void 0!==t)&&!X(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!X(e))return e}),r[1]=e,N.apply(A,r)}}),O.prototype[T]||n(11)(O.prototype,T,O.prototype.valueOf),h(O,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){t.exports=n(48)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(35),o=n(55),i=n(50);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var s,a=n(t),u=i.f,c=0;a.length>c;)u.call(t,s=a[c++])&&e.push(s);return e}},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(37)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperty:n(8).f})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperties:n(101)})},function(t,e,n){var r=n(15),o=n(16).f;n(25)("getOwnPropertyDescriptor",function(){return function(t,e){return o(r(t),e)}})},function(t,e,n){var r=n(9),o=n(17);n(25)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(9),o=n(35);n(25)("keys",function(){return function(t){return o(r(t))}})},function(t,e,n){n(25)("getOwnPropertyNames",function(){return n(102).f})},function(t,e,n){var r=n(4),o=n(31).onFreeze;n(25)("freeze",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(4),o=n(31).onFreeze;n(25)("seal",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(4),o=n(31).onFreeze;n(25)("preventExtensions",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(4);n(25)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(4);n(25)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(4);n(25)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(103)})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(104)})},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(73).set})},function(t,e,n){"use strict";var r=n(45),o={};o[n(5)("toStringTag")]="z",o+""!="[object z]"&&n(12)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(105)})},function(t,e,n){var r=n(8).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(7)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(4),o=n(17),i=n(5)("hasInstance"),s=Function.prototype;i in s||n(8).f(s,i,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(0),o=n(107);r(r.G+r.F*(parseInt!=o),{parseInt:o})},function(t,e,n){var r=n(0),o=n(108);r(r.G+r.F*(parseFloat!=o),{parseFloat:o})},function(t,e,n){"use strict";var r=n(2),o=n(14),i=n(20),s=n(75),a=n(23),u=n(3),c=n(38).f,l=n(16).f,h=n(8).f,d=n(46).trim,f=r.Number,p=f,g=f.prototype,v="Number"==i(n(37)(g)),m="trim"in String.prototype,y=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=m?e.trim():d(e,3);var n,r,o,i=e.charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var s,u=e.slice(2),c=0,l=u.length;c<l;c++)if((s=u.charCodeAt(c))<48||s>o)return NaN;return parseInt(u,r)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof f&&(v?u(function(){g.valueOf.call(n)}):"Number"!=i(n))?s(new p(y(e)),n,f):y(e)};for(var b,_=n(7)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;_.length>P;P++)o(p,b=_[P])&&!o(f,b)&&h(f,b,l(p,b));f.prototype=g,g.constructor=f,n(12)(r,"Number",f)}},function(t,e,n){"use strict";var r=n(0),o=n(21),i=n(109),s=n(76),a=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*c[n],c[n]=r%1e7,r=u(r/1e7)},d=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},f=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+s.call("0",7-n.length)+n}return e},p=function(t,e,n){return 0===e?n:e%2==1?p(t,e-1,n*t):p(t*t,e/2,n)},g=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)(function(){a.call({})})),"Number",{toFixed:function(t){var e,n,r,a,u=i(this,l),c=o(t),v="",m="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(v="-",u=-u),u>1e-21)if(e=g(u*p(2,69,1))-69,n=e<0?u*p(2,-e,1):u/p(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),r=c;r>=7;)h(1e7,0),r-=7;for(h(p(10,r,1),0),r=e-1;r>=23;)d(1<<23),r-=23;d(1<<r),h(1,1),d(2),m=f()}else h(0,n),h(1<<-e,0),m=f()+s.call("0",c);return c>0?(a=m.length,m=v+(a<=c?"0."+s.call("0",c-a)+m:m.slice(0,a-c)+"."+m.slice(a-c))):m=v+m,m}})},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(109),s=1..toPrecision;r(r.P+r.F*(o(function(){return"1"!==s.call(1,void 0)})||!o(function(){s.call({})})),"Number",{toPrecision:function(t){var e=i(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(0),o=n(2).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&o(t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isInteger:n(110)})},function(t,e,n){var r=n(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),o=n(110),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return o(t)&&i(t)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),o=n(108);r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(t,e,n){var r=n(0),o=n(107);r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(t,e,n){var r=n(0),o=n(111),i=Math.sqrt,s=Math.acosh;r(r.S+r.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:o(t-1+i(t-1)*i(t+1))}})},function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var o=n(0),i=Math.asinh;o(o.S+o.F*!(i&&1/i(0)>0),"Math",{asinh:r})},function(t,e,n){var r=n(0),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),o=n(77);r(r.S,"Math",{cbrt:function(t){return o(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),o=Math.exp;r(r.S,"Math",{cosh:function(t){return(o(t=+t)+o(-t))/2}})},function(t,e,n){var r=n(0),o=n(78);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(t,e,n){var r=n(0);r(r.S,"Math",{fround:n(112)})},function(t,e,n){var r=n(0),o=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,i=0,s=0,a=arguments.length,u=0;s<a;)n=o(arguments[s++]),u<n?(r=u/n,i=i*r*r+1,u=n):n>0?(r=n/u,i+=r*r):i+=n;return u===1/0?1/0:u*Math.sqrt(i)}})},function(t,e,n){var r=n(0),o=Math.imul;r(r.S+r.F*n(3)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(t,e){var n=+t,r=+e,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log1p:n(111)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{sign:n(77)})},function(t,e,n){var r=n(0),o=n(78),i=Math.exp;r(r.S+r.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(o(t)-o(-t))/2:(i(t-1)-i(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(0),o=n(78),i=Math.exp;r(r.S,"Math",{tanh:function(t){var e=o(t=+t),n=o(-t);return e==1/0?1:n==1/0?-1:(e-n)/(i(t)+i(-t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(0),o=n(36),i=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,s=0;r>s;){if(e=+arguments[s++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?i(e):i(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(0),o=n(15),i=n(6);r(r.S,"String",{raw:function(t){for(var e=o(t.raw),n=i(e.length),r=arguments.length,s=[],a=0;n>a;)s.push(String(e[a++])),a<r&&s.push(String(arguments[a]));return s.join("")}})},function(t,e,n){"use strict";n(46)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(57)(!0);n(79)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(0),o=n(57)(!1);r(r.P,"String",{codePointAt:function(t){return o(this,t)}})},function(t,e,n){"use strict";var r=n(0),o=n(6),i=n(81),s="".endsWith;r(r.P+r.F*n(82)("endsWith"),"String",{endsWith:function(t){var e=i(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(e.length),a=void 0===n?r:Math.min(o(n),r),u=String(t);return s?s.call(e,u,a):e.slice(a-u.length,a)===u}})},function(t,e,n){"use strict";var r=n(0),o=n(81);r(r.P+r.F*n(82)("includes"),"String",{includes:function(t){return!!~o(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(0);r(r.P,"String",{repeat:n(76)})},function(t,e,n){"use strict";var r=n(0),o=n(6),i=n(81),s="".startsWith;r(r.P+r.F*n(82)("startsWith"),"String",{startsWith:function(t){var e=i(this,t,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(13)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(13)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(13)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(13)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(13)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(13)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(13)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(13)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(13)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(13)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(13)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(13)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(13)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(23);r(r.P+r.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=o(this),n=i(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(0),o=n(227);r(r.P+r.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(t,e,n){"use strict";var r=n(3),o=Date.prototype.getTime,i=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!r(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:i},function(t,e,n){var r=Date.prototype,o=r.toString,i=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(12)(r,"toString",function(){var t=i.call(this);return t===t?o.call(this):"Invalid Date"})},function(t,e,n){var r=n(5)("toPrimitive"),o=Date.prototype;r in o||n(11)(o,r,n(230))},function(t,e,n){"use strict";var r=n(1),o=n(23);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return o(r(this),"number"!=t)}},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(56)})},function(t,e,n){"use strict";var r=n(19),o=n(0),i=n(9),s=n(113),a=n(83),u=n(6),c=n(84),l=n(85);o(o.S+o.F*!n(59)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,h,d=i(t),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,m=0,y=l(d);if(v&&(g=r(g,p>2?arguments[2]:void 0,2)),void 0==y||f==Array&&a(y))for(e=u(d.length),n=new f(e);e>m;m++)c(n,m,v?g(d[m],m):d[m]);else for(h=y.call(d),n=new f;!(o=h.next()).done;m++)c(n,m,v?s(h,g,[o.value,m],!0):o.value);return n.length=m,n}})},function(t,e,n){"use strict";var r=n(0),o=n(84);r(r.S+r.F*n(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)o(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(0),o=n(15),i=[].join;r(r.P+r.F*(n(49)!=Object||!n(22)(i)),"Array",{join:function(t){return i.call(o(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(0),o=n(72),i=n(20),s=n(36),a=n(6),u=[].slice;r(r.P+r.F*n(3)(function(){o&&u.call(o)}),"Array",{slice:function(t,e){var n=a(this.length),r=i(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var o=s(t,n),c=s(e,n),l=a(c-o),h=new Array(l),d=0;d<l;d++)h[d]="String"==r?this.charAt(o+d):this[o+d];return h}})},function(t,e,n){"use strict";var r=n(0),o=n(10),i=n(9),s=n(3),a=[].sort,u=[1,2,3];r(r.P+r.F*(s(function(){u.sort(void 0)})||!s(function(){u.sort(null)})||!n(22)(a)),"Array",{sort:function(t){return void 0===t?a.call(i(this)):a.call(i(this),o(t))}})},function(t,e,n){"use strict";var r=n(0),o=n(26)(0),i=n(22)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},function(t,e,n){var r=n(4),o=n(56),i=n(5)("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(0),o=n(26)(1);r(r.P+r.F*!n(22)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(26)(2);r(r.P+r.F*!n(22)([].filter,!0),"Array",{filter:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(26)(3);r(r.P+r.F*!n(22)([].some,!0),"Array",{some:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(26)(4);r(r.P+r.F*!n(22)([].every,!0),"Array",{every:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(114);r(r.P+r.F*!n(22)([].reduce,!0),"Array",{reduce:function(t){return o(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(0),o=n(114);r(r.P+r.F*!n(22)([].reduceRight,!0),"Array",{reduceRight:function(t){return o(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(0),o=n(54)(!1),i=[].indexOf,s=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(s||!n(22)(i)),"Array",{indexOf:function(t){return s?i.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(15),i=n(21),s=n(6),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(22)(a)),"Array",{lastIndexOf:function(t){if(u)return a.apply(this,arguments)||0;var e=o(this),n=s(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(115)}),n(32)("copyWithin")},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(87)}),n(32)("fill")},function(t,e,n){"use strict";var r=n(0),o=n(26)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(32)("find")},function(t,e,n){"use strict";var r=n(0),o=n(26)(6),i="findIndex",s=!0;i in[]&&Array(1)[i](function(){s=!1}),r(r.P+r.F*s,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(32)(i)},function(t,e,n){n(39)("Array")},function(t,e,n){var r=n(2),o=n(75),i=n(8).f,s=n(38).f,a=n(58),u=n(51),c=r.RegExp,l=c,h=c.prototype,d=/a/g,f=/a/g,p=new c(d)!==d;if(n(7)&&(!p||n(3)(function(){return f[n(5)("match")]=!1,c(d)!=d||c(f)==f||"/a/i"!=c(d,"i")}))){c=function(t,e){var n=this instanceof c,r=a(t),i=void 0===e;return!n&&r&&t.constructor===c&&i?t:o(p?new l(r&&!i?t.source:t,e):l((r=t instanceof c)?t.source:t,r&&i?u.call(t):e),n?this:h,c)};for(var g=s(l),v=0;g.length>v;)!function(t){t in c||i(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})}(g[v++]);h.constructor=c,c.prototype=h,n(12)(r,"RegExp",c)}n(39)("RegExp")},function(t,e,n){"use strict";n(118);var r=n(1),o=n(51),i=n(7),s=/./.toString,a=function(t){n(12)(RegExp.prototype,"toString",t,!0)};n(3)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?a(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?o.call(t):void 0)}):"toString"!=s.name&&a(function(){return s.call(this)})},function(t,e,n){"use strict";var r=n(1),o=n(6),i=n(90),s=n(60);n(61)("match",1,function(t,e,n,a){return[function(n){var r=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var u=r(t),c=String(this);if(!u.global)return s(u,c);var l=u.unicode;u.lastIndex=0;for(var h,d=[],f=0;null!==(h=s(u,c));){var p=String(h[0]);d[f]=p,""===p&&(u.lastIndex=i(c,o(u.lastIndex),l)),f++}return 0===f?null:d}]})},function(t,e,n){"use strict";var r=n(1),o=n(9),i=n(6),s=n(21),a=n(90),u=n(60),c=Math.max,l=Math.min,h=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};n(61)("replace",2,function(t,e,n,g){function v(t,e,r,i,s,a){var u=r+t.length,c=i.length,l=f;return void 0!==s&&(s=o(s),l=d),n.call(a,l,function(n,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":a=s[o.slice(1,-1)];break;default:var l=+o;if(0===l)return n;if(l>c){var d=h(l/10);return 0===d?n:d<=c?void 0===i[d-1]?o.charAt(1):i[d-1]+o.charAt(1):n}a=i[l-1]}return void 0===a?"":a})}return[function(r,o){var i=t(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,i,o):n.call(String(i),r,o)},function(t,e){var o=g(n,t,this,e);if(o.done)return o.value;var h=r(t),d=String(this),f="function"==typeof e;f||(e=String(e));var m=h.global;if(m){var y=h.unicode;h.lastIndex=0}for(var b=[];;){var _=u(h,d);if(null===_)break;if(b.push(_),!m)break;""===String(_[0])&&(h.lastIndex=a(d,i(h.lastIndex),y))}for(var P="",E=0,x=0;x<b.length;x++){_=b[x];for(var S=String(_[0]),C=c(l(s(_.index),d.length),0),w=[],j=1;j<_.length;j++)w.push(p(_[j]));var D=_.groups;if(f){var I=[S].concat(w,C,d);void 0!==D&&I.push(D);var M=String(e.apply(void 0,I))}else M=v(S,d,C,w,D,e);C>=E&&(P+=d.slice(E,C)+M,E=C+S.length)}return P+d.slice(E)}]})},function(t,e,n){"use strict";var r=n(1),o=n(104),i=n(60);n(61)("search",1,function(t,e,n,s){return[function(n){var r=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var a=r(t),u=String(this),c=a.lastIndex;o(c,0)||(a.lastIndex=0);var l=i(a,u);return o(a.lastIndex,c)||(a.lastIndex=c),null===l?-1:l.index}]})},function(t,e,n){"use strict";var r=n(58),o=n(1),i=n(52),s=n(90),a=n(6),u=n(60),c=n(89),l=n(3),h=Math.min,d=[].push,f="length",p=!l(function(){RegExp(4294967295,"y")});n(61)("split",2,function(t,e,n,l){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[f]||2!="ab".split(/(?:ab)*/)[f]||4!=".".split(/(.?)(.?)/)[f]||".".split(/()()/)[f]>1||"".split(/.?/)[f]?function(t,e){var o=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(o,t,e);for(var i,s,a,u=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,p=void 0===e?4294967295:e>>>0,g=new RegExp(t.source,l+"g");(i=c.call(g,o))&&!((s=g.lastIndex)>h&&(u.push(o.slice(h,i.index)),i[f]>1&&i.index<o[f]&&d.apply(u,i.slice(1)),a=i[0][f],h=s,u[f]>=p));)g.lastIndex===i.index&&g.lastIndex++;return h===o[f]?!a&&g.test("")||u.push(""):u.push(o.slice(h)),u[f]>p?u.slice(0,p):u}:"0".split(void 0,0)[f]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var o=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,o,r):g.call(String(o),n,r)},function(t,e){var r=l(g,t,this,e,g!==n);if(r.done)return r.value;var c=o(t),d=String(this),f=i(c,RegExp),v=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(p?"y":"g"),y=new f(p?c:"^(?:"+c.source+")",m),b=void 0===e?4294967295:e>>>0;if(0===b)return[];if(0===d.length)return null===u(y,d)?[d]:[];for(var _=0,P=0,E=[];P<d.length;){y.lastIndex=p?P:0;var x,S=u(y,p?d:d.slice(P));if(null===S||(x=h(a(y.lastIndex+(p?0:P)),d.length))===_)P=s(d,P,v);else{if(E.push(d.slice(_,P)),E.length===b)return E;for(var C=1;C<=S.length-1;C++)if(E.push(S[C]),E.length===b)return E;P=_=x}}return E.push(d.slice(_)),E}]})},function(t,e,n){"use strict";var r,o,i,s,a=n(30),u=n(2),c=n(19),l=n(45),h=n(0),d=n(4),f=n(10),p=n(40),g=n(41),v=n(52),m=n(91).set,y=n(92)(),b=n(93),_=n(119),P=n(62),E=n(120),x=u.TypeError,S=u.process,C=S&&S.versions,w=C&&C.v8||"",j=u.Promise,D="process"==l(S),I=function(){},M=o=b.f,O=!!function(){try{var t=j.resolve(1),e=(t.constructor={})[n(5)("species")]=function(t){t(I,I)};return(D||"function"==typeof PromiseRejectionEvent)&&t.then(I)instanceof e&&0!==w.indexOf("6.6")&&-1===P.indexOf("Chrome/66")}catch(t){}}(),A=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,o=1==t._s,i=0;n.length>i;)!function(e){var n,i,s,a=o?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{a?(o||(2==t._h&&L(t),t._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&(l.exit(),s=!0)),n===e.promise?c(x("Promise-chain cycle")):(i=A(n))?i.call(n,u,c):u(n)):c(r)}catch(t){l&&!s&&l.exit(),c(t)}}(n[i++]);t._c=[],t._n=!1,e&&!t._h&&k(t)})}},k=function(t){m.call(u,function(){var e,n,r,o=t._v,i=T(t);if(i&&(e=_(function(){D?S.emit("unhandledRejection",o,t):(n=u.onunhandledrejection)?n({promise:t,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=D||T(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},T=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){m.call(u,function(){var e;D?S.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},R=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(e=A(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,c(R,r,1),c(F,r,1))}catch(t){F.call(r,t)}}):(n._v=t,n._s=1,N(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};O||(j=function(t){p(this,j,"Promise","_h"),f(t),r.call(this);try{t(c(R,this,1),c(F,this,1))}catch(t){F.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(42)(j.prototype,{then:function(t,e){var n=M(v(this,j));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=D?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=c(R,t,1),this.reject=c(F,t,1)},b.f=M=function(t){return t===j||t===s?new i(t):o(t)}),h(h.G+h.W+h.F*!O,{Promise:j}),n(44)(j,"Promise"),n(39)("Promise"),s=n(18).Promise,h(h.S+h.F*!O,"Promise",{reject:function(t){var e=M(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(a||!O),"Promise",{resolve:function(t){return E(a&&this===s?j:this,t)}}),h(h.S+h.F*!(O&&n(59)(function(t){j.all(t).catch(I)})),"Promise",{all:function(t){var e=this,n=M(e),r=n.resolve,o=n.reject,i=_(function(){var n=[],i=0,s=1;g(t,!1,function(t){var a=i++,u=!1;n.push(void 0),s++,e.resolve(t).then(function(t){u||(u=!0,n[a]=t,--s||r(n))},o)}),--s||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=M(e),r=n.reject,o=_(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(t,e,n){"use strict";var r=n(125),o=n(43);n(63)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(o(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(0),o=n(64),i=n(94),s=n(1),a=n(36),u=n(6),c=n(4),l=n(2).ArrayBuffer,h=n(52),d=i.ArrayBuffer,f=i.DataView,p=o.ABV&&l.isView,g=d.prototype.slice,v=o.VIEW;r(r.G+r.W+r.F*(l!==d),{ArrayBuffer:d}),r(r.S+r.F*!o.CONSTR,"ArrayBuffer",{isView:function(t){return p&&p(t)||c(t)&&v in t}}),r(r.P+r.U+r.F*n(3)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(s(this),t);for(var n=s(this).byteLength,r=a(t,n),o=a(void 0===e?n:e,n),i=new(h(this,d))(u(o-r)),c=new f(this),l=new f(i),p=0;r<o;)l.setUint8(p++,c.getUint8(r++));return i}}),n(39)("ArrayBuffer")},function(t,e,n){var r=n(0);r(r.G+r.W+r.F*!n(64).ABV,{DataView:n(94).DataView})},function(t,e,n){n(28)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(28)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(28)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(28)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(28)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(28)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(28)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(28)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(28)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(0),o=n(10),i=n(1),s=(n(2).Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!n(3)(function(){s(function(){})}),"Reflect",{apply:function(t,e,n){var r=o(t),u=i(n);return s?s(r,e,u):a.call(r,e,u)}})},function(t,e,n){var r=n(0),o=n(37),i=n(10),s=n(1),a=n(4),u=n(3),c=n(105),l=(n(2).Reflect||{}).construct,h=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),d=!u(function(){l(function(){})});r(r.S+r.F*(h||d),"Reflect",{construct:function(t,e){i(t),s(e);var n=arguments.length<3?t:i(arguments[2]);if(d&&!h)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var u=n.prototype,f=o(a(u)?u:Object.prototype),p=Function.apply.call(t,f,e);return a(p)?p:f}})},function(t,e,n){var r=n(8),o=n(0),i=n(1),s=n(23);o(o.S+o.F*n(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){i(t),e=s(e,!0),i(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),o=n(16).f,i=n(1);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=o(i(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(0),o=n(1),i=function(t){this._t=o(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(80)(i,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new i(t)}})},function(t,e,n){function r(t,e){var n,a,l=arguments.length<3?t:arguments[2];return c(t)===l?t[e]:(n=o.f(t,e))?s(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:u(a=i(t))?r(a,e,l):void 0}var o=n(16),i=n(17),s=n(14),a=n(0),u=n(4),c=n(1);a(a.S,"Reflect",{get:r})},function(t,e,n){var r=n(16),o=n(0),i=n(1);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(i(t),e)}})},function(t,e,n){var r=n(0),o=n(17),i=n(1);r(r.S,"Reflect",{getPrototypeOf:function(t){return o(i(t))}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),o=n(1),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return o(t),!i||i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(127)})},function(t,e,n){var r=n(0),o=n(1),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){o(t);try{return i&&i(t),!0}catch(t){return!1}}})},function(t,e,n){function r(t,e,n){var u,d,f=arguments.length<4?t:arguments[3],p=i.f(l(t),e);if(!p){if(h(d=s(t)))return r(d,e,n,f);p=c(0)}if(a(p,"value")){if(!1===p.writable||!h(f))return!1;if(u=i.f(f,e)){if(u.get||u.set||!1===u.writable)return!1;u.value=n,o.f(f,e,u)}else o.f(f,e,c(0,n));return!0}return void 0!==p.set&&(p.set.call(f,n),!0)}var o=n(8),i=n(16),s=n(17),a=n(14),u=n(0),c=n(33),l=n(1),h=n(4);u(u.S,"Reflect",{set:r})},function(t,e,n){var r=n(0),o=n(73);o&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){o.check(t,e);try{return o.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var r=n(0),o=n(54)(!0);r(r.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(32)("includes")},function(t,e,n){"use strict";var r=n(0),o=n(128),i=n(9),s=n(6),a=n(10),u=n(86);r(r.P,"Array",{flatMap:function(t){var e,n,r=i(this);return a(t),e=s(r.length),n=u(r,0),o(n,r,r,e,0,1,t,arguments[1]),n}}),n(32)("flatMap")},function(t,e,n){"use strict";var r=n(0),o=n(128),i=n(9),s=n(6),a=n(21),u=n(86);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=i(this),n=s(e.length),r=u(e,0);return o(r,e,e,n,0,void 0===t?1:a(t)),r}}),n(32)("flatten")},function(t,e,n){"use strict";var r=n(0),o=n(57)(!0);r(r.P,"String",{at:function(t){return o(this,t)}})},function(t,e,n){"use strict";var r=n(0),o=n(129),i=n(62),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*s,"String",{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var r=n(0),o=n(129),i=n(62),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*s,"String",{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(46)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(46)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var r=n(0),o=n(24),i=n(6),s=n(58),a=n(51),u=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n(80)(c,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(o(this),!s(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):a.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=i(t.lastIndex),new c(r,e)}})},function(t,e,n){n(69)("asyncIterator")},function(t,e,n){n(69)("observable")},function(t,e,n){var r=n(0),o=n(127),i=n(15),s=n(16),a=n(84);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=i(t),u=s.f,c=o(r),l={},h=0;c.length>h;)void 0!==(n=u(r,e=c[h++]))&&a(l,e,n);return l}})},function(t,e,n){var r=n(0),o=n(130)(!1);r(r.S,"Object",{values:function(t){return o(t)}})},function(t,e,n){var r=n(0),o=n(130)(!0);r(r.S,"Object",{entries:function(t){return o(t)}})},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(10),s=n(8);n(7)&&r(r.P+n(65),"Object",{__defineGetter__:function(t,e){s.f(o(this),t,{get:i(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(10),s=n(8);n(7)&&r(r.P+n(65),"Object",{__defineSetter__:function(t,e){s.f(o(this),t,{set:i(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(23),s=n(17),a=n(16).f;n(7)&&r(r.P+n(65),"Object",{__lookupGetter__:function(t){var e,n=o(this),r=i(t,!0);do{if(e=a(n,r))return e.get}while(n=s(n))}})},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(23),s=n(17),a=n(16).f;n(7)&&r(r.P+n(65),"Object",{__lookupSetter__:function(t){var e,n=o(this),r=i(t,!0);do{if(e=a(n,r))return e.set}while(n=s(n))}})},function(t,e,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(131)("Map")})},function(t,e,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(131)("Set")})},function(t,e,n){n(66)("Map")},function(t,e,n){n(66)("Set")},function(t,e,n){n(66)("WeakMap")},function(t,e,n){n(66)("WeakSet")},function(t,e,n){n(67)("Map")},function(t,e,n){n(67)("Set")},function(t,e,n){n(67)("WeakMap")},function(t,e,n){n(67)("WeakSet")},function(t,e,n){var r=n(0);r(r.G,{global:n(2)})},function(t,e,n){var r=n(0);r(r.S,"System",{global:n(2)})},function(t,e,n){var r=n(0),o=n(20);r(r.S,"Error",{isError:function(t){return"Error"===o(t)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(0),o=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*o}})},function(t,e,n){var r=n(0),o=n(133),i=n(112);r(r.S,"Math",{fscale:function(t,e,n,r,s){return i(o(t,e,n,r,s))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{iaddh:function(t,e,n,r){var o=t>>>0,i=e>>>0,s=n>>>0;return i+(r>>>0)+((o&s|(o|s)&~(o+s>>>0))>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{isubh:function(t,e,n,r){var o=t>>>0,i=e>>>0,s=n>>>0;return i-(r>>>0)-((~o&s|~(o^s)&o-s>>>0)>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{imulh:function(t,e){var n=+t,r=+e,o=65535&n,i=65535&r,s=n>>16,a=r>>16,u=(s*i>>>0)+(o*i>>>16);return s*a+(u>>16)+((o*a>>>0)+(65535&u)>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(0),o=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*o}})},function(t,e,n){var r=n(0);r(r.S,"Math",{scale:n(133)})},function(t,e,n){var r=n(0);r(r.S,"Math",{umulh:function(t,e){var n=+t,r=+e,o=65535&n,i=65535&r,s=n>>>16,a=r>>>16,u=(s*i>>>0)+(o*i>>>16);return s*a+(u>>>16)+((o*a>>>0)+(65535&u)>>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){"use strict";var r=n(0),o=n(18),i=n(2),s=n(52),a=n(120);r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(0),o=n(93),i=n(119);r(r.S,"Promise",{try:function(t){var e=o.f(this),n=i(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(29),o=n(1),i=r.key,s=r.set;r.exp({defineMetadata:function(t,e,n,r){s(t,e,o(n),i(r))}})},function(t,e,n){var r=n(29),o=n(1),i=r.key,s=r.map,a=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:i(arguments[2]),r=s(o(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var u=a.get(e);return u.delete(n),!!u.size||a.delete(e)}})},function(t,e,n){var r=n(29),o=n(1),i=n(17),s=r.has,a=r.get,u=r.key,c=function(t,e,n){if(s(t,e,n))return a(t,e,n);var r=i(e);return null!==r?c(t,r,n):void 0};r.exp({getMetadata:function(t,e){return c(t,o(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,n){var r=n(123),o=n(132),i=n(29),s=n(1),a=n(17),u=i.keys,c=i.key,l=function(t,e){var n=u(t,e),i=a(t);if(null===i)return n;var s=l(i,e);return s.length?n.length?o(new r(n.concat(s))):s:n};i.exp({getMetadataKeys:function(t){return l(s(t),arguments.length<2?void 0:c(arguments[1]))}})},function(t,e,n){var r=n(29),o=n(1),i=r.get,s=r.key;r.exp({getOwnMetadata:function(t,e){return i(t,o(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(29),o=n(1),i=r.keys,s=r.key;r.exp({getOwnMetadataKeys:function(t){return i(o(t),arguments.length<2?void 0:s(arguments[1]))}})},function(t,e,n){var r=n(29),o=n(1),i=n(17),s=r.has,a=r.key,u=function(t,e,n){if(s(t,e,n))return!0;var r=i(e);return null!==r&&u(t,r,n)};r.exp({hasMetadata:function(t,e){return u(t,o(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(29),o=n(1),i=r.has,s=r.key;r.exp({hasOwnMetadata:function(t,e){return i(t,o(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(29),o=n(1),i=n(10),s=r.key,a=r.set;r.exp({metadata:function(t,e){return function(n,r){a(t,e,(void 0!==r?o:i)(n),s(r))}}})},function(t,e,n){var r=n(0),o=n(92)(),i=n(2).process,s="process"==n(20)(i);r(r.G,{asap:function(t){var e=s&&i.domain;o(e?e.bind(t):t)}})},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(18),s=n(92)(),a=n(5)("observable"),u=n(10),c=n(1),l=n(40),h=n(42),d=n(11),f=n(41),p=f.RETURN,g=function(t){return null==t?void 0:u(t)},v=function(t){var e=t._c;e&&(t._c=void 0,e())},m=function(t){return void 0===t._o},y=function(t){m(t)||(t._o=void 0,v(t))},b=function(t,e){c(t),this._c=void 0,this._o=t,t=new _(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(e){return void t.error(e)}m(this)&&v(this)};b.prototype=h({},{unsubscribe:function(){y(this)}});var _=function(t){this._s=t};_.prototype=h({},{next:function(t){var e=this._s;if(!m(e)){var n=e._o;try{var r=g(n.next);if(r)return r.call(n,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(m(e))throw t;var n=e._o;e._o=void 0;try{var r=g(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{v(e)}finally{throw t}}return v(e),t},complete:function(t){var e=this._s;if(!m(e)){var n=e._o;e._o=void 0;try{var r=g(n.complete);t=r?r.call(n,t):void 0}catch(t){try{v(e)}finally{throw t}}return v(e),t}}});var P=function(t){l(this,P,"Observable","_f")._f=u(t)};h(P.prototype,{subscribe:function(t){return new b(t,this._f)},forEach:function(t){var e=this;return new(i.Promise||o.Promise)(function(n,r){u(t);var o=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),o.unsubscribe()}},error:r,complete:n})})}}),h(P,{from:function(t){var e="function"==typeof this?this:P,n=g(c(t)[a]);if(n){var r=c(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return s(function(){if(!n){try{if(f(t,!1,function(t){if(e.next(t),n)return p})===p)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:P)(function(t){var e=!1;return s(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),d(P.prototype,a,function(){return this}),r(r.G,{Observable:P}),n(39)("Observable")},function(t,e,n){var r=n(2),o=n(0),i=n(62),s=[].slice,a=/MSIE .\./.test(i),u=function(t){return function(e,n){var r=arguments.length>2,o=!!r&&s.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,n)}};o(o.G+o.B+o.F*a,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){var r=n(0),o=n(91);r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},function(t,e,n){for(var r=n(88),o=n(35),i=n(12),s=n(2),a=n(11),u=n(47),c=n(5),l=c("iterator"),h=c("toStringTag"),d=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=o(f),g=0;g<p.length;g++){var v,m=p[g],y=f[m],b=s[m],_=b&&b.prototype;if(_&&(_[l]||a(_,l,d),_[h]||a(_,h,m),u[m]=d,y))for(v in r)_[v]||i(_,v,r[v],!0)}},function(t,e){!function(e){"use strict";function n(t,e,n,r){var i=e&&e.prototype instanceof o?e:o,s=Object.create(i.prototype),a=new f(r||[]);return s._invoke=c(t,n,a),s}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function o(){}function i(){}function s(){}function a(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function e(n,o,i,s){var a=r(t[n],t,o);if("throw"!==a.type){var u=a.arg,c=u.value;return c&&"object"==typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,i,s)},function(t){e("throw",t,i,s)}):Promise.resolve(c).then(function(t){u.value=t,i(u)},s)}s(a.arg)}function n(t,n){function r(){return new Promise(function(r,o){e(t,n,r,o)})}return o=o?o.then(r,r):r()}var o;this._invoke=n}function c(t,e,n){var o=C;return function(i,s){if(o===j)throw new Error("Generator is already running");if(o===D){if("throw"===i)throw s;return g()}for(n.method=i,n.arg=s;;){var a=n.delegate;if(a){var u=l(a,n);if(u){if(u===I)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===C)throw o=D,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=j;var c=r(t,e,n);if("normal"===c.type){if(o=n.done?D:w,c.arg===I)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=D,n.method="throw",n.arg=c.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===v){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=v,l(t,e),"throw"===e.method))return I;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var o=r(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,I;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=v),e.delegate=null,I):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,I)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function d(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function f(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function p(t){if(t){var e=t[_];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=v,e.done=!0,e};return r.next=r}}return{next:g}}function g(){return{value:v,done:!0}}var v,m=Object.prototype,y=m.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",P=b.asyncIterator||"@@asyncIterator",E=b.toStringTag||"@@toStringTag",x="object"==typeof t,S=e.regeneratorRuntime;if(S)return void(x&&(t.exports=S));S=e.regeneratorRuntime=x?t.exports:{},S.wrap=n;var C="suspendedStart",w="suspendedYield",j="executing",D="completed",I={},M={};M[_]=function(){return this};var O=Object.getPrototypeOf,A=O&&O(O(p([])));A&&A!==m&&y.call(A,_)&&(M=A);var N=s.prototype=o.prototype=Object.create(M);i.prototype=N.constructor=s,s.constructor=i,s[E]=i.displayName="GeneratorFunction",S.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},S.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,E in t||(t[E]="GeneratorFunction")),t.prototype=Object.create(N),t},S.awrap=function(t){return{__await:t}},a(u.prototype),u.prototype[P]=function(){return this},S.AsyncIterator=u,S.async=function(t,e,r,o){var i=new u(n(t,e,r,o));return S.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},a(N),N[E]="Generator",N[_]=function(){return this},N.toString=function(){return"[object Generator]"},S.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},S.values=p,f.prototype={constructor:f,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(d),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var s=y.call(o,"catchLoc"),a=y.call(o,"finallyLoc");if(s&&a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,I):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),I},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),d(n),I}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;d(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=v),I}}}(function(){return this}()||Function("return this")())},function(t,e,n){n(346),t.exports=n(18).RegExp.escape},function(t,e,n){var r=n(0),o=n(347)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return o(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e){!function(e){if("window"in e){var n=t.exports={},r=function(t,e){"]"==t[t.length-1]&&-1!=t.lastIndexOf(" [")&&(t=t.substr(0,t.lastIndexOf(" [")));var n=function(t,e,n){return t.replace(new RegExp(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),n)};if(e){var r=!1;for(var o in e){var i=e[o];if("string"!=typeof i&&React.isValidElement(i)){r=!0;break}}return r?function(t,e){var n,r=[t];for(var o in e){n=r,r=[];for(var i=0;i<n.length;i++)if("string"==typeof n[i]){for(var s="%("+o+")s",a=n[i].split(s),u=[],c=0;c<a.length-1;c++)u.push(a[c]),u.push(e[o]);u.push(a[a.length-1]),u=u.filter(function(t){return""!=t}),r.push.apply(r,u)}else r.push(n[i])}return r}(t,e):function(t,e){for(var r in e)t=n(t,"%("+r+")s",e[r]);return t}(t,e)}return t};window.quiptext||(window.quiptext=r);var o={RED:quiptext("Red"),ORANGE:quiptext("Orange"),YELLOW:quiptext("Yellow"),GREEN:quiptext("Green"),BLUE:quiptext("Blue"),VIOLET:quiptext("Violet")};n.localizedColorLabel=function(t){return t in o?o[t]:t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}}}(self)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(350),i=r(o),s=n(351),a=r(s),u=n(138),c=n(390),l=r(c),h=n(134),d=(0,u.createStore)(l.default);i.default.apps.initialize({initializationCallback:function(t){ReactDOM.render(React.createElement(h.Provider,{store:d},React.createElement(a.default,null)),t)}})},function(t,e){t.exports=quip},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(134),o=n(387),i=function(t){return t&&t.__esModule?t:{default:t}}(o),s=function(t,e){return{nodes:t.nodes,connectors:t.connectors,config:t.config}},a=function(t,e){return{addNode:function(e){t({type:"ADD_NODE",node:e})}}},u=(0,r.connect)(s,a)(i.default);e.default=u},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){g||(g=!0,(0,p.default)("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}e.__esModule=!0,e.default=void 0;var u=n(95),c=n(135),l=r(c),h=n(136),d=r(h),f=n(137),p=r(f),g=!1,v=function(t){function e(n,r){o(this,e);var s=i(this,t.call(this,n,r));return s.store=n.store,s}return s(e,t),e.prototype.getChildContext=function(){return{store:this.store}},e.prototype.render=function(){return u.Children.only(this.props.children)},e}(u.Component);e.default=v,"production"!==t.env.NODE_ENV&&(v.prototype.componentWillReceiveProps=function(t){this.store!==t.store&&a()}),v.propTypes={store:d.default.isRequired,children:l.default.element.isRequired},v.childContextTypes={store:d.default.isRequired}}).call(e,n(27))},function(t,e,n){"use strict";function r(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case s:switch(t=t.type){case f:case p:case u:case l:case c:case v:return t;default:switch(t=t&&t.$$typeof){case d:case g:case h:return t;default:return e}}case y:case m:case a:return e}}}function o(t){return r(t)===p}/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&Symbol.for,s=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,u=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,h=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.async_mode"):60111,p=i?Symbol.for("react.concurrent_mode"):60111,g=i?Symbol.for("react.forward_ref"):60112,v=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116;e.typeOf=r,e.AsyncMode=f,e.ConcurrentMode=p,e.ContextConsumer=d,e.ContextProvider=h,e.Element=s,e.ForwardRef=g,e.Fragment=u,e.Lazy=y,e.Memo=m,e.Portal=a,e.Profiler=l,e.StrictMode=c,e.Suspense=v,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===u||t===p||t===l||t===c||t===v||"object"==typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===m||t.$$typeof===h||t.$$typeof===d||t.$$typeof===g)},e.isAsyncMode=function(t){return o(t)||r(t)===f},e.isConcurrentMode=o,e.isContextConsumer=function(t){return r(t)===d},e.isContextProvider=function(t){return r(t)===h},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===s},e.isForwardRef=function(t){return r(t)===g},e.isFragment=function(t){return r(t)===u},e.isLazy=function(t){return r(t)===y},e.isMemo=function(t){return r(t)===m},e.isPortal=function(t){return r(t)===a},e.isProfiler=function(t){return r(t)===l},e.isStrictMode=function(t){return r(t)===c},e.isSuspense=function(t){return r(t)===v}},function(t,e,n){"use strict";(function(t){/** @license React v16.8.6
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"production"!==t.env.NODE_ENV&&function(){function t(t){return"string"==typeof t||"function"==typeof t||t===b||t===C||t===P||t===_||t===j||"object"==typeof t&&null!==t&&(t.$$typeof===I||t.$$typeof===D||t.$$typeof===E||t.$$typeof===x||t.$$typeof===w)}function n(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case m:var n=t.type;switch(n){case S:case C:case b:case P:case _:case j:return n;default:var r=n&&n.$$typeof;switch(r){case x:case w:case E:return r;default:return e}}case I:case D:case y:return e}}}function r(t){return X||(X=!0,A(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),o(t)||n(t)===S}function o(t){return n(t)===C}function i(t){return n(t)===x}function s(t){return n(t)===E}function a(t){return"object"==typeof t&&null!==t&&t.$$typeof===m}function u(t){return n(t)===w}function c(t){return n(t)===b}function l(t){return n(t)===I}function h(t){return n(t)===D}function d(t){return n(t)===y}function f(t){return n(t)===P}function p(t){return n(t)===_}function g(t){return n(t)===j}Object.defineProperty(e,"__esModule",{value:!0});var v="function"==typeof Symbol&&Symbol.for,m=v?Symbol.for("react.element"):60103,y=v?Symbol.for("react.portal"):60106,b=v?Symbol.for("react.fragment"):60107,_=v?Symbol.for("react.strict_mode"):60108,P=v?Symbol.for("react.profiler"):60114,E=v?Symbol.for("react.provider"):60109,x=v?Symbol.for("react.context"):60110,S=v?Symbol.for("react.async_mode"):60111,C=v?Symbol.for("react.concurrent_mode"):60111,w=v?Symbol.for("react.forward_ref"):60112,j=v?Symbol.for("react.suspense"):60113,D=v?Symbol.for("react.memo"):60115,I=v?Symbol.for("react.lazy"):60116,M=function(){},O=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+t.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.warn(i);try{throw new Error(i)}catch(t){}};M=function(t,e){if(void 0===e)throw new Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];O.apply(void 0,[e].concat(r))}};var A=M,N=S,k=C,T=x,L=E,F=m,R=w,B=b,G=I,U=D,W=y,V=P,H=_,Y=j,X=!1;e.typeOf=n,e.AsyncMode=N,e.ConcurrentMode=k,e.ContextConsumer=T,e.ContextProvider=L,e.Element=F,e.ForwardRef=R,e.Fragment=B,e.Lazy=G,e.Memo=U,e.Portal=W,e.Profiler=V,e.StrictMode=H,e.Suspense=Y,e.isValidElementType=t,e.isAsyncMode=r,e.isConcurrentMode=o,e.isContextConsumer=i,e.isContextProvider=s,e.isElement=a,e.isForwardRef=u,e.isFragment=c,e.isLazy=l,e.isMemo=h,e.isPortal=d,e.isProfiler=f,e.isStrictMode=p,e.isSuspense=g}()}).call(e,n(27))},function(t,e,n){"use strict";(function(e){function r(){return null}var o=n(96),i=n(356),s=n(97),a=n(357),u=Function.call.bind(Object.prototype.hasOwnProperty),c=function(){};"production"!==e.env.NODE_ENV&&(c=function(t){var e="Warning: "+t;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(t){}}),t.exports=function(t,n){function l(t){var e=t&&(D&&t[D]||t[I]);if("function"==typeof e)return e}function h(t,e){return t===e?0!==t||1/t==1/e:t!==t&&e!==e}function d(t){this.message=t,this.stack=""}function f(t){function r(r,a,u,l,h,f,p){if(l=l||M,f=f||u,p!==s){if(n){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}if("production"!==e.env.NODE_ENV&&"undefined"!=typeof console){var v=l+":"+u;!o[v]&&i<3&&(c("You are manually calling a React.PropTypes validation function for the `"+f+"` prop on `"+l+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),o[v]=!0,i++)}}return null==a[u]?r?new d(null===a[u]?"The "+h+" `"+f+"` is marked as required in `"+l+"`, but its value is `null`.":"The "+h+" `"+f+"` is marked as required in `"+l+"`, but its value is `undefined`."):null:t(a,u,l,h,f)}if("production"!==e.env.NODE_ENV)var o={},i=0;var a=r.bind(null,!1);return a.isRequired=r.bind(null,!0),a}function p(t){function e(e,n,r,o,i,s){var a=e[n];if(S(a)!==t)return new d("Invalid "+o+" `"+i+"` of type `"+C(a)+"` supplied to `"+r+"`, expected `"+t+"`.");return null}return f(e)}function g(t){function e(e,n,r,o,i){if("function"!=typeof t)return new d("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=e[n];if(!Array.isArray(a)){return new d("Invalid "+o+" `"+i+"` of type `"+S(a)+"` supplied to `"+r+"`, expected an array.")}for(var u=0;u<a.length;u++){var c=t(a,u,r,o,i+"["+u+"]",s);if(c instanceof Error)return c}return null}return f(e)}function v(t){function e(e,n,r,o,i){if(!(e[n]instanceof t)){var s=t.name||M;return new d("Invalid "+o+" `"+i+"` of type `"+j(e[n])+"` supplied to `"+r+"`, expected instance of `"+s+"`.")}return null}return f(e)}function m(t){function n(e,n,r,o,i){for(var s=e[n],a=0;a<t.length;a++)if(h(s,t[a]))return null;var u=JSON.stringify(t,function(t,e){return"symbol"===C(e)?String(e):e});return new d("Invalid "+o+" `"+i+"` of value `"+String(s)+"` supplied to `"+r+"`, expected one of "+u+".")}return Array.isArray(t)?f(n):("production"!==e.env.NODE_ENV&&c(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),r)}function y(t){function e(e,n,r,o,i){if("function"!=typeof t)return new d("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=e[n],c=S(a);if("object"!==c)return new d("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var l in a)if(u(a,l)){var h=t(a,l,r,o,i+"."+l,s);if(h instanceof Error)return h}return null}return f(e)}function b(t){function n(e,n,r,o,i){for(var a=0;a<t.length;a++){if(null==(0,t[a])(e,n,r,o,i,s))return null}return new d("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}if(!Array.isArray(t))return"production"!==e.env.NODE_ENV&&c("Invalid argument supplied to oneOfType, expected an instance of array."),r;for(var o=0;o<t.length;o++){var i=t[o];if("function"!=typeof i)return c("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+w(i)+" at index "+o+"."),r}return f(n)}function _(t){function e(e,n,r,o,i){var a=e[n],u=S(a);if("object"!==u)return new d("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in t){var l=t[c];if(l){var h=l(a,c,r,o,i+"."+c,s);if(h)return h}}return null}return f(e)}function P(t){function e(e,n,r,o,a){var u=e[n],c=S(u);if("object"!==c)return new d("Invalid "+o+" `"+a+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var l=i({},e[n],t);for(var h in l){var f=t[h];if(!f)return new d("Invalid "+o+" `"+a+"` key `"+h+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var p=f(u,h,r,o,a+"."+h,s);if(p)return p}return null}return f(e)}function E(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(E);if(null===e||t(e))return!0;var n=l(e);if(!n)return!1;var r,o=n.call(e);if(n!==e.entries){for(;!(r=o.next()).done;)if(!E(r.value))return!1}else for(;!(r=o.next()).done;){var i=r.value;if(i&&!E(i[1]))return!1}return!0;default:return!1}}function x(t,e){return"symbol"===t||!!e&&("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}function S(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":x(e,t)?"symbol":e}function C(t){if(void 0===t||null===t)return""+t;var e=S(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function w(t){var e=C(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}function j(t){return t.constructor&&t.constructor.name?t.constructor.name:M}var D="function"==typeof Symbol&&Symbol.iterator,I="@@iterator",M="<<anonymous>>",O={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:function(){return f(r)}(),arrayOf:g,element:function(){function e(e,n,r,o,i){var s=e[n];if(!t(s)){return new d("Invalid "+o+" `"+i+"` of type `"+S(s)+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}return f(e)}(),elementType:function(){function t(t,e,n,r,i){var s=t[e];if(!o.isValidElementType(s)){return new d("Invalid "+r+" `"+i+"` of type `"+S(s)+"` supplied to `"+n+"`, expected a single ReactElement type.")}return null}return f(t)}(),instanceOf:v,node:function(){function t(t,e,n,r,o){return E(t[e])?null:new d("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return f(t)}(),objectOf:y,oneOf:m,oneOfType:b,shape:_,exact:P};return d.prototype=Error.prototype,O.checkPropTypes=a,O.resetWarningCache=a.resetWarningCache,O.PropTypes=O,O}}).call(e,n(27))},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,u=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)i.call(n,l)&&(u[l]=n[l]);if(o){a=o(n);for(var h=0;h<a.length;h++)s.call(n,a[h])&&(u[a[h]]=n[a[h]])}}return u}},function(t,e,n){"use strict";(function(e){function r(t,n,r,u,c){if("production"!==e.env.NODE_ENV)for(var l in t)if(a(t,l)){var h;try{if("function"!=typeof t[l]){var d=Error((u||"React class")+": "+r+" type `"+l+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof t[l]+"`.");throw d.name="Invariant Violation",d}h=t[l](n,l,u,r,null,i)}catch(t){h=t}if(!h||h instanceof Error||o((u||"React class")+": type specification of "+r+" `"+l+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof h+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),h instanceof Error&&!(h.message in s)){s[h.message]=!0;var f=c?c():"";o("Failed "+r+" type: "+h.message+(null!=f?f:""))}}}var o=function(){};if("production"!==e.env.NODE_ENV){var i=n(97),s={},a=Function.call.bind(Object.prototype.hasOwnProperty);o=function(t){var e="Warning: "+t;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(t){}}}r.resetWarningCache=function(){"production"!==e.env.NODE_ENV&&(s={})},t.exports=r}).call(e,n(27))},function(t,e,n){"use strict";function r(){}function o(){}var i=n(97);o.resetWarningCache=r,t.exports=function(){function t(t,e,n,r,o,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return t.displayName||t.name||"Component"}function u(t,e){try{return t.apply(e)}catch(t){return I.value=t,I}}function c(e,n,r){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=Boolean(e),p=e||w,v=void 0;v="function"==typeof n?n:n?(0,m.default)(n):j;var y=r||D,_=c.pure,E=void 0===_||_,S=c.withRef,O=void 0!==S&&S,A=E&&y!==D,N=M++;return function(e){function n(t,e){(0,P.default)(t)||(0,b.default)(e+"() in "+c+" must return a plain object. Instead received "+t+".")}function r(e,r,o){var i=y(e,r,o);return"production"!==t.env.NODE_ENV&&n(i,"mergeProps"),i}var c="Connect("+a(e)+")",m=function(a){function f(t,e){o(this,f);var n=i(this,a.call(this,t,e));n.version=N,n.store=t.store||e.store,(0,C.default)(n.store,'Could not find "store" in either the context or props of "'+c+'". Either wrap the root component in a <Provider>, or explicitly pass "store" as a prop to "'+c+'".');var r=n.store.getState();return n.state={storeState:r},n.clearCache(),n}return s(f,a),f.prototype.shouldComponentUpdate=function(){return!E||this.haveOwnPropsChanged||this.hasStoreStateChanged},f.prototype.computeStateProps=function(e,r){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,r);var o=e.getState(),i=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(o,r):this.finalMapStateToProps(o);return"production"!==t.env.NODE_ENV&&n(i,"mapStateToProps"),i},f.prototype.configureFinalMapState=function(e,r){var o=p(e.getState(),r),i="function"==typeof o;return this.finalMapStateToProps=i?o:p,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,i?this.computeStateProps(e,r):("production"!==t.env.NODE_ENV&&n(o,"mapStateToProps"),o)},f.prototype.computeDispatchProps=function(e,r){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,r);var o=e.dispatch,i=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(o,r):this.finalMapDispatchToProps(o);return"production"!==t.env.NODE_ENV&&n(i,"mapDispatchToProps"),i},f.prototype.configureFinalMapDispatch=function(e,r){var o=v(e.dispatch,r),i="function"==typeof o;return this.finalMapDispatchToProps=i?o:v,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,i?this.computeDispatchProps(e,r):("production"!==t.env.NODE_ENV&&n(o,"mapDispatchToProps"),o)},f.prototype.updateStatePropsIfNeeded=function(){var t=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,g.default)(t,this.stateProps))&&(this.stateProps=t,!0)},f.prototype.updateDispatchPropsIfNeeded=function(){var t=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,g.default)(t,this.dispatchProps))&&(this.dispatchProps=t,!0)},f.prototype.updateMergedPropsIfNeeded=function(){var t=r(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&A&&(0,g.default)(t,this.mergedProps))&&(this.mergedProps=t,!0)},f.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},f.prototype.trySubscribe=function(){d&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},f.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},f.prototype.componentDidMount=function(){this.trySubscribe()},f.prototype.componentWillReceiveProps=function(t){E&&(0,g.default)(t,this.props)||(this.haveOwnPropsChanged=!0)},f.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},f.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},f.prototype.handleChange=function(){if(this.unsubscribe){var t=this.store.getState(),e=this.state.storeState;if(!E||e!==t){if(E&&!this.doStatePropsDependOnOwnProps){var n=u(this.updateStatePropsIfNeeded,this);if(!n)return;n===I&&(this.statePropsPrecalculationError=I.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:t})}}},f.prototype.getWrappedInstance=function(){return(0,C.default)(O,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},f.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,i=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,o)throw o;var s=!0,a=!0;E&&i&&(s=n||t&&this.doStatePropsDependOnOwnProps,a=t&&this.doDispatchPropsDependOnOwnProps);var u=!1,c=!1;r?u=!0:s&&(u=this.updateStatePropsIfNeeded()),a&&(c=this.updateDispatchPropsIfNeeded());return!(!!(u||c||t)&&this.updateMergedPropsIfNeeded())&&i?i:(this.renderedElement=O?(0,h.createElement)(e,l({},this.mergedProps,{ref:"wrappedInstance"})):(0,h.createElement)(e,this.mergedProps),this.renderedElement)},f}(h.Component);return m.displayName=c,m.WrappedComponent=e,m.contextTypes={store:f.default},m.propTypes={store:f.default},"production"!==t.env.NODE_ENV&&(m.prototype.componentWillUpdate=function(){this.version!==N&&(this.version=N,this.trySubscribe(),this.clearCache())}),(0,x.default)(m,e)}}e.__esModule=!0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=c;var h=n(95),d=n(136),f=r(d),p=n(360),g=r(p),v=n(361),m=r(v),y=n(137),b=r(y),_=n(376),P=r(_),E=n(385),x=r(E),S=n(386),C=r(S),w=function(t){return{}},j=function(t){return{dispatch:t}},D=function(t,e,n){return l({},n,t,e)},I={value:null},M=0}).call(e,n(27))},function(t,e,n){"use strict";function r(t,e){if(t===e)return!0;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!o.call(e,n[i])||t[n[i]]!==e[n[i]])return!1;return!0}e.__esModule=!0,e.default=r},function(t,e,n){"use strict";function r(t){return function(e){return(0,o.bindActionCreators)(t,e)}}e.__esModule=!0,e.default=r;var o=n(138)},function(t,e,n){"use strict";function r(t){return null==t?void 0===t?u:a:c&&c in Object(t)?Object(i.a)(t):Object(s.a)(t)}var o=n(141),i=n(365),s=n(366),a="[object Null]",u="[object Undefined]",c=o.a?o.a.toStringTag:void 0;e.a=r},function(t,e,n){"use strict";var r=n(364),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();e.a=i},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(e,n(53))},function(t,e,n){"use strict";function r(t){var e=s.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[u]=n:delete t[u]),o}var o=n(141),i=Object.prototype,s=i.hasOwnProperty,a=i.toString,u=o.a?o.a.toStringTag:void 0;e.a=r},function(t,e,n){"use strict";function r(t){return i.call(t)}var o=Object.prototype,i=o.toString;e.a=r},function(t,e,n){"use strict";var r=n(368),o=Object(r.a)(Object.getPrototypeOf,Object);e.a=o},function(t,e,n){"use strict";function r(t,e){return function(n){return t(e(n))}}e.a=r},function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}e.a=r},function(t,e,n){"use strict";(function(t,r){var o,i=n(372);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var s=Object(i.a)(o);e.a=s}).call(e,n(53),n(371)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}e.a=r},function(t,e,n){"use strict";(function(t){function r(t,e){var n=e&&e.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(t,e,n,r){var o=Object.keys(e),i=n&&n.type===a.a.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===o.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!Object(u.a)(t))return"The "+i+' has unexpected type of "'+{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+o.join('", "')+'"';var s=Object.keys(t).filter(function(t){return!e.hasOwnProperty(t)&&!r[t]});return s.forEach(function(t){r[t]=!0}),s.length>0?"Unexpected "+(s.length>1?"keys":"key")+' "'+s.join('", "')+'" found in '+i+'. Expected to find one of the known reducer keys instead: "'+o.join('", "')+'". Unexpected keys will be ignored.':void 0}function i(t){Object.keys(t).forEach(function(e){var n=t[e];if(void 0===n(void 0,{type:a.a.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+a.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function s(e){for(var n=Object.keys(e),s={},a=0;a<n.length;a++){var u=n[a];"production"!==t.env.NODE_ENV&&void 0===e[u]&&Object(c.a)('No reducer provided for key "'+u+'"'),"function"==typeof e[u]&&(s[u]=e[u])}var l=Object.keys(s),h=void 0;"production"!==t.env.NODE_ENV&&(h={});var d=void 0;try{i(s)}catch(t){d=t}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];if(d)throw d;if("production"!==t.env.NODE_ENV){var i=o(e,s,n,h);i&&Object(c.a)(i)}for(var a=!1,u={},f=0;f<l.length;f++){var p=l[f],g=s[p],v=e[p],m=g(v,n);if(void 0===m){var y=r(p,n);throw new Error(y)}u[p]=m,a=a||m!==v}return a?u:e}}e.a=s;var a=n(139),u=n(140),c=n(142)}).call(e,n(27))},function(t,e,n){"use strict";function r(t,e){return function(){return e(t.apply(void 0,arguments))}}function o(t,e){if("function"==typeof t)return r(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),o={},i=0;i<n.length;i++){var s=n[i],a=t[s];"function"==typeof a&&(o[s]=r(a,e))}return o}e.a=o},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,s){var a=t(n,r,s),u=a.dispatch,c=[],l={getState:a.getState,dispatch:function(t){return u(t)}};return c=e.map(function(t){return t(l)}),u=o.a.apply(void 0,c)(a.dispatch),i({},a,{dispatch:u})}}}e.a=r;var o=n(143),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){function r(t){if(!s(t)||o(t)!=a)return!1;var e=i(t);if(null===e)return!0;var n=h.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}var o=n(377),i=n(382),s=n(384),a="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,h=c.hasOwnProperty,d=l.call(Object);t.exports=r},function(t,e,n){function r(t){return null==t?void 0===t?u:a:c&&c in Object(t)?i(t):s(t)}var o=n(144),i=n(380),s=n(381),a="[object Null]",u="[object Undefined]",c=o?o.toStringTag:void 0;t.exports=r},function(t,e,n){var r=n(379),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(53))},function(t,e,n){function r(t){var e=s.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[u]=n:delete t[u]),o}var o=n(144),i=Object.prototype,s=i.hasOwnProperty,a=i.toString,u=o?o.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return o.call(t)}var r=Object.prototype,o=r.toString;t.exports=n},function(t,e,n){var r=n(383),o=r(Object.getPrototypeOf,Object);t.exports=o},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){"use strict";function r(t){return i.isMemo(t)?c:l[t.$$typeof]||s}function o(t,e,n){if("string"!=typeof e){if(v){var i=g(e);i&&i!==v&&o(t,i,n)}var s=d(e);f&&(s=s.concat(f(e)));for(var u=r(t),c=r(e),l=0;l<s.length;++l){var m=s[l];if(!(a[m]||n&&n[m]||c&&c[m]||u&&u[m])){var y=p(e,m);try{h(t,m,y)}catch(t){}}}return t}return t}var i=n(96),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},u={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[i.ForwardRef]=u;var h=Object.defineProperty,d=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,v=Object.prototype;t.exports=o},function(t,e,n){"use strict";(function(e){var n=function(t,n,r,o,i,s,a,u){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,i,s,a,u],h=0;c=new Error(n.replace(/%s/g,function(){return l[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};t.exports=n}).call(e,n(27))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(95),c=r(u),l=n(388),h=r(l),d=n(389),f=r(d),p=0,g=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.canvas=function(t){n.canvas=t},n.state={nodeForModal:null},n}return s(e,t),a(e,[{key:"_addHandlersToConfig",value:function(t){var e=JSON.parse(JSON.stringify(t));return e.nodeEvents={},e.nodeEvents.onClick=function(t){this.setState({nodeForModal:t})}.bind(this),e}},{key:"componentDidMount",value:function(){var t=this.props,e=t.nodes,n=t.connectors,r=t.config,o=t.addNode;this._canvasBuilder=f.default.default.createInstance(this.canvas),this._canvasBuilder.update(e,n,this._addHandlersToConfig(r)),quip.apps.updateToolbar({toolbarCommandIds:["addVariable","addConstant"],menuCommands:[{id:"addVariable",label:"Add Variable",handler:function(){var t="Node-ID-"+ ++p;o({id:t,lable:t,left:0,top:0,width:64,height:64,nodeShape:"CIRCLE",nodeColor:"pink"})}},{id:"addConstant",label:"Add Constant",handler:function(){var t="Node-ID-"+ ++p;o({id:t,lable:t,left:0,top:0,width:64,height:64,nodeShape:"SQUARE",nodeColor:"green"})}}]})}},{key:"_handleModalClose",value:function(){this.setState({nodeForModal:null})}},{key:"_handleModalSave",value:function(){this.setState({nodeForModal:null})}},{key:"_renderModal",value:function(){return this.state.nodeForModal?c.default.createElement("div",{className:h.default.modal},c.default.createElement("div",{className:h.default.modalTitle},"Edit Node"),c.default.createElement("div",{className:h.default.modalBodyContainer},c.default.createElement("div",{className:h.default.modalBodySurface},c.default.createElement("div",null,"Node Name"),c.default.createElement("input",{type:"text"}))),c.default.createElement("div",{className:h.default.modalFooter},c.default.createElement("button",{onClick:this._handleModalClose.bind(this)},"Close"),c.default.createElement("button",{onClick:this._handleModalSave.bind(this)},"Save"))):null}},{key:"render",value:function(){if(this._canvasBuilder){var t=this.props,e=t.nodes,n=t.connectors,r=t.config;this._canvasBuilder.update(e,n,this._addHandlersToConfig(r))}return c.default.createElement("div",{className:h.default.root},this._renderModal(),c.default.createElement("div",{ref:this.canvas,className:h.default.canvas}))}}]),e}(c.default.Component);e.default=g},function(t,e){t.exports={root:"App__root",modal:"App__modal",modalTitle:"App__modalTitle",modalBodyContainer:"App__modalBodyContainer",modalBodySurface:"App__modalBodySurface",modalFooter:"App__modalFooter",canvas:"App__canvas","node-icon1":"App__node-icon1","node-icon2":"App__node-icon2","slds-canvas-builder_node":"App__slds-canvas-builder_node","slds-canvas-builder_node--selected":"App__slds-canvas-builder_node--selected","slds-canvas-builder_node-background-svg":"App__slds-canvas-builder_node-background-svg","slds-canvas-builder_node-dragging":"App__slds-canvas-builder_node-dragging","slds-canvas-builder_connector":"App__slds-canvas-builder_connector","slds-canvas-builder_surface-brush":"App__slds-canvas-builder_surface-brush","slds-canvas-builder_endpoint":"App__slds-canvas-builder_endpoint","slds-canvas-builder_endpoint--hovered":"App__slds-canvas-builder_endpoint--hovered","slds-canvas-builder_endpoint--empty":"App__slds-canvas-builder_endpoint--empty","slds-canvas-builder_connector--dragging":"App__slds-canvas-builder_connector--dragging"}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function i(t){return(i="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)})(t)}var s={},a={defaultNodeClassName:"",defaultClassPrefix:"canvas-builder",defaultDragMode:"INSTANCE",defaultSnapToGrid:[1,1],defaultConnectorWidth:2,canvasPadding:64,minNodeSize:64,nodeClassSuffix:"_node",nodeSelectedSuffix:"_node--selected",nodeBackgroundSvgSuffix:"_node-background-svg",nodeLabelSuffix:"_node-label",nodeIconSvgSuffix:"_node-icon-svg",nodeDragSuffix:"_node-dragging",connectorClassSuffix:"_connector",endpointClassSuffix:"_endpoint",emptyEndpointClassSuffix:"_endpoint--empty",endpointHoveredSuffix:"_endpoint--hovered",connectorDraggingSuffix:"_connector--dragging",surfaceBrushSuffix:"_surface-brush"},u=new Set(["classPrefix","connectorStrokeWidth","connectorHoverStrokeWidth"]),c={clone:function(t){return{classPrefix:t.classPrefix,dragRules:t.dragRules,dragMode:t.dragMode,snapToGrid:[].concat(t.snapToGrid),nodeEvents:t.nodeEvents,connectorEvents:t.connectorEvents,surfaceDragMode:t.surfaceDragMode,surfaceBrushKeyToggle:t.surfaceBrushKeyToggle,surfacePanKeyToggle:t.surfacePanKeyToggle,connectorHoverStrokeWidth:t.connectorHoverStrokeWidth,connectorStrokeWidth:t.connectorStrokeWidth}},isReflowProperty:function(t){return u.has(t)},getDefaultConfig:function(){return{classPrefix:a.defaultClassPrefix,dragRules:[],dragMode:a.defaultDragMode,snapToGrid:a.defaultSnapToGrid,nodeEvents:null,connectorEvents:null,surfaceDragMode:null,surfaceBrushKeyToggle:null,surfacePanKeyToggle:null,connectorStrokeWidth:a.defaultConnectorWidth,connectorHoverStrokeWidth:a.defaultConnectorWidth}}},l={getConnectorId:function(t){return encodeURI(t.sourceNodeId)+"||"+encodeURI(t.targetNodeId)},clone:function(t){return{sourceNodeId:t.sourceNodeId,sourceAnchorId:t.sourceAnchorId,targetNodeId:t.targetNodeId,targetAnchorId:t.targetAnchorId,className:t.className,label:t.label,strokeWidth:t.strokeWidth,hoverStrokeWidth:t.hoverStrokeWidth,type:t.type}},equals:function(t,e){return t.sourceNodeId===e.sourceNodeId&&t.targetNodeId===e.targetNodeId&&t.sourceAnchorId===e.sourceAnchorId&&t.targetAnchorId===e.targetAnchorId&&t.className===e.className&&t.label===e.label&&t.strokeWidth===e.strokeWidth&&t.hoverStrokeWidth===e.hoverStrokeWidth&&t.type===e.type}},h={getNodeDeltas:function(t,e){var n=new Set,r={newEntries:[],updatedEntries:[],deletedEntries:[]};return e.forEach(function(e){var o=t.getNodeInstance(e.id);o&&!o.areNodesEqual(e)&&r.updatedEntries.push({oldValue:o.getNode(),newValue:e}),o||r.newEntries.push(e),n.add(e.id)}),t.forEachNodeInstance(function(t,e){n.has(e)||r.deletedEntries.push(t.getNode())}),r},getConnectorDeltas:function(t,e,n){var r=new Set,o={newEntries:[],updatedEntries:[],deletedEntries:[]},i=n.updatedEntries.reduce(function(t,e){var n=e.oldValue;return t.add(n.id)},new Set),s=n.newEntries.reduce(function(t,e){return t.add(e.id)},new Set),a=n.deletedEntries.reduce(function(t,e){return t.add(e.id)},new Set);return e.forEach(function(e){var u=l.getConnectorId(e),c=t.getConnectorInstance(u);if(i.has(e.sourceNodeId)||i.has(e.targetNodeId)||c&&!c.areConnectorsEqual(e)){o.updatedEntries.push({oldValue:c&&c.getConnector(),newValue:e});var h=e.sourceNodeId;i.has(h)||s.has(h)||a.has(h)||n.updatedEntries.push({oldValue:t.getNodeInstance(h).getNode(),newValue:t.getNodeInstance(h).getNode()});var d=e.targetNodeId;i.has(d)||s.has(d)||a.has(d)||n.updatedEntries.push({oldValue:t.getNodeInstance(d).getNode(),newValue:t.getNodeInstance(d).getNode()})}c||o.newEntries.push(e),r.add(u)}),t.forEachConnectorInstance(function(t,e){r.has(e)||o.deletedEntries.push(t.getConnector())}),o},getConfigDeltas:function(t,e){var n=new Map,r=new Set;return Object.keys(e).forEach(function(o){void 0!==t[o]&&t[o]!==e[o]&&n.set(o,{oldValue:t[o],newValue:e[o]}),t[o]||n.set(o,{oldValue:null,newValue:e[o]}),r.add(o)}),n}},d=new Set(["LEFT","RIGHT","TOP","BOTTOM"]),f={_compareLocations:function(t,e){if(!t&&e||t&&!e)return!1;if(!t&&!e)return!0;if(i(t)!==i(e))return!1;if("string"==typeof t&&"string"==typeof e)return t===e;var n=t,r=e;return n.isContinuous&&r.isContinuous||n.leftPercent===r.leftPercent&&n.topPercent===r.topPercent},_compareStyles:function(t,e){return t===e},getEndpointUuid:function(t,e){return t.id+"||"+e},getAnchorIdFromUuid:function(t,e){return e.slice(t.id.length+2)},getPlumbAnchor:function(t){if("string"==typeof t.location){var e=t.location;return d.has(t.location.toUpperCase())?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"Left"}var n=t.location;if(!n.isContinuous)return[n.leftPercent,n.topPercent]},clone:function(t){return{id:t.id,location:t.location,style:t.style}},equals:function(t,e){return!(!t&&e||t&&!e)&&(!t&&!e||this._compareLocations(t.location,e.location)&&this._compareStyles(t.style,e.style))}},p={compareAnchors:function(t,e){return!(!t&&e||t&&!e)&&(!t&&!e||t.length===e.length&&t.every(function(t,n){return f.equals(t,e[n])}))},cloneNode:function(t){return{id:t.id,width:t.width,height:t.height,top:t.top,left:t.left,label:t.label,description:t.description,className:t.className,iconPath:t.iconPath,iconCategory:t.iconCategory,iconName:t.iconName,iconClassName:t.iconClassName,nodeColor:t.nodeColor,nodeShape:t.nodeShape,isSelected:t.isSelected,data:t.data,anchors:t.anchors&&t.anchors.map(function(t){return f.clone(t)}),renderStrategy:t.renderStrategy,events:t.events}},equals:function(t,e){return t.id===e.id&&t.width===e.width&&t.height===e.height&&t.top===e.top&&t.left===e.left&&t.label===e.label&&t.description===e.description&&t.className===e.className&&t.iconPath===e.iconPath&&t.iconCategory===e.iconCategory&&t.iconName===e.iconName&&t.iconClassName===e.iconClassName&&t.nodeColor===e.nodeColor&&t.nodeShape===e.nodeShape&&t.data===e.data&&t.isSelected===e.isSelected&&this.compareAnchors(t.anchors,e.anchors)&&t.renderStrategy==e.renderStrategy&&t.events===e.events}},g=function(){function t(t){this.updateNode(t)}return t.prototype.getNode=function(){return this._originalNode},t.prototype.getId=function(){return this._originalNode.id},t.prototype.updateNode=function(t){this._originalNode=p.cloneNode(t);var e=new Map;(this._originalNode.anchors||[]).forEach(function(t){e.set(t.id,t)}),this._renderedLeft=this._originalNode.left||0,this._renderedTop=this._originalNode.top||0,this._renderedWidth=this._originalNode.width||a.minNodeSize,this._renderedHeight=this._originalNode.height||a.minNodeSize,this._anchorMap=e},t.prototype.areNodesEqual=function(t){return p.equals(this._originalNode,t)},t.prototype.getAnchorMap=function(){return this._anchorMap},t.prototype.getBounds=function(){return{left:this._renderedLeft,top:this._renderedTop,width:this._renderedWidth,height:this._renderedHeight}},t.prototype.getElement=function(){return this._element},t.prototype.getLabelElement=function(){return this._labelElement},t.prototype.getSvgBackgroundElement=function(){return this._svgBackgroundElement},t.prototype.getSvgIconElement=function(){return this._svgIconElement},t.prototype.updateRenderedElements=function(t,e,n,r){this._element=t,this._labelElement=e,this._svgBackgroundElement=n,this._svgIconElement=r},t}(),v=function(){function t(t,e,n){this.updateConnector(t,e,n),this._id=l.getConnectorId(t)}return t.prototype.getConnector=function(){return this._originalConnector},t.prototype.updateConnector=function(t,e,n){this._originalConnector=l.clone(t),this._plumbAnchorConfig=this._getPlumbAnchorConfig(e,n)},t.prototype.getId=function(){return this._id},t.prototype.getSourceNodeId=function(){return this._originalConnector.sourceNodeId},t.prototype.getTargetNodeId=function(){return this._originalConnector.targetNodeId},t.prototype.areConnectorsEqual=function(t){return l.equals(this._originalConnector,t)},t.prototype.updateRenderedConnector=function(t){this._plumbConnection=t},t.prototype.getPlumbConnection=function(){return this._plumbConnection},t.prototype.getPlumbAnchorConfig=function(){return this._plumbAnchorConfig},t.prototype._getPlumbAnchorConfig=function(t,e){var n=void 0,r=void 0,o=["Continuous","Continuous"],i=this._originalConnector;if(i.sourceAnchorId&&t){var s=t.getAnchorMap().get(i.sourceAnchorId);n=s&&f.getPlumbAnchor(s)}if(i.targetAnchorId&&e){var a=e.getAnchorMap().get(i.targetAnchorId);r=a&&f.getPlumbAnchor(a)}return n&&r&&(o=[n,r]),o},t}(),m={};(function(){void 0===Math.sgn&&(Math.sgn=function(t){return 0==t?0:t>0?1:-1});var t=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},e=function(t,e){return t.x*e.x+t.y*e.y},n=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r=function(t,e){return{x:t.x*e,y:t.y*e}},o=Math.pow(2,-65),i=function(e,r){for(var o=[],i=s(e,r),u=r.length-1,c=a(i,2*u-1,o,0),l=t(e,r[0]),d=n(l),f=0,p=0;p<c;p++){l=t(e,h(r,u,o[p],null,null));var g=n(l);g<d&&(d=g,f=o[p])}return l=t(e,r[u]),(g=n(l))<d&&(d=g,f=1),{location:f,distance:d}},s=function(n,o){for(var i=o.length-1,s=2*i-1,a=[],u=[],c=[],l=[],h=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],d=0;d<=i;d++)a[d]=t(o[d],n);for(d=0;d<=i-1;d++)u[d]=t(o[d+1],o[d]),u[d]=r(u[d],3);for(var f=0;f<=i-1;f++)for(var g=0;g<=i;g++)c[f]||(c[f]=[]),c[f][g]=e(u[f],a[g]);for(d=0;d<=s;d++)l[d]||(l[d]=[]),l[d].y=0,l[d].x=parseFloat(d)/s;for(var v=i,m=i-1,y=0;y<=v+m;y++){var b=Math.max(0,y-m),_=Math.min(y,v);for(d=b;d<=_;d++)p=y-d,l[d+p].y+=c[p][d]*h[p][d]}return l},a=function t(e,n,r,o){var i,s,a=[],d=[],f=[],p=[];switch(u(e,n)){case 0:return 0;case 1:if(o>=64)return r[0]=(e[0].x+e[n].x)/2,1;if(c(e,n))return r[0]=l(e,n),1}h(e,n,.5,a,d),i=t(a,n,f,o+1),s=t(d,n,p,o+1);for(var g=0;g<i;g++)r[g]=f[g];for(g=0;g<s;g++)r[g+i]=p[g];return i+s},u=function(t,e){var n,r,o=0;n=r=Math.sgn(t[0].y);for(var i=1;i<=e;i++)(n=Math.sgn(t[i].y))!=r&&o++,r=n;return o},c=function(t,e){var n,r,i,s,a,u,c,l;s=t[0].y-t[e].y,a=t[e].x-t[0].x,u=t[0].x*t[e].y-t[e].x*t[0].y;for(var h=max_distance_below=0,d=1;d<e;d++){var f=s*t[d].x+a*t[d].y+u;f>h?h=f:f<max_distance_below&&(max_distance_below=f)}return n=(1*(u-h)-0*(l=a))*(1/(0*l-1*(c=s))),c=s,l=a,r=(1*(u-max_distance_below)-0*l)*(1/(0*l-1*c)),i=Math.min(n,r),Math.max(n,r)-i<o?1:0},l=function(t,e){var n=t[e].x-t[0].x,r=t[e].y-t[0].y,o=t[0].x-0;return 0+(n*(t[0].y-0)-r*o)*(1/(0*n-1*r))*1},h=function(t,e,n,r,o){for(var i=[[]],s=0;s<=e;s++)i[0][s]=t[s];for(var a=1;a<=e;a++)for(s=0;s<=e-a;s++)i[a]||(i[a]=[]),i[a][s]||(i[a][s]={}),i[a][s].x=(1-n)*i[a-1][s].x+n*i[a-1][s+1].x,i[a][s].y=(1-n)*i[a-1][s].y+n*i[a-1][s+1].y;if(null!=r)for(s=0;s<=e;s++)r[s]=i[s][0];if(null!=o)for(s=0;s<=e;s++)o[s]=i[e-s][s];return i[e][0]},d={},f=function(t,e){for(var n=function(t){var e=d[t];if(!e){var n=function(t){return function(e){return t}},r=function(){return function(t){return t}},o=function(){return function(t){return 1-t}},i=function(t){return function(e){for(var n=1,r=0;r<t.length;r++)n*=t[r](e);return n}};(e=[]).push(new function(){return function(e){return Math.pow(e,t)}});for(var s=1;s<t;s++){for(var a=[new n(t)],u=0;u<t-s;u++)a.push(new r);for(u=0;u<s;u++)a.push(new o);e.push(new i(a))}e.push(new function(){return function(e){return Math.pow(1-e,t)}}),d[t]=e}return e}(t.length-1),r=0,o=0,i=0;i<t.length;i++)r+=t[i].x*n[i](e),o+=t[i].y*n[i](e);return{x:r,y:o}},g=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},v=function(t){return t[0].x==t[1].x&&t[0].y==t[1].y},y=function(t,e,n){if(v(t))return{point:t[0],location:e};for(var r=f(t,e),o=0,i=e,s=n>0?1:-1,a=null;o<Math.abs(n);)a=f(t,i+=.005*s),o+=g(a,r),r=a;return{point:a,location:i}},b=function(t,e){var n=f(t,e),r=f(t.slice(0,t.length-1),e),o=r.y-n.y,i=r.x-n.x;return 0==o?1/0:Math.atan(o/i)},_=this.jsBezier={distanceFromCurve:i,gradientAtPoint:b,gradientAtPointAlongCurveFrom:function(t,e,n){var r=y(t,e,n);return r.location>1&&(r.location=1),r.location<0&&(r.location=0),b(t,r.location)},nearestPointOnCurve:function(t,e){var n=i(t,e);return{point:h(e,e.length-1,n.location,null,null),location:n.location}},pointOnCurve:f,pointAlongCurveFrom:function(t,e,n){return y(t,e,n).point},perpendicularToCurveAt:function(t,e,n,r){var o=y(t,e,r=null==r?0:r),i=b(t,o.location),s=Math.atan(-1/i),a=n/2*Math.sin(s),u=n/2*Math.cos(s);return[{x:o.point.x+u,y:o.point.y+a},{x:o.point.x-u,y:o.point.y-a}]},locationAlongCurveFrom:function(t,e,n){return y(t,e,n).location},getLength:function(t){if(v(t))return 0;for(var e=f(t,0),n=0,r=0,o=null;r<1;)o=f(t,r+=.005),n+=g(o,e),e=o;return n},version:"0.9.0"};if(void 0!==m){var P=_;m.jsBezier=P}}).call("undefined"!=typeof window?window:m),function(){var t=this.Biltong={version:"0.4.0"};if(void 0!==m){var e=t;m.Biltong=e}var n=function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=function(t,e,r){return r(t=n(t)?t:[t.x,t.y],e=n(e)?e:[e.x,e.y])},o=t.gradient=function(t,e){return r(t,e,function(t,e){return e[0]==t[0]?e[1]>t[1]?1/0:-1/0:e[1]==t[1]?e[0]>t[0]?0:-0:(e[1]-t[1])/(e[0]-t[0])})},i=(t.normal=function(t,e){return-1/o(t,e)},t.lineLength=function(t,e){return r(t,e,function(t,e){return Math.sqrt(Math.pow(e[1]-t[1],2)+Math.pow(e[0]-t[0],2))})},t.quadrant=function(t,e){return r(t,e,function(t,e){return e[0]>t[0]?e[1]>t[1]?2:1:e[0]==t[0]?e[1]>t[1]?2:1:e[1]>t[1]?3:4})}),s=(t.theta=function(t,e){return r(t,e,function(t,e){var n=o(t,e),r=Math.atan(n),s=i(t,e);return 4!=s&&3!=s||(r+=Math.PI),r<0&&(r+=2*Math.PI),r})},t.intersects=function(t,e){var n=t.x,r=t.x+t.w,o=t.y,i=t.y+t.h,s=e.x,a=e.x+e.w,u=e.y,c=e.y+e.h;return n<=s&&s<=r&&o<=u&&u<=i||n<=a&&a<=r&&o<=u&&u<=i||n<=s&&s<=r&&o<=c&&c<=i||n<=a&&s<=r&&o<=c&&c<=i||s<=n&&n<=a&&u<=o&&o<=c||s<=r&&r<=a&&u<=o&&o<=c||s<=n&&n<=a&&u<=i&&i<=c||s<=r&&n<=a&&u<=i&&i<=c},t.encloses=function(t,e,n){var r=t.x,o=t.x+t.w,i=t.y,s=t.y+t.h,a=e.x,u=e.x+e.w,c=e.y,l=e.y+e.h,h=function(t,e,r,o){return n?t<=e&&r>=o:t<e&&r>o};return h(r,a,o,u)&&h(i,c,s,l)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),a=[null,[-1,-1],[-1,1],[1,1],[1,-1]];t.pointOnLine=function(t,e,n){var r=o(t,e),u=i(t,e),c=n>0?s[u]:a[u],l=Math.atan(r),h=Math.abs(n*Math.sin(l))*c[1],d=Math.abs(n*Math.cos(l))*c[0];return{x:t.x+d,y:t.y+h}},t.perpendicularLineTo=function(t,e,n){var r=o(t,e),i=Math.atan(-1/r),s=n/2*Math.sin(i),a=n/2*Math.cos(i);return[{x:e.x+a,y:e.y+s},{x:e.x-a,y:e.y-s}]}}.call("undefined"!=typeof window?window:m),function(){var t=navigator.userAgent.toLowerCase().indexOf("android")>-1,e=function(t,e,n){for(var r=(n=n||t.parentNode).querySelectorAll(e),o=0;o<r.length;o++)if(r[o]===t)return!0;return!1},n=function(t){return"string"==typeof t||t.constructor===String?document.getElementById(t):t},r=function(t){return t.srcElement||t.target},o=function(t,e,n,r){if(r){if(void 0!==t.path&&t.path.indexOf)return{path:t.path,end:t.path.indexOf(n)};var o={path:[],end:-1};return function t(e){o.path.push(e),e===n?o.end=o.path.length-1:null!=e.parentNode&&t(e.parentNode)}(e),o}return{path:[e],end:1}},i=function(t,e){for(var n=0,r=t.length;n<r&&t[n]!=e;n++);n<t.length&&t.splice(n,1)},s=1,a=function(t,e,n){var r=s++;return t.__ta=t.__ta||{},t.__ta[e]=t.__ta[e]||{},t.__ta[e][r]=n,n.__tauid=r,r},u=function(t,n,i,s){if(null==t)return i;var a=t.split(","),u=function s(u){s.__tauid=i.__tauid;var c=r(u),l=c,h=o(u,c,n,null!=t);if(-1!=h.end)for(var d=0;d<h.end;d++){l=h.path[d];for(var f=0;f<a.length;f++)e(l,a[f],n)&&i.apply(l,arguments)}};return c(i,s,u),u},c=function(t,e,n){t.__taExtra=t.__taExtra||[],t.__taExtra.push([e,n])},l=function(t,e,n,r){if(g&&y[e]){var o=u(r,t,n,y[e]);w(t,y[e],o,n)}"focus"===e&&null==t.getAttribute("tabindex")&&t.setAttribute("tabindex","1"),w(t,e,u(r,t,n,e),n)},h={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},d=function(t,n){return function(s,a,u,c){if("contextmenu"==a&&v)l(s,a,u,c);else{if(null==s.__taTapHandler){var d=s.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},f=function(){d.down=!1},p=function(){d.taps=0};l(s,"mousedown",function(i){for(var a=r(i),u=o(i,a,s,null!=c),l=!1,h=0;h<u.end;h++){if(l)return;a=u.path[h];for(var g=0;g<d.downSelectors.length;g++)if(null==d.downSelectors[g]||e(a,d.downSelectors[g],s)){d.down=!0,setTimeout(f,t),setTimeout(p,n),l=!0;break}}}),l(s,"mouseup",function(t){if(d.down){var n,i,a=r(t);d.taps++;var u=C(t);for(var c in h)if(h.hasOwnProperty(c)){var l=h[c];if(l.touches===u&&(1===l.taps||l.taps===d.taps))for(var f=0;f<d[c].length;f++){i=o(t,a,s,null!=d[c][f][1]);for(var p=0;p<i.end;p++)if(n=i.path[p],null==d[c][f][1]||e(n,d[c][f][1],s)){d[c][f][0].apply(n,[t]);break}}}}})}s.__taTapHandler.downSelectors.push(c),s.__taTapHandler[a].push([u,c]),u.__taUnstore=function(){i(s.__taTapHandler[a],u)}}}},f=function(t,e,n,r){for(var o in n.__tamee[t])n.__tamee[t].hasOwnProperty(o)&&n.__tamee[t][o].apply(r,[e])},p=function(){var t=[];return function(n,o,i,s){if(!n.__tamee){n.__tamee={over:!1,mouseenter:[],mouseexit:[]};var c=function(o){var i=r(o);(null==s&&i==n&&!n.__tamee.over||e(i,s,n)&&(null==i.__tamee||!i.__tamee.over))&&(f("mouseenter",o,n,i),i.__tamee=i.__tamee||{},i.__tamee.over=!0,t.push(i))},l=function(o){for(var i=r(o),s=0;s<t.length;s++)i!=t[s]||e(o.relatedTarget||o.toElement,"*",i)||(i.__tamee.over=!1,t.splice(s,1),f("mouseexit",o,n,i))};w(n,"mouseover",u(s,n,c,"mouseover"),c),w(n,"mouseout",u(s,n,l,"mouseout"),l)}i.__taUnstore=function(){delete n.__tamee[o][i.__tauid]},a(n,o,i),n.__tamee[o][i.__tauid]=i}},g="ontouchstart"in document.documentElement,v="onmousedown"in document.documentElement,y={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},b=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),_=b>-1&&b<9,P=function(t,e){if(null==t)return[0,0];var n=S(t),r=x(n,0);return[r[e+"X"],r[e+"Y"]]},E=function(t){return null==t?[0,0]:_?[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop]:P(t,"page")},x=function(t,e){return t.item?t.item(e):t[e]},S=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},C=function(t){return S(t).length},w=function(t,e,n,r){if(a(t,e,n),r.__tauid=n.__tauid,t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent){var o=e+n.__tauid;t["e"+o]=n,t[o]=function(){t["e"+o]&&t["e"+o](window.event)},t.attachEvent("on"+e,t[o])}},j=function t(e,r,o){null!=o&&D(e,function(){var i=n(this);if(function(e,n,r){if(e.__ta&&e.__ta[n]&&delete e.__ta[n][r.__tauid],r.__taExtra){for(var o=0;o<r.__taExtra.length;o++)t(e,r.__taExtra[o][0],r.__taExtra[o][1]);r.__taExtra.length=0}r.__taUnstore&&r.__taUnstore()}(i,r,o),null!=o.__tauid)if(i.removeEventListener)i.removeEventListener(r,o,!1),g&&y[r]&&i.removeEventListener(y[r],o,!1);else if(this.detachEvent){var s=r+o.__tauid;i[s]&&i.detachEvent("on"+r,i[s]),i[s]=null,i["e"+s]=null}o.__taTouchProxy&&t(e,o.__taTouchProxy[1],o.__taTouchProxy[0])})},D=function(t,e){if(null!=t){t="undefined"!=typeof Window&&"unknown"!=typeof t.top&&t==t.top?[t]:"string"!=typeof t&&null==t.tagName&&null!=t.length?t:"string"==typeof t?document.querySelectorAll(t):[t];for(var n=0;n<t.length;n++)e.apply(t[n])}};if(this.Mottle=function(e){var o=(e=e||{}).clickThreshold||250,s=e.dblClickThreshold||450,a=new p,u=new d(o,s),c=e.smartClicks,h=function(t,e,o,s){null!=o&&D(t,function(){var t=n(this);c&&"click"===e?function(t,e,n,o){null==t.__taSmartClicks&&(l(t,"mousedown",function(e){t.__tad=E(e)},o),l(t,"mouseup",function(e){t.__tau=E(e)},o),l(t,"click",function(e){if(t.__tad&&t.__tau&&t.__tad[0]===t.__tau[0]&&t.__tad[1]===t.__tau[1])for(var n=0;n<t.__taSmartClicks.length;n++)t.__taSmartClicks[n].apply(r(e),[e])},o),t.__taSmartClicks=[]),t.__taSmartClicks.push(n),n.__taUnstore=function(){i(t.__taSmartClicks,n)}}(t,0,o,s):"tap"===e||"dbltap"===e||"contextmenu"===e?u(t,e,o,s):"mouseenter"===e||"mouseexit"==e?a(t,e,o,s):l(t,e,o,s)})};this.remove=function(t){return D(t,function(){var t=n(this);if(t.__ta)for(var e in t.__ta)if(t.__ta.hasOwnProperty(e))for(var r in t.__ta[e])t.__ta[e].hasOwnProperty(r)&&j(t,e,t.__ta[e][r]);t.parentNode&&t.parentNode.removeChild(t)}),this},this.on=function(t,e,n,r){var o=arguments[0],i=4==arguments.length?arguments[2]:null,s=arguments[1],a=arguments[arguments.length-1];return h(o,s,a,i),this},this.off=function(t,e,n){return j(t,e,n),this},this.trigger=function(e,r,o,i){var s=v&&("undefined"==typeof MouseEvent||null==o||o.constructor===MouseEvent),a=g&&!v&&y[r]?y[r]:r,u=!(g&&!v&&y[r]),c=E(o),l=P(o,"screen"),h=function(t){return P(t,"client")}(o);return D(e,function(){var e,d=n(this);o=o||{screenX:l[0],screenY:l[1],clientX:h[0],clientY:h[1]};var f=function(t){i&&(t.payload=i)},p={TouchEvent:function(t){var e=document.createTouch(window,d,0,c[0],c[1],l[0],l[1],h[0],h[1],0,0,0,0),n=document.createTouchList(e),r=document.createTouchList(e),o=document.createTouchList(e);t.initTouchEvent(a,!0,!0,window,null,l[0],l[1],h[0],h[1],!1,!1,!1,!1,n,r,o,1,0)},MouseEvents:function(e){if(e.initMouseEvent(a,!0,!0,window,0,l[0],l[1],h[0],h[1],!1,!1,!1,!1,1,d),t){var n=document.createTouch(window,d,0,c[0],c[1],l[0],l[1],h[0],h[1],0,0,0,0);e.touches=e.targetTouches=e.changedTouches=document.createTouchList(n)}}};if(document.createEvent){var v=u||s||!g||!y[r]||t?"MouseEvents":"TouchEvent";e=document.createEvent(v),p[v](e),f(e),d.dispatchEvent(e)}else document.createEventObject&&((e=document.createEventObject()).eventType=e.eventName=a,e.screenX=l[0],e.screenY=l[1],e.clientX=h[0],e.clientY=h[1],f(e),d.fireEvent("on"+a,e))}),this}},this.Mottle.consume=function(t,e){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!e&&t.preventDefault&&t.preventDefault()},this.Mottle.pageLocation=E,this.Mottle.setForceTouchEvents=function(t){g=t},this.Mottle.setForceMouseEvents=function(t){v=t},this.Mottle.version="0.8.0",void 0!==m){var I=this.Mottle;m.Mottle=I}}.call("undefined"==typeof window?m:window),function(){var t=function(t,e,n){return-1===t.indexOf(e)&&(n?t.unshift(e):t.push(e),!0)},e=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},n=function(t){return null!=t&&("string"==typeof t||t.constructor==String)},r=function(t,e,n){for(var r=(n=n||t.parentNode).querySelectorAll(e),o=0;o<r.length;o++)if(r[o]===t)return!0;return!1},o=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),i=o>-1&&o<9,s=9==o,a=function(t){if(i)return[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop];var e=c(t),n=u(e,0);return s?[n.pageX||n.clientX,n.pageY||n.clientY]:[n.pageX,n.pageY]},u=function(t,e){return t.item?t.item(e):t[e]},c=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},l={draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy"},h=["stop","start","drag","drop","over","out","beforeStart"],d=function(){},f=function(){return!0},p=function(t,e,n){for(var r=0;r<t.length;r++)t[r]!=n&&e(t[r])},g=function(t,e,n,r){p(t,function(t){t.setActive(e),e&&t.updatePosition(),n&&t.setHover(r,e)})},v=function(t,e){if(null!=t){t=n(t)||null!=t.tagName||null==t.length?[t]:t;for(var r=0;r<t.length;r++)e.apply(t[r],[t[r]])}},y=function(t){t.stopPropagation?(t.stopPropagation(),t.preventDefault()):t.returnValue=!1},b=function(t,e,n,r){this.params=e||{},this.el=t,this.params.addClass(this.el,this._class),this.uuid=S();var o=!0;return this.setEnabled=function(t){o=t},this.isEnabled=function(){return o},this.toggleEnabled=function(){o=!o},this.setScope=function(t){this.scopes=t?t.split(/\s+/):[r]},this.addScope=function(t){var e={};for(var n in v(this.scopes,function(t){e[t]=!0}),v(t?t.split(/\s+/):[],function(t){e[t]=!0}),this.scopes=[],e)this.scopes.push(n)},this.removeScope=function(t){var e={};for(var n in v(this.scopes,function(t){e[t]=!0}),v(t?t.split(/\s+/):[],function(t){delete e[t]}),this.scopes=[],e)this.scopes.push(n)},this.toggleScope=function(t){var e={};for(var n in v(this.scopes,function(t){e[t]=!0}),v(t?t.split(/\s+/):[],function(t){e[t]?delete e[t]:e[t]=!0}),this.scopes=[],e)this.scopes.push(n)},this.setScope(e.scope),this.k=e.katavorio,e.katavorio},_=function(){return!0},P=function(){return!1},E=function(t,e,o,i){this._class=o.draggable;var s=b.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var u,c=[0,0],h=null,d=null,p=[0,0],v=!1,m=!1!==this.params.consumeStartEvent,E=this.el,x=this.params.clone,w=(this.params.scroll,!1!==e.multipleDrop),j=!1,D=!0===e.ghostProxy?_:e.ghostProxy&&"function"==typeof e.ghostProxy?e.ghostProxy:P,I=e.snapThreshold,M=function(t,e,n,r,o){var i=e*Math.floor(t[0]/e),s=i+e,a=Math.abs(t[0]-i)<=r?i:Math.abs(s-t[0])<=r?s:t[0],u=n*Math.floor(t[1]/n),c=u+n;return[a,Math.abs(t[1]-u)<=o?u:Math.abs(c-t[1])<=o?c:t[1]]};this.posses=[],this.posseRoles={},this.toGrid=function(t){if(null==this.params.grid)return t;var e=this.params.grid?this.params.grid[0]/2:I||5,n=this.params.grid?this.params.grid[1]/2:I||5;return M(t,this.params.grid[0],this.params.grid[1],e,n)},this.snap=function(t,e){if(null!=E){t=t||(this.params.grid?this.params.grid[0]:10),e=e||(this.params.grid?this.params.grid[1]:10);var n=this.params.getPosition(E),r=this.params.grid?this.params.grid[0]/2:I,o=this.params.grid?this.params.grid[1]/2:I;this.params.setPosition(E,M(n,t,e,r,o))}},this.setUseGhostProxy=function(t){D=t?_:P};var O,A=function(t){return!1===e.allowNegative?[Math.max(0,t[0]),Math.max(0,t[1])]:t},N=function(t){u="function"==typeof t?t:t?function(t){return A([Math.max(0,Math.min(L.w-this.size[0],t[0])),Math.max(0,Math.min(L.h-this.size[1],t[1]))])}.bind(this):function(t){return A(t)}}.bind(this);N("function"==typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment),this.setConstrain=function(t){N(t)},this.setRevert=function(t){O=t};var k={},T=this.setFilter=function(e,o){if(e){var i="function"==typeof(s=e)?(s._katavorioId=S(),s._katavorioId):s;k[i]=[function(o){var i,s=o.srcElement||o.target;return n(e)?i=r(s,e,t):"function"==typeof e&&(i=e(o,t)),i},!1!==o]}var s};this.addFilter=T,this.removeFilter=function(t){var e="function"==typeof t?t._katavorioId:t;delete k[e]},this.clearAllFilters=function(){k={}},this.canDrag=this.params.canDrag||f;var L,F=[],R=[];this.downListener=function(t){var e,n,i,u,l,d,f,p,g,v;if((this.rightButtonCanDrag||3!==t.which&&2!==t.button)&&this.isEnabled()&&this.canDrag())if(function(t){for(var e in k){var n=k[e],r=n[0](t);if(n[1]&&(r=!r),!r)return!1}return!0}(t)&&function(t,e,n){var o=t.srcElement||t.target;return!r(o,n.getInputFilterSelector(),e)}(t,this.el,this.k)){if(x){(E=this.el.cloneNode(!0)).setAttribute("id",null),E.style.position="absolute";var b=(e=this.el,n=e.getBoundingClientRect(),i=document.body,u=document.documentElement,l=window.pageYOffset||u.scrollTop||i.scrollTop,d=window.pageXOffset||u.scrollLeft||i.scrollLeft,f=u.clientTop||i.clientTop||0,p=u.clientLeft||i.clientLeft||0,g=n.top+l-f,v=n.left+d-p,{top:Math.round(g),left:Math.round(v)});E.style.left=b.left+"px",E.style.top=b.top+"px",document.body.appendChild(E)}else E=this.el;m&&y(t),c=a(t),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),s.markSelection(this),s.markPosses(this),this.params.addClass(document.body,o.noSelect),U("beforeStart",{el:this.el,pos:h,e:t,drag:this})}else this.params.consumeFilteredEvents&&y(t)}.bind(this),this.moveListener=function(t){if(c){if(!v)if(!1!==U("start",{el:this.el,pos:h,e:t,drag:this})){if(!c)return;this.mark(!0),v=!0}else this.abort();if(c){R.length=0;var e=a(t),n=e[0]-c[0],r=e[1]-c[1],o=this.params.ignoreZoom?1:s.getZoom();n/=o,r/=o,this.moveBy(n,r,t),s.updateSelection(n,r,this),s.updatePosses(n,r,this)}}}.bind(this),this.upListener=function(t){c&&(c=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,o.noSelect),this.unmark(t),s.unmarkSelection(this,t),s.unmarkPosses(this,t),this.stop(t),s.notifySelectionDragStop(this,t),s.notifyPosseDragStop(this,t),v=!1,x&&(E&&E.parentNode&&E.parentNode.removeChild(E),E=null),R.length=0,O&&!0===O(this.el,this.params.getPosition(this.el))&&(this.params.setPosition(this.el,h),U("revert",this.el)))}.bind(this),this.getFilters=function(){return k},this.abort=function(){null!=c&&this.upListener()},this.getDragElement=function(){return E||this.el};var B={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};e.events.start&&B.start.push(e.events.start),e.events.beforeStart&&B.beforeStart.push(e.events.beforeStart),e.events.stop&&B.stop.push(e.events.stop),e.events.drag&&B.drag.push(e.events.drag),e.events.revert&&B.revert.push(e.events.revert),this.on=function(t,e){B[t]&&B[t].push(e)},this.off=function(t,e){if(B[t]){for(var n=[],r=0;r<B[t].length;r++)B[t][r]!==e&&n.push(B[t][r]);B[t]=n}};var G,U=function(t,e){var n=null;if(B[t])for(var r=0;r<B[t].length;r++)try{var o=B[t][r](e);null!=o&&(n=o)}catch(t){}return n};this.notifyStart=function(t){U("start",{el:this.el,pos:this.params.getPosition(E),e:t,drag:this})},this.stop=function(t,e){if(e||v){var n=[],r=s.getSelection(),o=this.params.getPosition(E);if(r.length>1)for(var i=0;i<r.length;i++){var a=this.params.getPosition(r[i].el);n.push([r[i].el,{left:a[0],top:a[1]},r[i]])}else n.push([E,{left:o[0],top:o[1]},this]);U("stop",{el:E,pos:G||o,finalPos:o,e:t,drag:this,selection:n})}},this.mark=function(t){var e;h=this.params.getPosition(E),d=this.params.getPosition(E,!0),p=[d[0]-h[0],d[1]-h[1]],this.size=this.params.getSize(E),F=s.getMatchingDroppables(this),g(F,!0,!1,this),this.params.addClass(E,this.params.dragClass||o.drag),e=this.params.getConstrainingRectangle?this.params.getConstrainingRectangle(E):this.params.getSize(E.parentNode),L={w:e[0],h:e[1]},t&&s.notifySelectionDragStart(this)},this.unmark=function(t,n){if(g(F,!1,!0,this),j&&D(this.el)?(G=[E.offsetLeft,E.offsetTop],this.el.parentNode.removeChild(E),E=this.el):G=null,this.params.removeClass(E,this.params.dragClass||o.drag),F.length=0,j=!1,!n){R.length>0&&G&&e.setPosition(this.el,G),R.sort(C);for(var r=0;r<R.length&&!0!==R[r].drop(this,t);r++);}},this.moveBy=function(t,n,r){R.length=0;var o=this.toGrid([h[0]+t,h[1]+n]),i=u(o,E);if(D(this.el))if(o[0]!=i[0]||o[1]!=i[1]){if(!j){var s=this.el.cloneNode(!0);e.addClass(s,l.ghostProxy),this.el.parentNode.appendChild(s),E=s,j=!0}i=o}else j&&(this.el.parentNode.removeChild(E),E=this.el,j=!1);var a={x:i[0],y:i[1],w:this.size[0],h:this.size[1]},c={x:a.x+p[0],y:a.y+p[1],w:a.w,h:a.h},d=null;this.params.setPosition(E,i);for(var f=0;f<F.length;f++){var g={x:F[f].pagePosition[0],y:F[f].pagePosition[1],w:F[f].size[0],h:F[f].size[1]};this.params.intersects(c,g)&&(w||null==d||d==F[f].el)&&F[f].canDrop(this)?(d||(d=F[f].el),R.push(F[f]),F[f].setHover(this,!0,r)):F[f].isHover()&&F[f].setHover(this,!1,r)}U("drag",{el:this.el,pos:i,e:r,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?T(this.params.handle,!1):T(this.params.filter,this.params.filterExclude)},x=function(t,e,n,r){this._class=n.droppable,this.params=e||{},this.rank=e.rank||0,this._activeClass=this.params.activeClass||n.active,this._hoverClass=this.params.hoverClass||n.hover,b.apply(this,arguments);var o=!1;this.allowLoopback=!1!==this.params.allowLoopback,this.setActive=function(t){this.params[t?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.pagePosition=this.params.getPosition(this.el,!0),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(t){return!0},this.isHover=function(){return o},this.setHover=function(t,e,n){(e||null==this.el._katavorioDragHover||this.el._katavorioDragHover==t.el._katavorio)&&(this.params[e?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=e?t.el._katavorio:null,o!==e&&this.params.events[e?"over":"out"]({el:this.el,e:n,drag:t,drop:this}),o=e)},this.drop=function(t,e){return this.params.events.drop({drag:t,e:e,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,o=null}},S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},C=function(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:0},w=function(t){return null==t?null:null==(t="string"==typeof t||t.constructor==String?document.getElementById(t):t)?null:(t._katavorio=t._katavorio||S(),t)};if(this.Katavorio=function(r){var o=[],i={};this._dragsByScope={},this._dropsByScope={};var s=1,a=function(t,e){v(t,function(t){for(var n=0;n<t.scopes.length;n++)e[t.scopes[n]]=e[t.scopes[n]]||[],e[t.scopes[n]].push(t)})},u=function(t,e){var n=0;return v(t,function(t){for(var o=0;o<t.scopes.length;o++)if(e[t.scopes[o]]){var i=r.indexOf(e[t.scopes[o]],t);-1!=i&&(e[t.scopes[o]].splice(i,1),n++)}}),n>0},c=(this.getMatchingDroppables=function(t){for(var e=[],n={},r=0;r<t.scopes.length;r++){var o=this._dropsByScope[t.scopes[r]];if(o)for(var i=0;i<o.length;i++)!o[i].canDrop(t)||n[o[i].uuid]||!o[i].allowLoopback&&o[i].el===t.el||(n[o[i].uuid]=!0,e.push(o[i]))}return e.sort(C),e},function(t){t=t||{};var e,n={events:{}};for(e in r)n[e]=r[e];for(e in t)n[e]=t[e];for(e=0;e<h.length;e++)n.events[h[e]]=t[h[e]]||d;return n.katavorio=this,n}.bind(this)),f=function(t,e){for(var n=0;n<h.length;n++)e[h[n]]&&t.on(h[n],e[h[n]])}.bind(this),g={},m=r.css||{},y=r.scope||"katavorio-drag-scope";for(var b in l)g[b]=l[b];for(var b in m)g[b]=m[b];var _=r.inputFilterSelector||"input,textarea,select,button,option";this.getInputFilterSelector=function(){return _},this.setInputFilterSelector=function(t){return _=t,this},this.draggable=function(t,e){var n=[];return v(t,function(t){if(null!=(t=w(t)))if(null==t._katavorioDrag){var o=c(e);t._katavorioDrag=new E(t,o,g,y),a(t._katavorioDrag,this._dragsByScope),n.push(t._katavorioDrag),r.addClass(t,g.draggable)}else f(t._katavorioDrag,e)}.bind(this)),n},this.droppable=function(t,e){var n=[];return v(t,function(t){if(null!=(t=w(t))){var o=new x(t,c(e),g,y);t._katavorioDrop=t._katavorioDrop||[],t._katavorioDrop.push(o),a(o,this._dropsByScope),n.push(o),r.addClass(t,g.droppable)}}.bind(this)),n},this.select=function(t){return v(t,function(){var t=w(this);t&&t._katavorioDrag&&(i[t._katavorio]||(o.push(t._katavorioDrag),i[t._katavorio]=[t,o.length-1],r.addClass(t,g.selected)))}),this},this.deselect=function(t){return v(t,function(){var t=w(this);if(t&&t._katavorio&&i[t._katavorio]){for(var e=[],n=0;n<o.length;n++)o[n].el!==t&&e.push(o[n]);o=e,delete i[t._katavorio],r.removeClass(t,g.selected)}}),this},this.deselectAll=function(){for(var t in i){var e=i[t];r.removeClass(e[0],g.selected)}o.length=0,i={}},this.markSelection=function(t){p(o,function(t){t.mark()},t)},this.markPosses=function(t){t.posses&&v(t.posses,function(e){t.posseRoles[e]&&D[e]&&p(D[e].members,function(t){t.mark()},t)})},this.unmarkSelection=function(t,e){p(o,function(t){t.unmark(e)},t)},this.unmarkPosses=function(t,e){t.posses&&v(t.posses,function(n){t.posseRoles[n]&&D[n]&&p(D[n].members,function(t){t.unmark(e,!0)},t)})},this.getSelection=function(){return o.slice(0)},this.updateSelection=function(t,e,n){p(o,function(n){n.moveBy(t,e)},n)};var P=function(t,e){e.posses&&v(e.posses,function(n){e.posseRoles[n]&&D[n]&&p(D[n].members,function(e){t(e)},e)})};this.updatePosses=function(t,e,n){P(function(n){n.moveBy(t,e)},n)},this.notifyPosseDragStop=function(t,e){P(function(t){t.stop(e,!0)},t)},this.notifySelectionDragStop=function(t,e){p(o,function(t){t.stop(e,!0)},t)},this.notifySelectionDragStart=function(t,e){p(o,function(t){t.notifyStart(e)},t)},this.setZoom=function(t){s=t},this.getZoom=function(){return s};var S=function(t,e,n,r){v(t,function(t){u(t,n),t[r](e),a(t,n)})};v(["set","add","remove","toggle"],function(t){this[t+"Scope"]=function(e,n){S(e._katavorioDrag,n,this._dragsByScope,t+"Scope"),S(e._katavorioDrop,n,this._dropsByScope,t+"Scope")}.bind(this),this[t+"DragScope"]=function(e,n){S(e.constructor===E?e:e._katavorioDrag,n,this._dragsByScope,t+"Scope")}.bind(this),this[t+"DropScope"]=function(e,n){S(e.constructor===x?e:e._katavorioDrop,n,this._dropsByScope,t+"Scope")}.bind(this)}.bind(this)),this.snapToGrid=function(t,e){for(var n in this._dragsByScope)p(this._dragsByScope[n],function(n){n.snap(t,e)})},this.getDragsForScope=function(t){return this._dragsByScope[t]},this.getDropsForScope=function(t){return this._dropsByScope[t]};var j=function(t,e,n){if((t=w(t))[e]){var r=o.indexOf(t[e]);r>=0&&o.splice(r,1),u(t[e],n)&&v(t[e],function(t){t.destroy()}),delete t[e]}};this.elementRemoved=function(t){this.destroyDraggable(t),this.destroyDroppable(t)},this.destroyDraggable=function(t){j(t,"_katavorioDrag",this._dragsByScope)},this.destroyDroppable=function(t){j(t,"_katavorioDrop",this._dropsByScope)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},o=[],i={},D={}};var D={},I=function(e,r,o){var i,s=n(r)?r:r.id,a=!!n(r)||!1!==r.active,u=D[s]||(i={name:s,members:[]},D[s]=i,i);return v(e,function(e){if(e._katavorioDrag){if(o&&null!=e._katavorioDrag.posseRoles[u.name])return;t(u.members,e._katavorioDrag),t(e._katavorioDrag.posses,u.name),e._katavorioDrag.posseRoles[u.name]=a}}),u};this.addToPosse=function(t,e){for(var n=[],r=1;r<arguments.length;r++)n.push(I(t,arguments[r]));return 1==n.length?n[0]:n},this.setPosse=function(t,e){for(var n=[],r=1;r<arguments.length;r++)n.push(I(t,arguments[r],!0).name);return v(t,function(t){if(t._katavorioDrag){var e=function(t,e){for(var n=[],r=0;r<t.length;r++)-1==e.indexOf(t[r])&&n.push(t[r]);return n}(t._katavorioDrag.posses,n);Array.prototype.push.apply([],t._katavorioDrag.posses);for(var r=0;r<e.length;r++)this.removeFromPosse(t,e[r])}}.bind(this)),1==n.length?n[0]:n},this.removeFromPosse=function(t,n){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var r=1;r<arguments.length;r++)n=arguments[r],v(t,function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var r=t._katavorioDrag;v(n,function(t){e(D[t].members,r),e(r.posses,t),delete r.posseRoles[t]})}})},this.removeFromAllPosses=function(t){v(t,function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var n=t._katavorioDrag;v(n.posses,function(t){e(D[t].members,n)}),n.posses.length=0,n.posseRoles={}}})},this.setPosseState=function(t,e,n){var r=D[e];r&&v(t,function(t){t._katavorioDrag&&t._katavorioDrag.posses&&(t._katavorioDrag.posseRoles[r.name]=n)})}},this.Katavorio.version="0.19.3",void 0!==m){var j=this.Katavorio;m.Katavorio=j}}.call("undefined"!=typeof window?window:m),function(){var t=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e=function(t){return"string"==typeof t},n=function(t){return"boolean"==typeof t},r=function(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)},o=function(t){return"[object Date]"===Object.prototype.toString.call(t)},i=function(t){return"[object Function]"===Object.prototype.toString.call(t)},s=this;if(s.jsPlumbUtil={isArray:t,isString:e,isBoolean:n,isNull:function(t){return null==t},isObject:r,isDate:o,isFunction:i,isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)},clone:function(s){if(e(s))return""+s;if(n(s))return!!s;if(o(s))return new Date(s.getTime());if(i(s))return s;if(t(s)){for(var a=[],u=0;u<s.length;u++)a.push(this.clone(s[u]));return a}if(r(s)){var c={};for(var l in s)c[l]=this.clone(s[l]);return c}return s},merge:function(o,i,s){var a,u,c={};for(s=s||[],u=0;u<s.length;u++)c[s[u]]=!0;var l=this.clone(o);for(u in i)if(null==l[u])l[u]=i[u];else if(e(i[u])||n(i[u]))c[u]?((a=[]).push.apply(a,t(l[u])?l[u]:[l[u]]),a.push.apply(a,t(i[u])?i[u]:[i[u]]),l[u]=a):l[u]=i[u];else if(t(i[u]))a=[],t(l[u])&&a.push.apply(a,l[u]),a.push.apply(a,i[u]),l[u]=a;else if(r(i[u]))for(var h in r(l[u])||(l[u]={}),i[u])l[u][h]=i[u][h];return l},replace:function(t,e,n){if(null!=t){var r=t;return e.replace(/([^\.])+/g,function(t,e,o,i){var s=t.match(/([^\[0-9]+){1}(\[)([0-9+])/),a=function(){return r[s[1]]||(r[s[1]]=[],r[s[1]])};if(o+t.length>=i.length)s?a()[s[3]]=n:r[t]=n;else if(s){var u=a();r=u[s[3]]||(u[s[3]]={},u[s[3]])}else r=r[t]||(r[t]={},r[t])}),t}},functionChain:function(t,e,n){for(var r=0;r<n.length;r++){var o=n[r][0][n[r][1]].apply(n[r][0],n[r][2]);if(o===e)return o}return t},populate:function(n,o,s){return function n(a){if(null!=a){if(e(a))return function(t){var e=t.match(/(\${.*?})/g);if(null!=e)for(var n=0;n<e.length;n++){var r=o[e[n].substring(2,e[n].length-1)]||"";null!=r&&(t=t.replace(e[n],r))}return t}(a);if(!i(a)||null!=s&&0!==(a.name||"").indexOf(s)){if(t(a)){for(var u=[],c=0;c<a.length;c++)u.push(n(a[c]));return u}if(r(a)){var l={};for(var h in a)l[h]=n(a[h]);return l}return a}return a(o)}}(n)},findWithFunction:function(t,e){if(t)for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1},removeWithFunction:function(t,e){var n=s.jsPlumbUtil.findWithFunction(t,e);return n>-1&&t.splice(n,1),-1!==n},remove:function(t,e){var n=t.indexOf(e);return n>-1&&t.splice(n,1),-1!==n},addWithFunction:function(t,e,n){-1===s.jsPlumbUtil.findWithFunction(t,n)&&t.push(e)},addToList:function(t,e,n,r){var o=t[e];return null==o&&(o=[],t[e]=o),o[r?"unshift":"push"](n),o},suggest:function(t,e,n){return-1===t.indexOf(e)&&(n?t.unshift(e):t.push(e),!0)},extend:function(e,n,r){var o;for(n=t(n)?n:[n],o=0;o<n.length;o++)for(var i in n[o].prototype)n[o].prototype.hasOwnProperty(i)&&(e.prototype[i]=n[o].prototype[i]);var s=function(t,e){return function(){for(o=0;o<n.length;o++)n[o].prototype[t]&&n[o].prototype[t].apply(this,arguments);return e.apply(this,arguments)}};if(arguments.length>2)for(o=2;o<arguments.length;o++)!function(t){for(var n in t)e.prototype[n]=s(n,t[n])}(arguments[o]);return e},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},logEnabled:!0,log:function(){if(s.jsPlumbUtil.logEnabled&&"undefined"!=typeof console)try{var t=arguments[arguments.length-1];console.log(t)}catch(t){}},wrap:function(t,e,n){return function(){var r=null;try{null!=e&&(r=e.apply(this,arguments))}catch(t){s.jsPlumbUtil.log("jsPlumb function failed : "+t)}if(null!=t&&(null==n||r!==n))try{r=t.apply(this,arguments)}catch(t){s.jsPlumbUtil.log("wrapped function failed : "+t)}return r}}},s.jsPlumbUtil.EventGenerator=function(){var t={},e=!1,n=!1,r={ready:!0},o=[];this.bind=function(e,n,r){var o=function(e){s.jsPlumbUtil.addToList(t,e,n,r),n.__jsPlumb=n.__jsPlumb||{},n.__jsPlumb[s.jsPlumbUtil.uuid()]=e};if("string"==typeof e)o(e);else if(null!=e.length)for(var i=0;i<e.length;i++)o(e[i]);return this},this.fire=function(a,u,c){if(n)o.unshift(arguments);else{if(n=!0,!e&&t[a]){var l=t[a].length,h=0,d=!1,f=null;if(!this.shouldFireEvent||this.shouldFireEvent(a,u,c))for(;!d&&h<l&&!1!==f;){if(r[a])t[a][h].apply(this,[u,c]);else try{f=t[a][h].apply(this,[u,c])}catch(t){s.jsPlumbUtil.log("jsPlumb: fire failed for event "+a+" : "+t)}h++,null!=t&&null!=t[a]||(d=!0)}}n=!1,i()}return this};var i=function(){var t=o.pop();t&&this.fire.apply(this,t)}.bind(this);this.unbind=function(e,n){if(0===arguments.length)t={};else if(1===arguments.length){if("string"==typeof e)delete t[e];else if(e.__jsPlumb){var r;for(var o in e.__jsPlumb)r=e.__jsPlumb[o],s.jsPlumbUtil.remove(t[r]||[],e)}}else 2===arguments.length&&s.jsPlumbUtil.remove(t[e]||[],n);return this},this.getListener=function(e){return t[e]},this.setSuspendEvents=function(t){e=t},this.isSuspendEvents=function(){return e},this.silently=function(t){this.setSuspendEvents(!0);try{t()}catch(t){s.jsPlumbUtil.log("Cannot execute silent function "+t)}this.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var e in t)t[e]=null}},s.jsPlumbUtil.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}},void 0!==m){var a=s.jsPlumbUtil;m.jsPlumbUtil=a}}.call("undefined"!=typeof window?window:m),function(){this.jsPlumbUtil.matchesSelector=function(t,e,n){for(var r=(n=n||t.parentNode).querySelectorAll(e),o=0;o<r.length;o++)if(r[o]===t)return!0;return!1},this.jsPlumbUtil.consume=function(t,e){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!e&&t.preventDefault&&t.preventDefault()},this.jsPlumbUtil.sizeElement=function(t,e,n,r,o){t&&(t.style.height=o+"px",t.height=o,t.style.width=r+"px",t.width=r,t.style.left=e+"px",t.style.top=n+"px")}}.call("undefined"!=typeof window?window:m),function(){var t,e=this,n=[],r=e.jsPlumbUtil,i=function(){return""+(new Date).getTime()},s=function(t){if(t._jsPlumb.paintStyle&&t._jsPlumb.hoverPaintStyle){var e={};v.extend(e,t._jsPlumb.paintStyle),v.extend(e,t._jsPlumb.hoverPaintStyle),delete t._jsPlumb.hoverPaintStyle,e.gradient&&t._jsPlumb.paintStyle.fill&&delete e.gradient,t._jsPlumb.hoverPaintStyle=e}},a=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],u=function(t){return null==t?null:t.split(" ")},c=function(t,e,n){for(var r in e)t[r]=n},l=function(t,e){e=r.isArray(e)||null!=e.length&&!r.isString(e)?e:[e];for(var n=0;n<e.length;n++)try{t.apply(e[n],[e[n]])}catch(t){r.log(".each iteration failed : "+t)}},h=function(t,e,n){if(t.getDefaultType){var o=t.getTypeDescriptor(),i={},s=t.getDefaultType(),a=r.merge({},s);c(i,s,"__default");for(var u=0,l=t._jsPlumb.types.length;u<l;u++){var h=t._jsPlumb.types[u];if("__default"!==h){var d=t._jsPlumb.instance.getType(h,o);null!=d&&(a=r.merge(a,d,["cssClass"]),c(i,d,h))}}e&&(a=r.populate(a,e,"_")),t.applyType(a,n,i),n||t.repaint()}},d=e.jsPlumbUIComponent=function(t){r.EventGenerator.apply(this,arguments);var e=arguments,n=this.idPrefix+(new Date).getTime();this._jsPlumb={instance:t._jsPlumb,parameters:t.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:t.beforeDetach,beforeDrop:t.beforeDrop,overlayPlacements:[],hoverClass:t.hoverClass||t._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(t,e,n){this._jsPlumb.typeCache[n]=this._jsPlumb.typeCache[n]||{},this._jsPlumb.typeCache[n][t]=e},this.getCachedTypeItem=function(t,e){return this._jsPlumb.typeCache[e]?this._jsPlumb.typeCache[e][t]:null},this.getId=function(){return n};var o=t.overlays||[],i={};if(this.defaultOverlayKeys){for(var s=0;s<this.defaultOverlayKeys.length;s++)Array.prototype.push.apply(o,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[s]]||[]);for(s=0;s<o.length;s++){var a=v.convertToFullOverlaySpec(o[s]);i[a[1].id]=a}}var u={overlays:i,parameters:t.parameters||{},scope:t.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return u},this.appendToDefaultType=function(t){for(var e in t)u[e]=t[e]},t.events)for(var c in t.events)this.bind(c,t.events[c]);this.clone=function(){var t=Object.create(this.constructor.prototype);return this.constructor.apply(t,e),t}.bind(this),this.isDetachAllowed=function(t){var e=!0;if(this._jsPlumb.beforeDetach)try{e=this._jsPlumb.beforeDetach(t)}catch(t){r.log("jsPlumb: beforeDetach callback failed",t)}return e},this.isDropAllowed=function(t,e,n,o,i,s,a){var u=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:t,targetId:e,scope:n,connection:o,dropEndpoint:i,source:s,target:a});if(this._jsPlumb.beforeDrop)try{u=this._jsPlumb.beforeDrop({sourceId:t,targetId:e,scope:n,connection:o,dropEndpoint:i,source:s,target:a})}catch(t){r.log("jsPlumb: beforeDrop callback failed",t)}return u};var l=[];this.setListenerComponent=function(t){for(var e=0;e<l.length;e++)l[e][3]=t}},f=function(t,e){var n=t._jsPlumb.types[e],r=t._jsPlumb.instance.getType(n,t.getTypeDescriptor());null!=r&&r.cssClass&&t.canvas&&t._jsPlumb.instance.removeClass(t.canvas,r.cssClass)};r.extend(e.jsPlumbUIComponent,r.EventGenerator,{getParameter:function(t){return this._jsPlumb.parameters[t]},setParameter:function(t,e){this._jsPlumb.parameters[t]=e},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(t){this._jsPlumb.parameters=t},getClass:function(){return v.getClass(this.canvas)},hasClass:function(t){return v.hasClass(this.canvas,t)},addClass:function(t){v.addClass(this.canvas,t)},removeClass:function(t){v.removeClass(this.canvas,t)},updateClasses:function(t,e){v.updateClasses(this.canvas,t,e)},setType:function(t,e,n){this.clearTypes(),this._jsPlumb.types=u(t)||[],h(this,e,n)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(t,e){h(this,t,e)},hasType:function(t){return-1!==this._jsPlumb.types.indexOf(t)},addType:function(t,e,n){var r=u(t),o=!1;if(null!=r){for(var i=0,s=r.length;i<s;i++)this.hasType(r[i])||(this._jsPlumb.types.push(r[i]),o=!0);o&&h(this,e,n)}},removeType:function(t,e,n){var r=u(t),o=!1,i=function(t){var e=this._jsPlumb.types.indexOf(t);return-1!==e&&(f(this,e),this._jsPlumb.types.splice(e,1),!0)}.bind(this);if(null!=r){for(var s=0,a=r.length;s<a;s++)o=i(r[s])||o;o&&h(this,e,n)}},clearTypes:function(t,e){for(var n=this._jsPlumb.types.length,r=0;r<n;r++)f(this,0),this._jsPlumb.types.splice(0,1);h(this,t,e)},toggleType:function(t,e,n){var r=u(t);if(null!=r){for(var o=0,i=r.length;o<i;o++){var s=this._jsPlumb.types.indexOf(r[o]);-1!==s?(f(this,s),this._jsPlumb.types.splice(s,1)):this._jsPlumb.types.push(r[o])}h(this,e,n)}},applyType:function(t,e){if(this.setPaintStyle(t.paintStyle,e),this.setHoverPaintStyle(t.hoverPaintStyle,e),t.parameters)for(var n in t.parameters)this.setParameter(n,t.parameters[n]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(t,e){this._jsPlumb.paintStyle=t,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,s(this),e||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(t,e){this._jsPlumb.hoverPaintStyle=t,s(this),e||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(t){(t||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(t,e,n){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){this._jsPlumb.hover=t;var r=t?"addClass":"removeClass";null!=this.canvas&&(null!=this._jsPlumb.instance.hoverClass&&this._jsPlumb.instance[r](this.canvas,this._jsPlumb.instance.hoverClass),null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[r](this.canvas,this._jsPlumb.hoverClass)),null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=t?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(n=n||i(),this.repaint({timestamp:n,recalc:!1}))),this.getAttachedElements&&!e&&function(t,e,n,r){var o=t.getAttachedElements();if(o)for(var i=0,s=o.length;i<s;i++)r&&r===o[i]||o[i].setHover(e,!0,n)}(this,t,i(),this)}}});var p=0,g=e.jsPlumbInstance=function(s){this.version="2.5.7",s&&v.extend(this.Defaults,s),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},r.EventGenerator.apply(this);var u=this,c=function(){var t=p+1;return p++,t}(),h=u.bind,f={},g=1,m=function(t){if(null==t)return null;if(3===t.nodeType||8===t.nodeType)return{el:t,text:!0};var e=u.getElement(t);return{el:e,id:r.isString(t)&&null==e?t:X(e)}};for(var y in this.getInstanceIndex=function(){return c},this.setZoom=function(t,e){return g=t,u.fire("zoom",g),e&&u.repaintEverything(),!0},this.getZoom=function(){return g},this.Defaults)f[y]=this.Defaults[y];var b,_=[];this.unbindContainer=function(){if(null!=b&&_.length>0)for(var t=0;t<_.length;t++)u.off(b,_[t][0],_[t][1])},this.setContainer=function(t){this.unbindContainer(),t=this.getElement(t),this.select().each(function(e){e.moveParent(t)}),this.selectEndpoints().each(function(e){e.moveParent(t)});var e=b;b=t,_.length=0;for(var n={endpointclick:"endpointClick",endpointdblclick:"endpointDblClick"},r=function(t,e,r){var o=e.srcElement||e.target,i=(o&&o.parentNode?o.parentNode._jsPlumb:null)||(o?o._jsPlumb:null)||(o&&o.parentNode&&o.parentNode.parentNode?o.parentNode.parentNode._jsPlumb:null);if(i){i.fire(t,i,e);var s=r&&n[r+t]||t;u.fire(s,i.component||i,e)}},o=function(t,e,n){_.push([t,n]),u.on(b,t,e,n)},i=0;i<a.length;i++)!function(t){o(t,".jtk-connector",function(e){r(t,e)}),o(t,".jtk-endpoint",function(e){r(t,e,"endpoint")}),o(t,".jtk-overlay",function(e){r(t,e)})}(a[i]);for(var s in w){var c=w[s].el;c.parentNode===e&&(e.removeChild(c),b.appendChild(c))}},this.getContainer=function(){return b},this.bind=function(t,e){"ready"===t&&E?e():h.apply(u,[t,e])},u.importDefaults=function(t){for(var e in t)u.Defaults[e]=t[e];return t.Container&&u.setContainer(t.Container),u},u.restoreDefaults=function(){return u.Defaults=v.extend({},f),u};var P=null,E=!1,x=[],S={},C={},w={},j={},D={},I={},M=!1,O=[],A=!1,N=null,k=this.Defaults.Scope,T=1,L=function(){return""+T++},F=function(t,e){b?b.appendChild(t):e?this.getElement(e).appendChild(t):this.appendToRoot(t)}.bind(this),R=function(t,e,n,r){if(!A){var o,s=X(t),a=u.getDragManager();a&&(o=a.getElementsForDraggable(s)),null==n&&(n=i());var c=ct({elId:s,offset:e,recalc:!1,timestamp:n});if(o&&c&&c.o)for(var l in o)ct({elId:o[l].id,offset:{left:c.o.left+o[l].offset.left,top:c.o.top+o[l].offset.top},recalc:!1,timestamp:n});if(u.anchorManager.redraw(s,e,n,null,r),o)for(var h in o)u.anchorManager.redraw(o[h].id,e,n,o[h].offset,r,!0)}},B=function(t){return C[t]},G=function(t,e){var n=v.extend({},t);if(e&&v.extend(n,e),n.source&&(n.source.endpoint?n.sourceEndpoint=n.source:n.source=u.getElement(n.source)),n.target&&(n.target.endpoint?n.targetEndpoint=n.target:n.target=u.getElement(n.target)),t.uuids&&(n.sourceEndpoint=B(t.uuids[0]),n.targetEndpoint=B(t.uuids[1])),n.sourceEndpoint&&n.sourceEndpoint.isFull())r.log(u,"could not add connection; source endpoint is full");else if(n.targetEndpoint&&n.targetEndpoint.isFull())r.log(u,"could not add connection; target endpoint is full");else{if(!n.type&&n.sourceEndpoint&&(n.type=n.sourceEndpoint.connectionType),n.sourceEndpoint&&n.sourceEndpoint.connectorOverlays){n.overlays=n.overlays||[];for(var o=0,i=n.sourceEndpoint.connectorOverlays.length;o<i;o++)n.overlays.push(n.sourceEndpoint.connectorOverlays[o])}n.sourceEndpoint&&n.sourceEndpoint.scope&&(n.scope=n.sourceEndpoint.scope),!n["pointer-events"]&&n.sourceEndpoint&&n.sourceEndpoint.connectorPointerEvents&&(n["pointer-events"]=n.sourceEndpoint.connectorPointerEvents);var s=function(t,e,r){return u.addEndpoint(t,function(t,e){var n=v.extend({},t);for(var r in e)e[r]&&(n[r]=e[r]);return n}(e,{anchor:n.anchors?n.anchors[r]:n.anchor,endpoint:n.endpoints?n.endpoints[r]:n.endpoint,paintStyle:n.endpointStyles?n.endpointStyles[r]:n.endpointStyle,hoverPaintStyle:n.endpointHoverStyles?n.endpointHoverStyles[r]:n.endpointHoverStyle}))},a=function(t,e,r,o){if(n[t]&&!n[t].endpoint&&!n[t+"Endpoint"]&&!n.newConnection){var i=r[X(n[t])];if(i=i?i[o]:null){if(!i.enabled)return!1;var a=null!=i.endpoint&&i.endpoint._jsPlumb?i.endpoint:s(n[t],i.def,e);if(a.isFull())return!1;n[t+"Endpoint"]=a,!n.scope&&i.def.scope&&(n.scope=i.def.scope),i.uniqueEndpoint?i.endpoint?a.finalEndpoint=i.endpoint:(i.endpoint=a,a.setDeleteOnEmpty(!1)):a.setDeleteOnEmpty(!0)}}};if(!1!==a("source",0,this.sourceEndpointDefinitions,n.type||"default")&&!1!==a("target",1,this.targetEndpointDefinitions,n.type||"default"))return n.sourceEndpoint&&n.targetEndpoint&&(function(t,e){for(var n=t.scope.split(/\s/),r=e.scope.split(/\s/),o=0;o<n.length;o++)for(var i=0;i<r.length;i++)if(r[i]===n[o])return!0;return!1}(n.sourceEndpoint,n.targetEndpoint)||(n=null)),n}}.bind(u),U=function t(e){var n=u.Defaults.ConnectionType||u.getDefaultConnectionType();e._jsPlumb=u,e.newConnection=t,e.newEndpoint=V,e.endpointsByUUID=C,e.endpointsByElement=S,e.finaliseConnection=W,e.id="con_"+L();var r=new n(e);return r.isDetachable()&&(r.endpoints[0].initDraggable("_jsPlumbSource"),r.endpoints[1].initDraggable("_jsPlumbTarget")),r},W=u.finaliseConnection=function(t,e,n,r){if(e=e||{},t.suspendedEndpoint||x.push(t),t.pending=null,t.endpoints[0].isTemporarySource=!1,!1!==r&&u.anchorManager.newConnection(t),R(t.source),!e.doNotFireConnectionEvent&&!1!==e.fireEvent){var o={connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]};u.fire("connection",o,n)}},V=function t(e,n){var r=u.Defaults.EndpointType||v.Endpoint,o=v.extend({},e);o._jsPlumb=u,o.newConnection=U,o.newEndpoint=t,o.endpointsByUUID=C,o.endpointsByElement=S,o.fireDetachEvent=$,o.elementId=n||X(o.source);var i=new r(o);return i.id="ep_"+L(),ut(o.elementId,o.source),v.headless||u.getDragManager().endpointAdded(o.source,n),i},H=function(t,e,n){var r=S[t];if(r&&r.length)for(var o=0,i=r.length;o<i;o++){for(var s=0,a=r[o].connections.length;s<a;s++)if(e(r[o].connections[s]))return;n&&n(r[o])}},Y=function(t,e,n){e="block"===e;var r=null;n&&(r=function(t){t.setVisible(e,!0,!0)});var o=m(t);H(o.id,function(t){if(e&&n){var r=t.sourceId===o.id?1:0;t.endpoints[r].isVisible()&&t.setVisible(!0)}else t.setVisible(e)},r)},X=function(t,e,n){if(r.isString(t))return t;if(null==t)return null;var o=u.getAttribute(t,"id");return o&&"undefined"!==o||(2===arguments.length&&void 0!==arguments[1]?o=e:(1===arguments.length||3===arguments.length&&!arguments[2])&&(o="jsPlumb_"+c+"_"+L()),n||u.setAttribute(t,"id",o)),o};this.setConnectionBeingDragged=function(t){M=t},this.isConnectionBeingDragged=function(){return M},this.getManagedElements=function(){return w},this.connectorClass="jtk-connector",this.connectorOutlineClass="jtk-connector-outline",this.editableConnectorClass="jtk-connector-editable",this.connectedClass="jtk-connected",this.hoverClass="jtk-hover",this.endpointClass="jtk-endpoint",this.endpointConnectedClass="jtk-endpoint-connected",this.endpointFullClass="jtk-endpoint-full",this.endpointDropAllowedClass="jtk-endpoint-drop-allowed",this.endpointDropForbiddenClass="jtk-endpoint-drop-forbidden",this.overlayClass="jtk-overlay",this.draggingClass="jtk-dragging",this.elementDraggingClass="jtk-element-dragging",this.sourceElementDraggingClass="jtk-source-element-dragging",this.targetElementDraggingClass="jtk-target-element-dragging",this.endpointAnchorClassPrefix="jtk-endpoint-anchor",this.hoverSourceClass="jtk-source-hover",this.hoverTargetClass="jtk-target-hover",this.dragSelectClass="jtk-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(t,e,n){n=n||{};var o=v.extend({},n);v.extend(o,e),o.endpoint=o.endpoint||u.Defaults.Endpoint,o.paintStyle=o.paintStyle||u.Defaults.EndpointStyle;for(var i=[],s=r.isArray(t)||null!=t.length&&!r.isString(t)?t:[t],a=0,c=s.length;a<c;a++){o.source=u.getElement(s[a]),at(o.source);var l=X(o.source),h=V(o,l),d=ut(l,o.source).info.o;r.addToList(S,l,h),A||h.paint({anchorLoc:h.anchor.compute({xy:[d.left,d.top],wh:O[l],element:h,timestamp:N}),timestamp:N}),i.push(h)}return 1===i.length?i[0]:i},this.addEndpoints=function(t,e,n){for(var o=[],i=0,s=e.length;i<s;i++){var a=u.addEndpoint(t,e[i],n);r.isArray(a)?Array.prototype.push.apply(o,a):o.push(a)}return o},this.animate=function(t,e,n){if(!this.animationSupported)return!1;n=n||{};var o=u.getElement(t),i=X(o),s=v.animEvents.step,a=v.animEvents.complete;n[s]=r.wrap(n[s],function(){u.revalidate(i)}),n[a]=r.wrap(n[a],function(){u.revalidate(i)}),u.doAnimate(o,e,n)},this.checkCondition=function(t,e){var n=u.getListener(t),o=!0;if(n&&n.length>0){var i=Array.prototype.slice.call(arguments,1);try{for(var s=0,a=n.length;s<a;s++)o=o&&n[s].apply(n[s],i)}catch(e){r.log(u,"cannot check condition ["+t+"]"+e)}}return o},this.connect=function(t,e){var n,o=G(t,e);if(o){if(null==o.source&&null==o.sourceEndpoint)return void r.log("Cannot establish connection - source does not exist");if(null==o.target&&null==o.targetEndpoint)return void r.log("Cannot establish connection - target does not exist");at(o.source),n=U(o),W(n,o)}return n};var z=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],q=function(t,e,n,r){var o,i,s,a=z[n],u=t[a.elId],c=(t[a.el],t.endpoints[n]),l={index:n,originalSourceId:0===n?u:t.sourceId,newSourceId:t.sourceId,originalTargetId:1===n?u:t.targetId,newTargetId:t.targetId,connection:t};if(e.constructor===v.Endpoint)(o=e).addConnection(t),e=o.element;else if(i=X(e),s=this[a.epDefs][i],i===t[a.elId])o=null;else if(s)for(var h in s){if(!s[h].enabled)return;o=null!=s[h].endpoint&&s[h].endpoint._jsPlumb?s[h].endpoint:this.addEndpoint(e,s[h].def),s[h].uniqueEndpoint&&(s[h].endpoint=o),o.addConnection(t)}else o=t.makeEndpoint(0===n,e,i);return null!=o&&(c.detachFromConnection(t),t.endpoints[n]=o,t[a.el]=o.element,t[a.elId]=o.elementId,l[0===n?"newSourceId":"newTargetId"]=o.elementId,K(l),r||t.repaint()),l.element=e,l}.bind(this);this.setSource=function(t,e,n){var r=q(t,e,0,n);this.anchorManager.sourceChanged(r.originalSourceId,r.newSourceId,t,r.el)},this.setTarget=function(t,e,n){var r=q(t,e,1,n);this.anchorManager.updateOtherEndpoint(r.originalSourceId,r.originalTargetId,r.newTargetId,t)},this.deleteEndpoint=function(t,e,n){var r="string"==typeof t?C[t]:t;return r&&u.deleteObject({endpoint:r,dontUpdateHover:e,deleteAttachedObjects:n}),u},this.deleteEveryEndpoint=function(){var t=u.setSuspendDrawing(!0);for(var e in S){var n=S[e];if(n&&n.length)for(var r=0,o=n.length;r<o;r++)u.deleteEndpoint(n[r],!0)}S={},w={},C={},j={},D={},u.anchorManager.reset();var i=u.getDragManager();return i&&i.reset(),t||u.setSuspendDrawing(!1),u};var $=function(t,e,n){var r=u.Defaults.ConnectionType||u.getDefaultConnectionType(),o=t.constructor===r?{connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]}:t;e&&u.fire("connectionDetached",o,n),u.fire("internal.connectionDetached",o,n),u.anchorManager.connectionDetached(o)},K=u.fireMoveEvent=function(t,e){u.fire("connectionMoved",t,e)};this.unregisterEndpoint=function(t){for(var e in t._jsPlumb.uuid&&(C[t._jsPlumb.uuid]=null),u.anchorManager.deleteEndpoint(t),S){var n=S[e];if(n){for(var r=[],o=0,i=n.length;o<i;o++)n[o]!==t&&r.push(n[o]);S[e]=r}S[e].length<1&&delete S[e]}},this.deleteConnection=function(t,e){return!(null==t||!(e=e||{}).force&&!r.functionChain(!0,!1,[[t.endpoints[0],"isDetachAllowed",[t]],[t.endpoints[1],"isDetachAllowed",[t]],[t,"isDetachAllowed",[t]],[u,"checkCondition",["beforeDetach",t]]])||(t.setHover(!1),$(t,!t.pending&&!1!==e.fireEvent,e.originalEvent),t.endpoints[0].detachFromConnection(t),t.endpoints[1].detachFromConnection(t),r.removeWithFunction(x,function(e){return t.id===e.id}),t.cleanup(),t.destroy(),0))},this.deleteEveryConnection=function(t){t=t||{};var e=x.length,n=0;return u.batch(function(){for(var r=0;r<e;r++)n+=u.deleteConnection(x[0],t)?1:0}),n},this.deleteConnectionsForElement=function(t,e){e=e||{},t=u.getElement(t);var n=X(t),r=S[n];if(r&&r.length)for(var o=0,i=r.length;o<i;o++)r[o].deleteEveryConnection(e);return u},this.deleteObject=function(t){var e={endpoints:{},connections:{},endpointCount:0,connectionCount:0},n=!1!==t.deleteAttachedObjects,o=function(n){null!=n&&null==e.connections[n.id]&&(t.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),e.connections[n.id]=n,e.connectionCount++)};for(var i in t.connection?o(t.connection):function(r){if(null!=r&&null==e.endpoints[r.id]&&(t.dontUpdateHover||null==r._jsPlumb||r.setHover(!1),e.endpoints[r.id]=r,e.endpointCount++,n))for(var i=0;i<r.connections.length;i++){var s=r.connections[i];o(s)}}(t.endpoint),e.connections){var s=e.connections[i];if(s._jsPlumb){r.removeWithFunction(x,function(t){return s.id===t.id}),$(s,!1!==t.fireEvent&&!s.pending,t.originalEvent);var a=null==t.deleteAttachedObjects?null:!t.deleteAttachedObjects;s.endpoints[0].detachFromConnection(s,null,a),s.endpoints[1].detachFromConnection(s,null,a),s.cleanup(!0),s.destroy(!0)}}for(var c in e.endpoints){var l=e.endpoints[c];l._jsPlumb&&(u.unregisterEndpoint(l),l.cleanup(!0),l.destroy(!0))}return e},this.draggable=function(t,e){var n;return l(function(t){(n=m(t)).el&&function(t,e,n,o,i){if(!v.headless&&v.isDragSupported(t,u)){var s=n||u.Defaults.DragOptions;if(s=v.extend({},s),v.isAlreadyDraggable(t,u))n.force&&u.initDraggable(t,s);else{var a=v.dragEvents.drag,c=v.dragEvents.stop,l=v.dragEvents.start,h=!1;ut(o,t),s[l]=r.wrap(s[l],function(){if(u.setHoverSuspended(!0),u.select({source:t}).addClass(u.elementDraggingClass+" "+u.sourceElementDraggingClass,!0),u.select({target:t}).addClass(u.elementDraggingClass+" "+u.targetElementDraggingClass,!0),u.setConnectionBeingDragged(!0),s.canDrag)return n.canDrag()},!1),s[a]=r.wrap(s[a],function(){var e=u.getUIPosition(arguments,u.getZoom());null!=e&&(R(t,e,null,!0),h&&u.addClass(t,"jtk-dragged"),h=!0)}),s[c]=r.wrap(s[c],function(){for(var t,e,n=arguments[0].selection,r=0;r<n.length;r++)null!=(e=n[r])[1]&&(t=u.getUIPosition([{el:e[2].el,pos:[e[1].left,e[1].top]}]),R(e[2].el,t)),u.removeClass(e[0],"jtk-dragged"),u.select({source:e[2].el}).removeClass(u.elementDraggingClass+" "+u.sourceElementDraggingClass,!0),u.select({target:e[2].el}).removeClass(u.elementDraggingClass+" "+u.targetElementDraggingClass,!0),u.getDragManager().dragEnded(e[2].el);h=!1,u.setHoverSuspended(!1),u.setConnectionBeingDragged(!1)});var d=X(t);I[d]=!0;var f=I[d];s.disabled=null!=f&&!f,u.initDraggable(t,s),u.getDragManager().register(t),u.fire("elementDraggable",{el:t,options:s})}}}(n.el,0,e,n.id)},t),u},this.droppable=function(t,e){var n;return(e=e||{}).allowLoopback=!1,l(function(t){(n=m(t)).el&&u.initDroppable(n.el,e)},t),u};var J=function(t,e,n){return function(){return function(t,e,n,r){for(var o=0,i=t.length;o<i;o++)t[o][e].apply(t[o],n);return r(t)}(t,e,arguments,n)}},Q=function(t,e){return function(){return function(t,e,n){for(var r=[],o=0,i=t.length;o<i;o++)r.push([t[o][e].apply(t[o],n),t[o]]);return r}(t,e,arguments)}},Z=function(t,e){var n=[];if(t)if("string"==typeof t){if("*"===t)return t;n.push(t)}else if(e)n=t;else if(t.length)for(var r=0,o=t.length;r<o;r++)n.push(m(t[r]).id);else n.push(m(t).id);return n},tt=function(t,e,n){return"*"===t||(t.length>0?-1!==t.indexOf(e):!n)};this.getConnections=function(t,e){t?t.constructor===String&&(t={scope:t}):t={};for(var n=t.scope||u.getDefaultScope(),r=Z(n,!0),o=Z(t.source),i=Z(t.target),s=!e&&r.length>1?{}:[],a=0,c=x.length;a<c;a++){var l=x[a],h=l.proxies&&l.proxies[0]?l.proxies[0].originalEp.elementId:l.sourceId,d=l.proxies&&l.proxies[1]?l.proxies[1].originalEp.elementId:l.targetId;tt(r,l.scope)&&tt(o,h)&&tt(i,d)&&function(t,n){if(!e&&r.length>1){var o=s[t];null==o&&(o=s[t]=[]),o.push(n)}else s.push(n)}(l.scope,l)}return s};var et=function(t,e){return function(n){for(var r=0,o=t.length;r<o;r++)n(t[r]);return e(t)}},nt=function(t){return function(e){return t[e]}},rt=function(t,e){var n,r,o={length:t.length,each:et(t,e),get:nt(t)},i=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],s=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(n=0,r=i.length;n<r;n++)o[i[n]]=J(t,i[n],e);for(n=0,r=s.length;n<r;n++)o[s[n]]=Q(t,s[n]);return o},ot=function t(e){var n=rt(e,t);return v.extend(n,{setDetachable:J(e,"setDetachable",t),setReattach:J(e,"setReattach",t),setConnector:J(e,"setConnector",t),delete:function(){for(var t=0,n=e.length;t<n;t++)u.deleteConnection(e[t])},isDetachable:Q(e,"isDetachable"),isReattach:Q(e,"isReattach")})},it=function t(e){var n=rt(e,t);return v.extend(n,{setEnabled:J(e,"setEnabled",t),setAnchor:J(e,"setAnchor",t),isEnabled:Q(e,"isEnabled"),deleteEveryConnection:function(){for(var t=0,n=e.length;t<n;t++)e[t].deleteEveryConnection()},delete:function(){for(var t=0,n=e.length;t<n;t++)u.deleteEndpoint(e[t])}})};this.select=function(t){return(t=t||{}).scope=t.scope||"*",ot(t.connections||u.getConnections(t,!0))},this.selectEndpoints=function(t){(t=t||{}).scope=t.scope||"*";var e=!t.element&&!t.source&&!t.target,n=e?"*":Z(t.element),r=e?"*":Z(t.source),o=e?"*":Z(t.target),i=Z(t.scope,!0),s=[];for(var a in S){var u=tt(n,a,!0),c=tt(r,a,!0),l="*"!==r,h=tt(o,a,!0),d="*"!==o;if(u||c||h)t:for(var f=0,p=S[a].length;f<p;f++){var g=S[a][f];if(tt(i,g.scope,!0)){var v=l&&r.length>0&&!g.isSource,m=d&&o.length>0&&!g.isTarget;if(v||m)continue t;s.push(g)}}}return it(s)},this.getAllConnections=function(){return x},this.getDefaultScope=function(){return k},this.getEndpoint=B,this.getEndpoints=function(t){return S[m(t).id]||[]},this.getDefaultEndpointType=function(){return v.Endpoint},this.getDefaultConnectionType=function(){return v.Connection},this.getId=X,this.appendElement=F;var st=!1;this.isHoverSuspended=function(){return st},this.setHoverSuspended=function(t){st=t},this.hide=function(t,e){return Y(t,"none",e),u},this.idstamp=L,this.connectorsInitialized=!1,this.registerConnectorType=function(t,e){n.push([t,e])};var at=function(t){if(!b&&t){var e=u.getElement(t);e.offsetParent&&u.setContainer(e.offsetParent)}},ut=u.manage=function(t,e,n){return w[t]||(w[t]={el:e,endpoints:[],connections:[]},w[t].info=ct({elId:t,timestamp:N}),n||u.fire("manageElement",{id:t,info:w[t].info,el:e})),w[t]},ct=this.updateOffset=function(t){var e,n=t.timestamp,r=t.recalc,o=t.offset,i=t.elId;return A&&!n&&(n=N),!r&&n&&n===D[i]?{o:t.offset||j[i],s:O[i]}:(r||!o&&null==j[i]?null!=(e=w[i]?w[i].el:null)&&(O[i]=u.getSize(e),j[i]=u.getOffset(e),D[i]=n):(j[i]=o||j[i],null==O[i]&&null!=(e=w[i].el)&&(O[i]=u.getSize(e)),D[i]=n),j[i]&&!j[i].right&&(j[i].right=j[i].left+O[i][0],j[i].bottom=j[i].top+O[i][1],j[i].width=O[i][0],j[i].height=O[i][1],j[i].centerx=j[i].left+j[i].width/2,j[i].centery=j[i].top+j[i].height/2),{o:j[i],s:O[i]})};this.init=function(){t=e.jsPlumb.getRenderModes();if(!e.jsPlumb.connectorsInitialized){for(var o=0;o<n.length;o++)for(var i=0;i<t.length;i++)!function(t,n,o){e.jsPlumb.Connectors[t][n]=function(){o.apply(this,arguments),e.jsPlumb.ConnectorRenderers[t].apply(this,arguments)},r.extend(e.jsPlumb.Connectors[t][n],[o,e.jsPlumb.ConnectorRenderers[t]])}(t[i],n[o][1],n[o][0]);e.jsPlumb.connectorsInitialized=!0}E||(u.Defaults.Container&&u.setContainer(u.Defaults.Container),u.anchorManager=new e.jsPlumb.AnchorManager({jsPlumbInstance:u}),E=!0,u.fire("ready",u))}.bind(this),this.log=P,this.jsPlumbUIComponent=d,this.makeAnchor=function(){var t,n=function(t,n){if(e.jsPlumb.Anchors[t])return new e.jsPlumb.Anchors[t](n);if(!u.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+t+"'"}};if(0===arguments.length)return null;var o=arguments[0],i=arguments[1],s=(arguments[2],null);if(o.compute&&o.getOrientation)return o;if("string"==typeof o)s=n(arguments[0],{elementId:i,jsPlumbInstance:u});else if(r.isArray(o))if(r.isArray(o[0])||r.isString(o[0]))2===o.length&&r.isObject(o[1])?r.isString(o[0])?(t=e.jsPlumb.extend({elementId:i,jsPlumbInstance:u},o[1]),s=n(o[0],t)):(t=e.jsPlumb.extend({elementId:i,jsPlumbInstance:u,anchors:o[0]},o[1]),s=new e.jsPlumb.DynamicAnchor(t)):s=new v.DynamicAnchor({anchors:o,selector:null,elementId:i,jsPlumbInstance:u});else{var a={x:o[0],y:o[1],orientation:o.length>=4?[o[2],o[3]]:[0,0],offsets:o.length>=6?[o[4],o[5]]:[0,0],elementId:i,jsPlumbInstance:u,cssClass:7===o.length?o[6]:null};(s=new e.jsPlumb.Anchor(a)).clone=function(){return new e.jsPlumb.Anchor(a)}}return s.id||(s.id="anchor_"+L()),s},this.makeAnchors=function(t,n,o){for(var i=[],s=0,a=t.length;s<a;s++)"string"==typeof t[s]?i.push(e.jsPlumb.Anchors[t[s]]({elementId:n,jsPlumbInstance:o})):r.isArray(t[s])&&i.push(u.makeAnchor(t[s],n,o));return i},this.makeDynamicAnchor=function(t,n){return new e.jsPlumb.DynamicAnchor({anchors:t,selector:n,elementId:null,jsPlumbInstance:u})},this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={};var lt=function(t,n,o,i,s){var a=new d(n),c=n._jsPlumb.EndpointDropHandler({jsPlumb:u,enabled:function(){return t.def.enabled},isFull:function(){var e=u.select({target:t.id}).length;return t.def.maxConnections>0&&e>=t.def.maxConnections},element:t.el,elementId:t.id,isSource:i,isTarget:s,addClass:function(e){u.addClass(t.el,e)},removeClass:function(e){u.removeClass(t.el,e)},onDrop:function(t){t.endpoints[0].anchor.locked=!1},isDropAllowed:function(){return a.isDropAllowed.apply(a,arguments)},isRedrop:function(e){return null!=e.suspendedElement&&null!=e.suspendedEndpoint&&e.suspendedEndpoint.element===t.el},getEndpoint:function(r){var o=t.def.endpoint;if(null==o||null==o._jsPlumb){var i=u.deriveEndpointAndAnchorSpec(r.getType().join(" "),!0),s=i.endpoints?e.jsPlumb.extend(n,{endpoint:t.def.def.endpoint||i.endpoints[1]}):n;i.anchors&&(s=e.jsPlumb.extend(s,{anchor:t.def.def.anchor||i.anchors[1]})),(o=u.addEndpoint(t.el,s))._mtNew=!0}if(n.uniqueEndpoint&&(t.def.endpoint=o),o.setDeleteOnEmpty(!0),r.isDetachable()&&o.initDraggable(),null!=o.anchor.positionFinder){var a=u.getUIPosition(arguments,u.getZoom()),c=u.getOffset(t.el),l=u.getSize(t.el),h=null==a?[0,0]:o.anchor.positionFinder(a,c,l,o.anchor.constructorParams);o.anchor.x=h[0],o.anchor.y=h[1]}return o},maybeCleanup:function(t){t._mtNew&&0===t.connections.length?u.deleteObject({endpoint:t}):delete t._mtNew}}),l=e.jsPlumb.dragEvents.drop;return o.scope=o.scope||n.scope||u.Defaults.Scope,o[l]=r.wrap(o[l],c,!0),s&&(o[e.jsPlumb.dragEvents.over]=function(){return!0}),!1===n.allowLoopback&&(o.canDrop=function(e){return e.getDragElement()._jsPlumbRelatedElement!==t.el}),u.initDroppable(t.el,o,"internal"),c};this.makeTarget=function(t,n,r){var o=e.jsPlumb.extend({_jsPlumb:this},r);e.jsPlumb.extend(o,n);for(var i=o.maxConnections||-1,s=function(t){var n=m(t),r=n.id,s=e.jsPlumb.extend({},o.dropOptions||{}),a=o.connectionType||"default";this.targetEndpointDefinitions[r]=this.targetEndpointDefinitions[r]||{},at(r),n.el._isJsPlumbGroup&&null==s.rank&&(s.rank=-1);var c={def:e.jsPlumb.extend({},o),uniqueEndpoint:o.uniqueEndpoint,maxConnections:i,enabled:!0};o.createEndpoint&&(c.uniqueEndpoint=!0,c.endpoint=u.addEndpoint(t,c.def),c.endpoint.setDeleteOnEmpty(!1)),n.def=c,this.targetEndpointDefinitions[r][a]=c,lt(n,o,s,!0===o.isSource,!0),n.el._katavorioDrop[n.el._katavorioDrop.length-1].targetDef=c}.bind(this),a=t.length&&t.constructor!==String?t:[t],c=0,l=a.length;c<l;c++)s(a[c]);return this},this.unmakeTarget=function(t,e){var n=m(t);return u.destroyDroppable(n.el,"internal"),e||delete this.targetEndpointDefinitions[n.id],this},this.makeSource=function(t,n,o){var i=e.jsPlumb.extend({_jsPlumb:this},o);e.jsPlumb.extend(i,n);var s=i.connectionType||"default",a=u.deriveEndpointAndAnchorSpec(s);i.endpoint=i.endpoint||a.endpoints[0],i.anchor=i.anchor||a.anchors[0];for(var c=i.maxConnections||-1,l=i.onMaxConnections,h=function(n){var o=n.id,a=this.getElement(n.el);this.sourceEndpointDefinitions[o]=this.sourceEndpointDefinitions[o]||{},at(o);var h={def:e.jsPlumb.extend({},i),uniqueEndpoint:i.uniqueEndpoint,maxConnections:c,enabled:!0};i.createEndpoint&&(h.uniqueEndpoint=!0,h.endpoint=u.addEndpoint(t,h.def),h.endpoint.setDeleteOnEmpty(!1)),this.sourceEndpointDefinitions[o][s]=h,n.def=h;var d=e.jsPlumb.dragEvents.stop,f=e.jsPlumb.dragEvents.drag,p=e.jsPlumb.extend({},i.dragOptions||{}),v=p.drag,m=p.stop,y=null,b=!1;p.scope=p.scope||i.scope,p[f]=r.wrap(p[f],function(){v&&v.apply(this,arguments),b=!1}),p[d]=r.wrap(p[d],function(){if(m&&m.apply(this,arguments),this.currentlyDragging=!1,null!=y._jsPlumb){var t=i.anchor||this.Defaults.Anchor,e=y.anchor,n=y.connections[0],r=this.makeAnchor(t,o,this),s=y.element;if(null!=r.positionFinder){var a=u.getOffset(s),c=this.getSize(s),l={left:a.left+e.x*c[0],top:a.top+e.y*c[1]},h=r.positionFinder(l,a,c,r.constructorParams);r.x=h[0],r.y=h[1]}y.setAnchor(r,!0),y.repaint(),this.repaint(y.elementId),null!=n&&this.repaint(n.targetId)}}.bind(this));var _=function(t){if(3!==t.which&&2!==t.button){var h=this.sourceEndpointDefinitions[o][s];if(h.enabled){if(o=this.getId(this.getElement(n.el)),i.filter&&!1===(r.isString(i.filter)?function(t,e,n,r,o){for(var i=t.target||t.srcElement,s=!1,a=r.getSelector(e,n),u=0;u<a.length;u++)if(a[u]===i){s=!0;break}return o?!s:s}(t,n.el,i.filter,this,i.filterExclude):i.filter(t,n.el)))return;var d=this.select({source:o}).length;if(h.maxConnections>=0&&d>=h.maxConnections)return l&&l({element:n.el,maxConnections:c},t),!1;var f=e.jsPlumb.getPositionOnElement(t,a,g),v={};e.jsPlumb.extend(v,i),v.isTemporarySource=!0,v.anchor=[f[0],f[1],0,0],v.dragOptions=p,h.def.scope&&(v.scope=h.def.scope),y=this.addEndpoint(o,v),b=!0,y.setDeleteOnEmpty(!0),h.uniqueEndpoint&&(h.endpoint?y.finalEndpoint=h.endpoint:(h.endpoint=y,y.setDeleteOnEmpty(!1)));var m=function t(){u.off(y.canvas,"mouseup",t),u.off(n.el,"mouseup",t),b&&(b=!1,u.deleteEndpoint(y))};u.on(y.canvas,"mouseup",m),u.on(n.el,"mouseup",m);var _={};if(h.def.extract)for(var P in h.def.extract){var E=(t.srcElement||t.target).getAttribute(P);E&&(_[h.def.extract[P]]=E)}u.trigger(y.canvas,"mousedown",t,_),r.consume(t)}}}.bind(this);this.on(n.el,"mousedown",_),h.trigger=_,i.filter&&(r.isString(i.filter)||r.isFunction(i.filter))&&u.setDragFilter(n.el,i.filter);var P=e.jsPlumb.extend({},i.dropOptions||{});lt(n,i,P,!0,!0===i.isTarget)}.bind(this),d=t.length&&t.constructor!==String?t:[t],f=0,p=d.length;f<p;f++)h(m(d[f]));return this},this.unmakeSource=function(t,e,n){var r=m(t);u.destroyDroppable(r.el,"internal");var o=this.sourceEndpointDefinitions[r.id];if(o)for(var i in o)if(null==e||e===i){var s=o[i].trigger;s&&u.off(r.el,"mousedown",s),n||delete this.sourceEndpointDefinitions[r.id][i]}return this},this.unmakeEverySource=function(){for(var t in this.sourceEndpointDefinitions)u.unmakeSource(t,null,!0);return this.sourceEndpointDefinitions={},this};var ht=function(t,e,n){e=r.isArray(e)?e:[e];var o=X(t);n=n||"default";for(var i=0;i<e.length;i++){var s=this[e[i]][o];if(s&&s[n])return s[n].def.scope||this.Defaults.Scope}}.bind(this),dt=function(t,e,n,o){n=r.isArray(n)?n:[n];var i=X(t);o=o||"default";for(var s=0;s<n.length;s++){var a=this[n[s]][i];a&&a[o]&&(a[o].def.scope=e)}}.bind(this);this.getScope=function(t,e){return ht(t,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(t){return ht(t,"sourceEndpointDefinitions")},this.getTargetScope=function(t){return ht(t,"targetEndpointDefinitions")},this.setScope=function(t,e,n){this.setSourceScope(t,e,n),this.setTargetScope(t,e,n)},this.setSourceScope=function(t,e,n){dt(t,e,"sourceEndpointDefinitions",n),this.setDragScope(t,e)},this.setTargetScope=function(t,e,n){dt(t,e,"targetEndpointDefinitions",n),this.setDropScope(t,e)},this.unmakeEveryTarget=function(){for(var t in this.targetEndpointDefinitions)u.unmakeTarget(t,!0);return this.targetEndpointDefinitions={},this};var ft=function(t,e,n,o,i){var s,a,c,l="source"===t?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(i=i||"default",e.length&&!r.isString(e)){s=[];for(var h=0,d=e.length;h<d;h++)l[(a=m(e[h])).id]&&l[a.id][i]&&(s[h]=l[a.id][i].enabled,c=o?!s[h]:n,l[a.id][i].enabled=c,u[c?"removeClass":"addClass"](a.el,"jtk-"+t+"-disabled"))}else{var f=(a=m(e)).id;l[f]&&l[f][i]&&(s=l[f][i].enabled,c=o?!s:n,l[f][i].enabled=c,u[c?"removeClass":"addClass"](a.el,"jtk-"+t+"-disabled"))}return s}.bind(this),pt=function(t,e){return r.isString(t)||!t.length?e.apply(this,[t]):t.length?e.apply(this,[t[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(t,e){return ft("source",t,null,!0,e),this.isSourceEnabled(t,e)},this.setSourceEnabled=function(t,e,n){return ft("source",t,e,null,n)},this.isSource=function(t,e){return e=e||"default",pt(t,function(t){var n=this.sourceEndpointDefinitions[m(t).id];return null!=n&&null!=n[e]}.bind(this))},this.isSourceEnabled=function(t,e){return e=e||"default",pt(t,function(t){var n=this.sourceEndpointDefinitions[m(t).id];return n&&n[e]&&!0===n[e].enabled}.bind(this))},this.toggleTargetEnabled=function(t,e){return ft("target",t,null,!0,e),this.isTargetEnabled(t,e)},this.isTarget=function(t,e){return e=e||"default",pt(t,function(t){var n=this.targetEndpointDefinitions[m(t).id];return null!=n&&null!=n[e]}.bind(this))},this.isTargetEnabled=function(t,e){return e=e||"default",pt(t,function(t){var n=this.targetEndpointDefinitions[m(t).id];return n&&n[e]&&!0===n[e].enabled}.bind(this))},this.setTargetEnabled=function(t,e,n){return ft("target",t,e,null,n)},this.ready=function(t){u.bind("ready",t)};var gt=function(t,e){if("object"==(void 0===t?"undefined":o(t))&&t.length)for(var n=0,r=t.length;n<r;n++)e(t[n]);else e(t);return u};this.repaint=function(t,e,n){return gt(t,function(t){R(t,e,n)})},this.revalidate=function(t,e,n){return gt(t,function(t){var r=n?t:u.getId(t);u.updateOffset({elId:r,recalc:!0,timestamp:e});var o=u.getDragManager();o&&o.updateOffsets(r),u.repaint(t)})},this.repaintEverything=function(){var t,e=i();for(t in S)u.updateOffset({elId:t,recalc:!0,timestamp:e});for(t in S)R(t,null,e);return this},this.removeAllEndpoints=function(t,e,n){n=n||[];return function t(r){var o,i,s=m(r),a=S[s.id];if(a)for(n.push(s),o=0,i=a.length;o<i;o++)u.deleteEndpoint(a[o],!1);if(delete S[s.id],e&&s.el&&3!==s.el.nodeType&&8!==s.el.nodeType)for(o=0,i=s.el.childNodes.length;o<i;o++)t(s.el.childNodes[o])}(t),this};var vt=function(t,e){u.removeAllEndpoints(t.id,!0,e);for(var n=u.getDragManager(),r=function(t){n&&n.elementRemoved(t.id),u.anchorManager.clearFor(t.id),u.anchorManager.removeFloatingConnection(t.id),u.isSource(t.el)&&u.unmakeSource(t.el),u.isTarget(t.el)&&u.unmakeTarget(t.el),u.destroyDraggable(t.el),u.destroyDroppable(t.el),delete u.floatingConnections[t.id],delete w[t.id],delete j[t.id],t.el&&(u.removeElement(t.el),t.el._jsPlumb=null)},o=1;o<e.length;o++)r(e[o]);r(t)};this.remove=function(t,e){var n=m(t),r=[];return n.text?n.el.parentNode.removeChild(n.el):n.id&&u.batch(function(){vt(n,r)},!1===e),u},this.empty=function(t,e){var n=[],r=function t(e,r){var o=m(e);if(o.text)o.el.parentNode.removeChild(o.el);else if(o.el){for(;o.el.childNodes.length>0;)t(o.el.childNodes[0]);r||vt(o,n)}};return u.batch(function(){r(t,!0)},!1===e),u},this.reset=function(){u.silently(function(){st=!1,u.removeAllGroups(),u.removeGroupManager(),u.deleteEveryEndpoint(),u.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},x.length=0,this.doReset&&this.doReset()}.bind(this))};var mt=function(t){t.canvas&&t.canvas.parentNode&&t.canvas.parentNode.removeChild(t.canvas),t.cleanup(),t.destroy()};this.clear=function(){u.select().each(mt),u.selectEndpoints().each(mt),S={},C={}},this.setDefaultScope=function(t){return k=t,u},this.setDraggable=function(t,e){return v.each(t,function(t){u.isDragSupported(t)&&(I[u.getAttribute(t,"id")]=e,u.setElementDraggable(t,e))})},this.deriveEndpointAndAnchorSpec=function(t,e){for(var n=((e?"":"default ")+t).split(/[\s]/),r=null,o=null,i=null,s=null,a=0;a<n.length;a++){var c=u.getType(n[a],"connection");c&&(c.endpoints&&(r=c.endpoints),c.endpoint&&(o=c.endpoint),c.anchors&&(s=c.anchors),c.anchor&&(i=c.anchor))}return{endpoints:r||[o,o],anchors:s||[i,i]}},this.setId=function(t,e,n){var o;r.isString(t)?o=t:(t=this.getElement(t),o=this.getId(t));var i=this.getConnections({source:o,scope:"*"},!0),s=this.getConnections({target:o,scope:"*"},!0);e=""+e,n?t=this.getElement(e):(t=this.getElement(o),this.setAttribute(t,"id",e)),S[e]=S[o]||[];for(var a=0,u=S[e].length;a<u;a++)S[e][a].setElementId(e),S[e][a].setReferenceElement(t);delete S[o],this.sourceEndpointDefinitions[e]=this.sourceEndpointDefinitions[o],delete this.sourceEndpointDefinitions[o],this.targetEndpointDefinitions[e]=this.targetEndpointDefinitions[o],delete this.targetEndpointDefinitions[o],this.anchorManager.changeId(o,e);var c=this.getDragManager();c&&c.changeId(o,e),w[e]=w[o],delete w[o];var l=function(n,r,o){for(var i=0,s=n.length;i<s;i++)n[i].endpoints[r].setElementId(e),n[i].endpoints[r].setReferenceElement(t),n[i][o+"Id"]=e,n[i][o]=t};l(i,0,"source"),l(s,1,"target"),this.repaint(e)},this.setDebugLog=function(t){P=t},this.setSuspendDrawing=function(t,e){var n=A;return A=t,N=t?(new Date).getTime():null,e&&this.repaintEverything(),n},this.isSuspendDrawing=function(){return A},this.getSuspendedAt=function(){return N},this.batch=function(t,e){var n=this.isSuspendDrawing();n||this.setSuspendDrawing(!0);try{t()}catch(t){r.log("Function run while suspended failed",t)}n||this.setSuspendDrawing(!1,!e)},this.doWhileSuspended=this.batch,this.getCachedData=function(t){var e=j[t];return e?{o:e,s:O[t]}:ct({elId:t})},this.timestamp=i,this.show=function(t,e){return Y(t,"block",e),u},this.toggleVisible=function(t,e){var n=null;e&&(n=function(t){var e=t.isVisible();t.setVisible(!e)}),H(t,function(t){var e=t.isVisible();t.setVisible(!e)},n)},this.toggleDraggable=function(t){var e;return v.each(t,function(t){var n=u.getAttribute(t,"id");return e=!(e=null!=I[n]&&I[n]),I[n]=e,u.setDraggable(t,e),e}.bind(this)),e},this.addListener=this.bind};r.extend(e.jsPlumbInstance,r.EventGenerator,{setAttribute:function(t,e,n){this.setAttribute(t,e,n)},getAttribute:function(t,n){return this.getAttribute(e.jsPlumb.getElement(t),n)},convertToFullOverlaySpec:function(t){return r.isString(t)&&(t=[t,{}]),t[1].id=t[1].id||r.uuid(),t},registerConnectionType:function(t,n){if(this._connectionTypes[t]=e.jsPlumb.extend({},n),n.overlays){for(var r={},o=0;o<n.overlays.length;o++){var i=this.convertToFullOverlaySpec(n.overlays[o]);r[i[1].id]=i}this._connectionTypes[t].overlays=r}},registerConnectionTypes:function(t){for(var e in t)this.registerConnectionType(e,t[e])},registerEndpointType:function(t,n){if(this._endpointTypes[t]=e.jsPlumb.extend({},n),n.overlays){for(var r={},o=0;o<n.overlays.length;o++){var i=this.convertToFullOverlaySpec(n.overlays[o]);r[i[1].id]=i}this._endpointTypes[t].overlays=r}},registerEndpointTypes:function(t){for(var e in t)this.registerEndpointType(e,t[e])},getType:function(t,e){return"connection"===e?this._connectionTypes[t]:this._endpointTypes[t]},setIdChanged:function(t,e){this.setId(t,e,!0)},setParent:function(t,e){var n=this.getElement(t),r=this.getId(n),o=this.getElement(e),i=this.getId(o),s=this.getDragManager();n.parentNode.removeChild(n),o.appendChild(n),s&&s.setParent(n,r,o,i)},extend:function(t,e,n){var r;if(n)for(r=0;r<n.length;r++)t[n[r]]=e[n[r]];else for(r in e)t[r]=e[r];return t},floatingConnections:{},getFloatingAnchorIndex:function(t){return t.endpoints[0].isFloating()?0:t.endpoints[1].isFloating()?1:-1}}),g.prototype.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fill:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{"stroke-width":4,stroke:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"};var v=new g;if(e.jsPlumb=v,v.getInstance=function(t,e){var n=new g(t);if(e)for(var r in e)n[r]=e[r];return n.init(),n},v.each=function(t,e){if(null!=t)if("string"==typeof t)e(v.getElement(t));else if(null!=t.length)for(var n=0;n<t.length;n++)e(v.getElement(t[n]));else e(t)},void 0!==m){var y=v;m.jsPlumb=y}}.call("undefined"!=typeof window?window:m),function(){var t=this.jsPlumbUtil,e=function(t,e){if(null==e)return[0,0];var n=s(e),r=i(n,0);return[r[t+"X"],r[t+"Y"]]},n=e.bind(this,"page"),r=e.bind(this,"screen"),o=e.bind(this,"client"),i=function(t,e){return t.item?t.item(e):t[e]},s=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},a=function(t){var e={},n=[],r={},o={},i={};this.register=function(s){var a=t.getId(s),u=t.getOffset(s);e[a]||(e[a]=s,n.push(s),r[a]={});!function e(n){if(n)for(var s=0;s<n.childNodes.length;s++)if(3!==n.childNodes[s].nodeType&&8!==n.childNodes[s].nodeType){var c=jsPlumb.getElement(n.childNodes[s]),l=t.getId(n.childNodes[s],null,!0);if(l&&o[l]&&o[l]>0){var h=t.getOffset(c);r[a][l]={id:l,offset:{left:h.left-u.left,top:h.top-u.top}},i[l]=a}e(n.childNodes[s])}}(s)},this.updateOffsets=function(e,n){if(null!=e){n=n||{};var o=jsPlumb.getElement(e),s=t.getId(o),a=r[s],u=t.getOffset(o);if(a)for(var c in a)if(a.hasOwnProperty(c)){var l=jsPlumb.getElement(c),h=n[c]||t.getOffset(l);if(null==l.offsetParent&&null!=r[s][c])continue;r[s][c]={id:c,offset:{left:h.left-u.left,top:h.top-u.top}},i[c]=s}}},this.endpointAdded=function(n,s){s=s||t.getId(n);var a=document.body,u=n.parentNode;for(o[s]=o[s]?o[s]+1:1;null!=u&&u!==a;){var c=t.getId(u,null,!0);if(c&&e[c]){var l=t.getOffset(u);if(null==r[c][s]){var h=t.getOffset(n);r[c][s]={id:s,offset:{left:h.left-l.left,top:h.top-l.top}},i[s]=c}break}u=u.parentNode}},this.endpointDeleted=function(t){if(o[t.elementId]&&--o[t.elementId]<=0)for(var e in r)r.hasOwnProperty(e)&&r[e]&&(delete r[e][t.elementId],delete i[t.elementId])},this.changeId=function(t,e){r[e]=r[t],r[t]={},i[e]=i[t],i[t]=null},this.getElementsForDraggable=function(t){return r[t]},this.elementRemoved=function(t){var e=i[t];e&&(delete r[e][t],delete i[t])},this.reset=function(){e={},n=[],r={},o={}},this.dragEnded=function(e){if(null!=e.offsetParent){var n=t.getId(e),r=i[n];r&&this.updateOffsets(r)}},this.setParent=function(e,n,o,s,a){var u=i[n];r[s]||(r[s]={});var c=t.getOffset(o),l=a||t.getOffset(e);u&&r[u]&&delete r[u][n],r[s][n]={id:n,offset:{left:l.left-c.left,top:l.top-c.top}},i[n]=s},this.clearParent=function(t,e){var n=i[e];n&&(delete r[n][e],delete i[e])},this.revalidateParent=function(e,n,r){var o=i[n];if(o){var s={};s[n]=r,this.updateOffsets(o,s),t.revalidate(o)}},this.getDragAncestor=function(e){var n=jsPlumb.getElement(e),r=t.getId(n),o=i[r];return o?jsPlumb.getElement(o):null}},u=function(t,e,n){var r;e=null==(r=e)?null:r.replace(/^\s\s*/,"").replace(/\s\s*$/,""),void 0!==t.className.baseVal?t.className.baseVal=e:t.className=e;try{for(var o=t.classList;o.length>0;)o.remove(o.item(0));for(var i=0;i<n.length;i++)n[i]&&o.add(n[i])}catch(t){console.log("JSPLUMB: cannot set class list",t)}},c=function(t){return void 0===t.className.baseVal?t.className:t.className.baseVal},l=function(e,n,r){n=null==n?[]:t.isArray(n)?n:n.split(/\s+/),r=null==r?[]:t.isArray(r)?r:r.split(/\s+/);var o=c(e).split(/\s+/),i=function(t,e){for(var n=0;n<e.length;n++)if(t)-1===o.indexOf(e[n])&&o.push(e[n]);else{var r=o.indexOf(e[n]);-1!==r&&o.splice(r,1)}};i(!0,n),i(!1,r),u(e,o.join(" "),o)};this.jsPlumb.extend(this.jsPlumbInstance.prototype,{headless:!1,pageLocation:n,screenLocation:r,clientLocation:o,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new a(this)),this.dragManager},recalculateOffsets:function(t){this.getDragManager().updateOffsets(t)},createElement:function(t,e,n,r){return this.createElementNS(null,t,e,n,r)},createElementNS:function(t,e,n,r,o){var i,s=null==t?document.createElement(e):document.createElementNS(t,e);for(i in n=n||{})s.style[i]=n[i];for(i in r&&(s.className=r),o=o||{})s.setAttribute(i,""+o[i]);return s},getAttribute:function(t,e){return null!=t.getAttribute?t.getAttribute(e):null},setAttribute:function(t,e,n){null!=t.setAttribute&&t.setAttribute(e,n)},setAttributes:function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setAttribute(n,e[n])},appendToRoot:function(t){document.body.appendChild(t)},getRenderModes:function(){return["svg"]},getClass:c,addClass:function(t,e){jsPlumb.each(t,function(t){l(t,e)})},hasClass:function(t,e){return(t=jsPlumb.getElement(t)).classList?t.classList.contains(e):-1!==c(t).indexOf(e)},removeClass:function(t,e){jsPlumb.each(t,function(t){l(t,null,e)})},updateClasses:function(t,e,n){jsPlumb.each(t,function(t){l(t,e,n)})},setClass:function(t,e){null!=e&&jsPlumb.each(t,function(t){u(t,e,e.split(/\s+/))})},setPosition:function(t,e){t.style.left=e.left+"px",t.style.top=e.top+"px"},getPosition:function(t){var e=function(e){var n=t.style[e];return n?n.substring(0,n.length-2):0};return{left:e("left"),top:e("top")}},getStyle:function(t,e){return void 0!==window.getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.currentStyle[e]},getSelector:function(t,e){return 1===arguments.length?null!=t.nodeType?t:document.querySelectorAll(t):t.querySelectorAll(e)},getOffset:function(t,e,n){t=jsPlumb.getElement(t),n=n||this.getContainer();for(var r={left:t.offsetLeft,top:t.offsetTop},o=e||null!=n&&t!==n&&t.offsetParent!==n?t.offsetParent:null,i=function(t){null!=t&&t!==document.body&&(t.scrollTop>0||t.scrollLeft>0)&&(r.left-=t.scrollLeft,r.top-=t.scrollTop)}.bind(this);null!=o;)r.left+=o.offsetLeft,r.top+=o.offsetTop,i(o),o=e?o.offsetParent:o.offsetParent===n?null:o.offsetParent;if(null!=n&&!e&&(n.scrollTop>0||n.scrollLeft>0)){var s=null!=t.offsetParent?this.getStyle(t.offsetParent,"position"):"static",a=this.getStyle(t,"position");"absolute"!==a&&"fixed"!==a&&"absolute"!==s&&"fixed"!==s&&(r.left-=n.scrollLeft,r.top-=n.scrollTop)}return r},getPositionOnElement:function(t,e,n){var r=void 0!==e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0,width:0,height:0},o=document.body,i=document.documentElement,s=window.pageYOffset||i.scrollTop||o.scrollTop,a=window.pageXOffset||i.scrollLeft||o.scrollLeft,u=i.clientTop||o.clientTop||0,c=i.clientLeft||o.clientLeft||0,l=r.top+s-u+0*n,h=r.left+a-c+0*n,d=jsPlumb.pageLocation(t),f=r.width||e.offsetWidth*n,p=r.height||e.offsetHeight*n;return[(d[0]-h)/f,(d[1]-l)/p]},getAbsolutePosition:function(t){var e=function(e){var n=t.style[e];if(n)return parseFloat(n.substring(0,n.length-2))};return[e("left"),e("top")]},setAbsolutePosition:function(t,e,n,r){n?this.animate(t,{left:"+="+(e[0]-n[0]),top:"+="+(e[1]-n[1])},r):(t.style.left=e[0]+"px",t.style.top=e[1]+"px")},getSize:function(t){return[t.offsetWidth,t.offsetHeight]},getWidth:function(t){return t.offsetWidth},getHeight:function(t){return t.offsetHeight},getRenderMode:function(){return"svg"}})}.call("undefined"!=typeof window?window:m),function(){var t=this,e=t.jsPlumb,n=t.jsPlumbUtil;e.OverlayCapableJsPlumbUIComponent=function(e){t.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},e.label&&(this.getDefaultType().overlays.__label=["Label",{label:e.label,location:e.labelLocation||this.defaultLabelLocation||.5,labelStyle:e.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:"__label"}]),this.setListenerComponent=function(t){if(this._jsPlumb)for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].setListenerComponent(t)}},e.OverlayCapableJsPlumbUIComponent.applyType=function(t,e){if(e.overlays){var n,r={};for(n in e.overlays){var o=t._jsPlumb.overlays[e.overlays[n][1].id];if(o)o.updateFrom(e.overlays[n][1]),r[e.overlays[n][1].id]=!0;else{var i=t.getCachedTypeItem("overlay",e.overlays[n][1].id);null!=i?(i.reattach(t._jsPlumb.instance,t),i.setVisible(!0),i.updateFrom(e.overlays[n][1]),t._jsPlumb.overlays[i.id]=i):i=t.addOverlay(e.overlays[n],!0),r[i.id]=!0}}for(n in t._jsPlumb.overlays)null==r[t._jsPlumb.overlays[n].id]&&t.removeOverlay(t._jsPlumb.overlays[n].id,!0)}},n.extend(e.OverlayCapableJsPlumbUIComponent,t.jsPlumbUIComponent,{setHover:function(t,e){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n][t?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(t,r){var o=function(t,r){var o=null;if(n.isArray(r)){var i=r[0],s=e.extend({component:t,_jsPlumb:t._jsPlumb.instance},r[1]);3===r.length&&e.extend(s,r[2]),o=new(e.Overlays[t._jsPlumb.instance.getRenderMode()][i])(s)}else o=r.constructor===String?new(e.Overlays[t._jsPlumb.instance.getRenderMode()][r])({component:t,_jsPlumb:t._jsPlumb.instance}):r;return o.id=o.id||n.uuid(),t.cacheTypeItem("overlay",o,o.id),t._jsPlumb.overlays[o.id]=o,o}(this,t);return r||this.repaint(),o},getOverlay:function(t){return this._jsPlumb.overlays[t]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(t){var e=this.getOverlay(t);e&&e.hide()},hideOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].hide()},showOverlay:function(t){var e=this.getOverlay(t);e&&e.show()},showOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].show()},removeAllOverlays:function(t){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].cleanup&&this._jsPlumb.overlays[e].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,t||this.repaint()},removeOverlay:function(t,e){var n=this._jsPlumb.overlays[t];n&&(n.setVisible(!1),!e&&n.cleanup&&n.cleanup(),delete this._jsPlumb.overlays[t],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[t])},removeOverlays:function(){for(var t=0,e=arguments.length;t<e;t++)this.removeOverlay(arguments[t])},moveParent:function(t){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),t.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode)for(var e in this.canvas.parentNode.removeChild(this.canvas),t.appendChild(this.canvas),this._jsPlumb.overlays)if(this._jsPlumb.overlays[e].isAppendedAtTopLevel){var n=this._jsPlumb.overlays[e].getElement();n.parentNode.removeChild(n),t.appendChild(n)}},getLabel:function(){var t=this.getOverlay("__label");return null!=t?t.getLabel():null},getLabelOverlay:function(){return this.getOverlay("__label")},setLabel:function(t){var n=this.getOverlay("__label");n?t.constructor===String||t.constructor===Function?n.setLabel(t):(t.label&&n.setLabel(t.label),t.location&&n.setLocation(t.location)):(n=function(t,n){var r={cssClass:n.cssClass,labelStyle:t.labelStyle,id:"__label",component:t,_jsPlumb:t._jsPlumb.instance},o=e.extend(r,n);return new(e.Overlays[t._jsPlumb.instance.getRenderMode()].Label)(o)}(this,t.constructor===String||t.constructor===Function?{label:t}:t),this._jsPlumb.overlays.__label=n),this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(t){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].cleanup(t),this._jsPlumb.overlays[e].destroy(t);t&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(t){this[t?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(t,e){this._jsPlumb.overlayPositions[t.id]=e},getAbsoluteOverlayPosition:function(t){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[t.id]:null},_clazzManip:function(t,e,n){if(!n)for(var r in this._jsPlumb.overlays)this._jsPlumb.overlays[r][t+"Class"](e)},addClass:function(t,e){this._clazzManip("add",t,e)},removeClass:function(t,e){this._clazzManip("remove",t,e)}})}.call("undefined"!=typeof window?window:m),function(){var t=this.jsPlumb,e=this.jsPlumbUtil,n=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"];t.Endpoint=function(r){var i=r._jsPlumb,s=r.newConnection,a=r.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],t.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:r.connectionType,maxConnections:null==r.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:r.maxConnections,paintStyle:r.endpointStyle||r.paintStyle||r.style||this._jsPlumb.instance.Defaults.EndpointStyle||t.Defaults.EndpointStyle,hoverPaintStyle:r.endpointHoverStyle||r.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||t.Defaults.EndpointHoverStyle,connectorStyle:r.connectorStyle,connectorHoverStyle:r.connectorHoverStyle,connectorClass:r.connectorClass,connectorHoverClass:r.connectorHoverClass,connectorOverlays:r.connectorOverlays,connector:r.connector,connectorTooltip:r.connectorTooltip}),this._jsPlumb.enabled=!(!1===r.enabled),this._jsPlumb.visible=!0,this.element=t.getElement(r.source),this._jsPlumb.uuid=r.uuid,this._jsPlumb.floatingEndpoint=null,this._jsPlumb.uuid&&(r.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=r.elementId,this.dragProxy=r.dragProxy,this._jsPlumb.connectionCost=r.connectionCost,this._jsPlumb.connectionsDirected=r.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var u=!0===r.deleteOnEmpty;this.setDeleteOnEmpty=function(t){u=t};var c=function(){var e=i.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var n=i.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(e),this.addClass(n),t.updateClasses(this.element,n,e)}.bind(this);this.prepareAnchor=function(t){var e=this._jsPlumb.instance.makeAnchor(t,this.elementId,i);return e.bind("anchorChanged",function(t){this.fire("anchorChanged",{endpoint:this,anchor:t}),c()}.bind(this)),e},this.setPreparedAnchor=function(t,e){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=t,c(),e||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(t,e){var n=this.prepareAnchor(t);return this.setPreparedAnchor(n,e),this};var l=function(t){if(this.connections.length>0)for(var e=0;e<this.connections.length;e++)this.connections[e].setHover(t,!1);else this.setHover(t)}.bind(this);this.bind("mouseover",function(){l(!0)}),this.bind("mouseout",function(){l(!1)}),r._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(n,o){var s,a=function(e,n){var r=i.getRenderMode();if(t.Endpoints[r][e])return new t.Endpoints[r][e](n);if(!i.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+e+"'"}},u={_jsPlumb:this._jsPlumb.instance,cssClass:r.cssClass,container:r.container,tooltip:r.tooltip,connectorTooltip:r.connectorTooltip,endpoint:this};return e.isString(n)?s=a(n,u):e.isArray(n)?(u=e.merge(n[1],u),s=a(n[0],u)):s=n.clone(),s.clone=function(){return e.isString(n)?a(n,u):e.isArray(n)?(u=e.merge(n[1],u),a(n[0],u)):void 0}.bind(this),s.typeId=o,s},this.setEndpoint=function(t,e){var n=this.prepareEndpoint(t);this.setPreparedEndpoint(n,!0)},this.setPreparedEndpoint=function(t,e){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=t,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},t.extend(this,r,n),this.isSource=r.isSource||!1,this.isTemporarySource=r.isTemporarySource||!1,this.isTarget=r.isTarget||!1,this.connections=r.connections||[],this.connectorPointerEvents=r["connector-pointer-events"],this.scope=r.scope||i.getDefaultScope(),this.timestamp=null,this.reattachConnections=r.reattach||i.Defaults.ReattachConnections,this.connectionsDetachable=i.Defaults.ConnectionsDetachable,!1!==r.connectionsDetachable&&!1!==r.detachable||(this.connectionsDetachable=!1),this.dragAllowedWhenFull=!1!==r.dragAllowedWhenFull,r.onMaxConnections&&this.bind("maxConnections",r.onMaxConnections),this.addConnection=function(t){this.connections.push(t),this[(this.connections.length>0?"add":"remove")+"Class"](i.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](i.endpointFullClass)},this.detachFromConnection=function(t,e,n){(e=null==e?this.connections.indexOf(t):e)>=0&&(this.connections.splice(e,1),this[(this.connections.length>0?"add":"remove")+"Class"](i.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](i.endpointFullClass)),!n&&u&&0===this.connections.length&&i.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!0!==n})},this.deleteEveryConnection=function(t){for(var e=this.connections.length,n=0;n<e;n++)i.deleteConnection(this.connections[0],t)},this.detachFrom=function(t,e,n){for(var r=[],o=0;o<this.connections.length;o++)this.connections[o].endpoints[1]!==t&&this.connections[o].endpoints[0]!==t||r.push(this.connections[o]);for(var s=0,a=r.length;s<a;s++)i.deleteConnection(r[0]);return this},this.getElement=function(){return this.element},this.setElement=function(n){var o=this._jsPlumb.instance.getId(n),s=this.elementId;return e.removeWithFunction(r.endpointsByElement[this.elementId],function(t){return t.id===this.id}.bind(this)),this.element=t.getElement(n),this.elementId=i.getId(this.element),i.anchorManager.rehomeEndpoint(this,s,this.element),i.dragManager.endpointAdded(this.element),e.addToList(r.endpointsByElement,o,this),this},this.makeInPlaceCopy=function(){var t=this.anchor.getCurrentLocation({element:this}),e=this.anchor.getOrientation(this),n=this.anchor.getCssClass(),o={bind:function(){},compute:function(){return[t[0],t[1]]},getCurrentLocation:function(){return[t[0],t[1]]},getOrientation:function(){return e},getCssClass:function(){return n}};return a({dropOptions:r.dropOptions,anchor:o,source:this.element,paintStyle:this.getPaintStyle(),endpoint:r.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){var t=this.connections[0];return t||(this.connections.length<this._jsPlumb.maxConnections||-1===this._jsPlumb.maxConnections?null:t)},this.setStyle=this.setPaintStyle,this.paint=function(t){var e=(t=t||{}).timestamp,n=!(!1===t.recalc);if(!e||this.timestamp!==e){var r=i.updateOffset({elId:this.elementId,timestamp:e}),o=t.offset?t.offset.o:r.o;if(null!=o){var s=t.anchorPoint,a=t.connectorPaintStyle;if(null==s){var u=t.dimensions||r.s,c={xy:[o.left,o.top],wh:u,element:this,timestamp:e};if(n&&this.anchor.isDynamic&&this.connections.length>0){var l=function(t,e){var n=0;if(null!=e)for(var r=0;r<t.connections.length;r++)if(t.connections[r].sourceId===e||t.connections[r].targetId===e){n=r;break}return t.connections[n]}(this,t.elementWithPrecedence),h=l.endpoints[0]===this?1:0,d=0===h?l.sourceId:l.targetId,f=i.getCachedData(d),p=f.o,g=f.s;c.index=0===h?1:0,c.connection=l,c.txy=[p.left,p.top],c.twh=g,c.tElement=l.endpoints[h]}s=this.anchor.compute(c)}for(var v in this.endpoint.compute(s,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,a||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=e,this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(v)){var m=this._jsPlumb.overlays[v];m.isVisible()&&(this._jsPlumb.overlayPlacements[v]=m.draw(this.endpoint,this._jsPlumb.paintStyleInUse),m.paint(this._jsPlumb.overlayPlacements[v]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var h=!1;this.initDraggable=function(){if(!h&&t.isDragSupported(this.element)){var n,u={id:null,element:null},c=null,l=!1,d=null,f=function(t,e,n){var r=!1;return{drag:function(){if(r)return r=!1,!0;if(e.element){var o=n.getUIPosition(arguments,n.getZoom());null!=o&&n.setPosition(e.element,o),n.repaint(e.element,o),t.paint({anchorPoint:t.anchor.getCurrentLocation({element:t})})}},stopDrag:function(){r=!0}}}(this,u,i),p=r.dragOptions||{},g=t.dragEvents.start,v=t.dragEvents.stop,m=t.dragEvents.drag,y=t.dragEvents.beforeStart,b=function(h){c=this.connectorSelector();var p=!0;this.isEnabled()||(p=!1),null!=c||this.isSource||this.isTemporarySource||(p=!1),!this.isSource||!this.isFull()||null!=c&&this.dragAllowedWhenFull||(p=!1),null==c||c.isDetachable(this)||(p=!1);var g=i.checkCondition(null==c?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:c});if(!1===g?p=!1:"object"==(void 0===g?"undefined":o(g))?t.extend(g,n||{}):g=n||{},!1===p)return i.stopDrag&&i.stopDrag(this.canvas),f.stopDrag(),!1;for(var v=0;v<this.connections.length;v++)this.connections[v].setHover(!1);this.addClass("endpointDrag"),i.setConnectionBeingDragged(!0),c&&!this.isFull()&&this.isSource&&(c=null),i.updateOffset({elId:this.elementId});var m=this._jsPlumb.instance.getOffset(this.canvas),y=this.canvas,b=this._jsPlumb.instance.getSize(this.canvas);!function(t,e,n,r){var o=e.createElement("div",{position:"absolute"});e.appendElement(o);var i=e.getId(o);e.setPosition(o,n),o.style.width=r[0]+"px",o.style.height=r[1]+"px",e.manage(i,o,!0),t.id=i,t.element=o}(u,i,m,b),i.setAttributes(this.canvas,{dragId:u.id,elId:this.elementId});var _=this.dragProxy||this.endpoint;if(null==this.dragProxy&&null!=this.connectionType){var P=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);P.endpoints[1]&&(_=P.endpoints[1])}var E=this._jsPlumb.instance.makeAnchor("Center");E.isFloating=!0,this._jsPlumb.floatingEndpoint=function(e,n,r,o,i,s,a,u){return a({paintStyle:e,endpoint:r,anchor:new t.FloatingAnchor({reference:n,referenceCanvas:o,jsPlumbInstance:s}),source:i,scope:u})}(this.getPaintStyle(),E,_,this.canvas,u.element,i,a,this.scope);var x=this._jsPlumb.floatingEndpoint.anchor;if(null==c)this.setHover(!1,!1),(c=s({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:u.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:r.connectorStyle,hoverPaintStyle:r.connectorHoverStyle,connector:r.connector,overlays:r.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:r.scope,data:g})).pending=!0,c.addClass(i.draggingClass),this._jsPlumb.floatingEndpoint.addClass(i.draggingClass),this._jsPlumb.floatingEndpoint.anchor=x,i.fire("connectionDrag",c),i.anchorManager.newConnection(c);else{l=!0,c.setHover(!1);var S=c.endpoints[0].id===this.id?0:1;this.detachFromConnection(c,null,!0);var C=i.getDragScope(y);i.setAttribute(this.canvas,"originalScope",C),i.fire("connectionDrag",c),0===S?(d=[c.source,c.sourceId,y,C],i.anchorManager.sourceChanged(c.endpoints[S].elementId,u.id,c,u.element)):(d=[c.target,c.targetId,y,C],c.target=u.element,c.targetId=u.id,i.anchorManager.updateOtherEndpoint(c.sourceId,c.endpoints[S].elementId,c.targetId,c)),c.suspendedEndpoint=c.endpoints[S],c.suspendedElement=c.endpoints[S].getElement(),c.suspendedElementId=c.endpoints[S].elementId,c.suspendedElementType=0===S?"source":"target",c.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=c.suspendedEndpoint,c.endpoints[S]=this._jsPlumb.floatingEndpoint,c.addClass(i.draggingClass),this._jsPlumb.floatingEndpoint.addClass(i.draggingClass)}i.floatingConnections[u.id]=c,e.addToList(r.endpointsByElement,u.id,this._jsPlumb.floatingEndpoint),i.currentlyDragging=!0}.bind(this),_=function(){if(i.setConnectionBeingDragged(!1),c&&null!=c.endpoints){var t=i.getDropEvent(arguments),e=i.getFloatingAnchorIndex(c);if(c.endpoints[0===e?1:0].anchor.locked=!1,c.removeClass(i.draggingClass),this._jsPlumb&&(c.deleteConnectionNow||c.endpoints[e]===this._jsPlumb.floatingEndpoint)&&l&&c.suspendedEndpoint){0===e?(c.floatingElement=c.source,c.floatingId=c.sourceId,c.floatingEndpoint=c.endpoints[0],c.floatingIndex=0,c.source=d[0],c.sourceId=d[1]):(c.floatingElement=c.target,c.floatingId=c.targetId,c.floatingEndpoint=c.endpoints[1],c.floatingIndex=1,c.target=d[0],c.targetId=d[1]);var n=this._jsPlumb.floatingEndpoint;i.setDragScope(d[2],d[3]),c.endpoints[e]=c.suspendedEndpoint,c.isReattach()||c._forceReattach||c._forceDetach||!i.deleteConnection(c,{originalEvent:t})?(c.setHover(!1),c._forceDetach=null,c._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(c),c.suspendedEndpoint.addConnection(c),1===e?i.anchorManager.updateOtherEndpoint(c.sourceId,c.floatingId,c.targetId,c):i.anchorManager.sourceChanged(c.floatingId,c.sourceId,c,c.source),i.repaint(d[1])):i.deleteObject({endpoint:n})}this.deleteAfterDragStop?i.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),i.fire("connectionDragStop",c,t),c.pending&&i.fire("connectionAborted",c,t),i.currentlyDragging=!1,c.suspendedElement=null,c.suspendedEndpoint=null,c=null}u&&u.element&&i.remove(u.element,!1,!1),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.locked=!1,this._jsPlumb.floatingEndpoint=null)}.bind(this);(p=t.extend({},p)).scope=this.scope||p.scope,p[y]=e.wrap(p[y],function(t){n=t.e.payload||{}},!1),p[g]=e.wrap(p[g],b,!1),p[m]=e.wrap(p[m],f.drag),p[v]=e.wrap(p[v],_),p.multipleDrop=!1,p.canDrag=function(){return this.isSource||this.isTemporarySource||this.connections.length>0}.bind(this),i.initDraggable(this.canvas,p,"internal"),this.canvas._jsPlumbRelatedElement=this.element,h=!0}};var d=r.endpoint||this._jsPlumb.instance.Defaults.Endpoint||t.Defaults.Endpoint;this.setEndpoint(d,!0);var f=r.anchor?r.anchor:r.anchors?r.anchors:i.Defaults.Anchor||"Top";this.setAnchor(f,!0);var p=["default",r.type||""].join(" ");this.addType(p,r.data,!0),this.canvas=this.endpoint.canvas,this.canvas._jsPlumb=this,this.initDraggable();var g=function(n,o,s,a){if(t.isDropSupported(this.element)){var u=r.dropOptions||i.Defaults.DropOptions||t.Defaults.DropOptions;(u=t.extend({},u)).scope=u.scope||this.scope;var c=t.dragEvents.drop,l=t.dragEvents.over,h=t.dragEvents.out,d=this,f=i.EndpointDropHandler({getEndpoint:function(){return d},jsPlumb:i,enabled:function(){return null==s||s.isEnabled()},isFull:function(){return s.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(t){d.addClass(t)},removeClass:function(t){d.removeClass(t)},isDropAllowed:function(){return d.isDropAllowed.apply(d,arguments)},reference:a,isRedrop:function(t,e){return t.suspendedEndpoint&&e.reference&&t.suspendedEndpoint.id===e.reference.id}});u[c]=e.wrap(u[c],f,!0),u[l]=e.wrap(u[l],function(){var e=t.getDragObject(arguments),n=i.getAttribute(t.getElement(e),"dragId"),r=i.floatingConnections[n];if(null!=r){var o=i.getFloatingAnchorIndex(r);if(this.isTarget&&0!==o||r.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===r.suspendedEndpoint.id){var s=i.checkCondition("checkDropAllowed",{sourceEndpoint:r.endpoints[o],targetEndpoint:this,connection:r});this[(s?"add":"remove")+"Class"](i.endpointDropAllowedClass),this[(s?"remove":"add")+"Class"](i.endpointDropForbiddenClass),r.endpoints[o].anchor.over(this.anchor,this)}}}.bind(this)),u[h]=e.wrap(u[h],function(){var e=t.getDragObject(arguments),n=null==e?null:i.getAttribute(t.getElement(e),"dragId"),r=n?i.floatingConnections[n]:null;if(null!=r){var o=i.getFloatingAnchorIndex(r);(this.isTarget&&0!==o||r.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===r.suspendedEndpoint.id)&&(this.removeClass(i.endpointDropAllowedClass),this.removeClass(i.endpointDropForbiddenClass),r.endpoints[o].anchor.out())}}.bind(this)),i.initDroppable(n,u,"internal",o)}}.bind(this);return this.anchor.isFloating||g(this.canvas,!(r._transient||this.anchor.isFloating),this,r.reference),this},e.extend(t.Endpoint,t.OverlayCapableJsPlumbUIComponent,{setVisible:function(t,e,n){if(this._jsPlumb.visible=t,this.canvas&&(this.canvas.style.display=t?"block":"none"),this[t?"showOverlays":"hideOverlays"](),!e)for(var r=0;r<this.connections.length;r++)if(this.connections[r].setVisible(t),!n){var o=this===this.connections[r].endpoints[0]?1:0;1===this.connections[r].endpoints[o].connections.length&&this.connections[r].endpoints[o].setVisible(t,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(e,r){this.setPaintStyle(e.endpointStyle||e.paintStyle,r),this.setHoverPaintStyle(e.endpointHoverStyle||e.hoverPaintStyle,r),null!=e.maxConnections&&(this._jsPlumb.maxConnections=e.maxConnections),e.scope&&(this.scope=e.scope),t.extend(this,e,n),null!=e.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,e.cssClass),t.OverlayCapableJsPlumbUIComponent.applyType(this,e)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(t){this._jsPlumb.enabled=t},cleanup:function(){var e=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");t.removeClass(this.element,e),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(t){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(t)},isFull:function(){return 0===this._jsPlumb.maxConnections||!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(t){var e=!1;if(t)for(var n=0;n<this.connections.length;n++)if(this.connections[n].endpoints[1]===t||this.connections[n].endpoints[0]===t){e=!0;break}return e},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(t){this._jsPlumb.connectionCost=t},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(t){this._jsPlumb.connectionsDirected=t},setElementId:function(t){this.elementId=t,this.anchor.elementId=t},setReferenceElement:function(e){this.element=t.getElement(e)},setDragAllowedWhenFull:function(t){this.dragAllowedWhenFull=t},equals:function(t){return this.anchor.equals(t.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(t){return this.anchor.compute(t)}}),this.jsPlumbInstance.prototype.EndpointDropHandler=function(t){return function(n){var r=t.jsPlumb;t.removeClass(r.endpointDropAllowedClass),t.removeClass(r.endpointDropForbiddenClass);var o=r.getDropEvent(arguments),i=r.getDragObject(arguments),s=r.getAttribute(i,"dragId"),a=(r.getAttribute(i,"elId"),r.getAttribute(i,"originalScope")),u=r.floatingConnections[s];if(null!=u){var c=null!=u.suspendedEndpoint;if(!c||null!=u.suspendedEndpoint._jsPlumb){var l=t.getEndpoint(u);if(null!=l){if(t.isRedrop(u,t))return u._forceReattach=!0,u.setHover(!1),void(t.maybeCleanup&&t.maybeCleanup(l));var h=r.getFloatingAnchorIndex(u);if(0===h&&!t.isSource||1===h&&!t.isTarget)t.maybeCleanup&&t.maybeCleanup(l);else{t.onDrop&&t.onDrop(u),a&&r.setDragScope(i,a);var d=t.isFull(n);if(d&&l.fire("maxConnections",{endpoint:this,connection:u,maxConnections:l._jsPlumb.maxConnections},o),!d&&t.enabled()){var f=!0;0===h?(u.floatingElement=u.source,u.floatingId=u.sourceId,u.floatingEndpoint=u.endpoints[0],u.floatingIndex=0,u.source=t.element,u.sourceId=t.elementId):(u.floatingElement=u.target,u.floatingId=u.targetId,u.floatingEndpoint=u.endpoints[1],u.floatingIndex=1,u.target=t.element,u.targetId=t.elementId),c&&u.suspendedEndpoint.id!==l.id&&(u.isDetachAllowed(u)&&u.endpoints[h].isDetachAllowed(u)&&u.suspendedEndpoint.isDetachAllowed(u)&&r.checkCondition("beforeDetach",u)||(f=!1));var p=function(n){u.endpoints[h].detachFromConnection(u),u.suspendedEndpoint&&u.suspendedEndpoint.detachFromConnection(u),u.endpoints[h]=l,l.addConnection(u);var i=l.getParameters();for(var s in i)u.setParameter(s,i[s]);if(c){var a=u.suspendedEndpoint.elementId;r.fireMoveEvent({index:h,originalSourceId:0===h?a:u.sourceId,newSourceId:0===h?l.elementId:u.sourceId,originalTargetId:1===h?a:u.targetId,newTargetId:1===h?l.elementId:u.targetId,originalSourceEndpoint:0===h?u.suspendedEndpoint:u.endpoints[0],newSourceEndpoint:0===h?l:u.endpoints[0],originalTargetEndpoint:1===h?u.suspendedEndpoint:u.endpoints[1],newTargetEndpoint:1===h?l:u.endpoints[1],connection:u},o)}else i.draggable&&r.initDraggable(this.element,t.dragOptions,"internal",r);1===h?r.anchorManager.updateOtherEndpoint(u.sourceId,u.floatingId,u.targetId,u):r.anchorManager.sourceChanged(u.floatingId,u.sourceId,u,u.source),u.endpoints[0].finalEndpoint&&(u.endpoints[0].detachFromConnection(u),u.endpoints[0]=u.endpoints[0].finalEndpoint,u.endpoints[0].addConnection(u)),e.isObject(n)&&u.mergeData(n),r.finaliseConnection(u,null,o,!1),u.setHover(!1)}.bind(this);if(f=f&&t.isDropAllowed(u.sourceId,u.targetId,u.scope,u,l))return p(f),!0;u.suspendedEndpoint&&(u.endpoints[h]=u.suspendedEndpoint,u.setHover(!1),u._forceDetach=!0,0===h?(u.source=u.suspendedEndpoint.element,u.sourceId=u.suspendedEndpoint.elementId):(u.target=u.suspendedEndpoint.element,u.targetId=u.suspendedEndpoint.elementId),u.suspendedEndpoint.addConnection(u),1===h?r.anchorManager.updateOtherEndpoint(u.sourceId,u.floatingId,u.targetId,u):r.anchorManager.sourceChanged(u.floatingId,u.sourceId,u,u.source),r.repaint(u.sourceId),u._forceDetach=!1)}t.maybeCleanup&&t.maybeCleanup(l),r.currentlyDragging=!1}}}}}}}.call("undefined"!=typeof window?window:m),function(){var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,r=function(t,n,r,o,i){if(!t.Defaults.DoNotThrowErrors&&null==e.Connectors[n][r])throw{msg:"jsPlumb: unknown connector type '"+r+"'"};return new e.Connectors[n][r](o,i)},o=function(t,e,n){return t?n.makeAnchor(t,e,n):null},i=function(t,e,r,o){null!=e&&(e._jsPlumbConnections=e._jsPlumbConnections||{},o?delete e._jsPlumbConnections[t.id]:e._jsPlumbConnections[t.id]=!0,n.isEmpty(e._jsPlumbConnections)?r.removeClass(e,r.connectedClass):r.addClass(e,r.connectedClass))};e.Connection=function(t){var r=t.newEndpoint;this.id=t.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=t.previousConnection,this.source=e.getElement(t.source),this.target=e.getElement(t.target),t.sourceEndpoint&&(this.source=t.sourceEndpoint.getElement()),t.targetEndpoint&&(this.target=t.targetEndpoint.getElement()),e.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.sourceId=this._jsPlumb.instance.getId(this.source),this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=t.scope,this.endpoints=[],this.endpointStyles=[];var o=this._jsPlumb.instance;o.manage(this.sourceId,this.source),o.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.editable=!0===t.editable,this._jsPlumb.params={cssClass:t.cssClass,container:t.container,"pointer-events":t["pointer-events"],editorParams:t.editorParams,overlays:t.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.editableRequested=!1!==t.editable,this.setEditable=function(t){return!!this.connector&&this.connector.setEditable(t)},this.isEditable=function(){return!!this.connector&&this.connector.isEditable()},this.isEditing=function(){return!!this.connector&&this.connector.isEditing()},this.makeEndpoint=function(e,n,i,s){return i=i||this._jsPlumb.instance.getId(n),this.prepareEndpoint(o,r,this,s,e?0:1,t,n,i)},t.type&&(t.endpoints=t.endpoints||this._jsPlumb.instance.deriveEndpointAndAnchorSpec(t.type).endpoints);var i=this.makeEndpoint(!0,this.source,this.sourceId,t.sourceEndpoint),s=this.makeEndpoint(!1,this.target,this.targetId,t.targetEndpoint);i&&n.addToList(t.endpointsByElement,this.sourceId,i),s&&n.addToList(t.endpointsByElement,this.targetId,s),this.scope||(this.scope=this.endpoints[0].scope),null!=t.deleteEndpointsOnEmpty&&(this.endpoints[0].setDeleteOnEmpty(t.deleteEndpointsOnEmpty),this.endpoints[1].setDeleteOnEmpty(t.deleteEndpointsOnEmpty));var a=o.Defaults.ConnectionsDetachable;!1===t.detachable&&(a=!1),!1===this.endpoints[0].connectionsDetachable&&(a=!1),!1===this.endpoints[1].connectionsDetachable&&(a=!1);var u=t.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||o.Defaults.ReattachConnections;this.appendToDefaultType({detachable:a,reattach:u,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||t.paintStyle||o.Defaults.PaintStyle||e.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||t.hoverPaintStyle||o.Defaults.HoverPaintStyle||e.Defaults.HoverPaintStyle});var c=o.getSuspendedAt();if(!o.isSuspendDrawing()){var l=o.getCachedData(this.sourceId),h=l.o,d=l.s,f=o.getCachedData(this.targetId),p=f.o,g=f.s,v=c||o.timestamp(),m=this.endpoints[0].anchor.compute({xy:[h.left,h.top],wh:d,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[p.left,p.top],twh:g,tElement:this.endpoints[1],timestamp:v});this.endpoints[0].paint({anchorLoc:m,timestamp:v}),m=this.endpoints[1].anchor.compute({xy:[p.left,p.top],wh:g,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[h.left,h.top],twh:d,tElement:this.endpoints[0],timestamp:v}),this.endpoints[1].paint({anchorLoc:m,timestamp:v})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(){return!0===this._jsPlumb.detachable},this.setDetachable=function(t){this._jsPlumb.detachable=!0===t},this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections},this.setReattach=function(t){this._jsPlumb.reattach=!0===t},this._jsPlumb.cost=t.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=t.directed,null==t.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var y=e.extend({},this.endpoints[1].getParameters());e.extend(y,this.endpoints[0].getParameters()),e.extend(y,this.getParameters()),this.setParameters(y),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||t.connector||o.Defaults.Connector||e.Defaults.Connector,!0),t.geometry&&this.connector.setGeometry(t.geometry);var b=null!=t.data&&n.isObject(t.data)?t.data:{};this.getData=function(){return b},this.setData=function(t){b=t||{}},this.mergeData=function(t){b=e.extend(b,t)};var _=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,t.type].join(" ");/[^\s]/.test(_)&&this.addType(_,t.data,!0),this.updateConnectedClass()},n.extend(e.Connection,e.OverlayCapableJsPlumbUIComponent,{applyType:function(t,n,r){var o=null;null!=t.connector&&(null==(o=this.getCachedTypeItem("connector",r.connector))&&(o=this.prepareConnector(t.connector,r.connector),this.cacheTypeItem("connector",o,r.connector)),this.setPreparedConnector(o)),null!=t.detachable&&this.setDetachable(t.detachable),null!=t.reattach&&this.setReattach(t.reattach),t.scope&&(this.scope=t.scope),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass);var i=null;t.anchor?null==(i=this.getCachedTypeItem("anchors",r.anchor))&&(i=[this._jsPlumb.instance.makeAnchor(t.anchor),this._jsPlumb.instance.makeAnchor(t.anchor)],this.cacheTypeItem("anchors",i,r.anchor)):t.anchors&&null==(i=this.getCachedTypeItem("anchors",r.anchors))&&(i=[this._jsPlumb.instance.makeAnchor(t.anchors[0]),this._jsPlumb.instance.makeAnchor(t.anchors[1])],this.cacheTypeItem("anchors",i,r.anchors)),null!=i&&(this.endpoints[0].anchor=i[0],this.endpoints[1].anchor=i[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),e.OverlayCapableJsPlumbUIComponent.applyType(this,t)},addClass:function(t,e){e&&(this.endpoints[0].addClass(t),this.endpoints[1].addClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(t)),this.connector&&this.connector.addClass(t)},removeClass:function(t,e){e&&(this.endpoints[0].removeClass(t),this.endpoints[1].removeClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(t)),this.connector&&this.connector.removeClass(t)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(t){this._jsPlumb.visible=t,this.connector&&this.connector.setVisible(t),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,this.target=null,null!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(t){this._jsPlumb&&(i(this,this.source,this._jsPlumb.instance,t),i(this,this.target,this._jsPlumb.instance,t))},setHover:function(e){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(e),t.jsPlumb[e?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),t.jsPlumb[e?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(t){this._jsPlumb.cost=t},isDirected:function(){return!0===this._jsPlumb.directed},getConnector:function(){return this.connector},getGeometry:function(){return this.connector?this.connector.getGeometry():null},setGeometry:function(t){this.connector&&this.connector.setGeometry(t)},prepareConnector:function(t,e){var o,i={_jsPlumb:this._jsPlumb.instance,cssClass:(this._jsPlumb.params.cssClass||"")+(this.isEditable()?this._jsPlumb.instance.editableConnectorClass:""),container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"],editable:this.editableRequested},s=this._jsPlumb.instance.getRenderMode();return n.isString(t)?o=r(this._jsPlumb.instance,s,t,i,this):n.isArray(t)&&(o=1===t.length?r(this._jsPlumb.instance,s,t[0],i,this):r(this._jsPlumb.instance,s,t[0],n.merge(t[1],i),this)),null!=e&&(o.typeId=e),o},setPreparedConnector:function(t,e,n,r){var o,i="";if(null!=this.connector&&(i=(o=this.connector).getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=t,r&&this.cacheTypeItem("connector",t,r),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.addClass(i),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=o)for(var s=this.getOverlays(),a=0;a<s.length;a++)s[a].transfer&&s[a].transfer(this.connector);n||this.setListenerComponent(this.connector),e||this.repaint()},setConnector:function(t,e,n,r){var o=this.prepareConnector(t,r);this.setPreparedConnector(o,e,n,r)},paint:function(t){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){var e=(t=t||{}).timestamp,n=this.targetId,r=this.sourceId;if(null==e||e!==this._jsPlumb.lastPaintedAt){var o=this._jsPlumb.instance.updateOffset({elId:r}).o,i=this._jsPlumb.instance.updateOffset({elId:n}).o,s=this.endpoints[0],a=this.endpoints[1],u=s.anchor.getCurrentLocation({xy:[o.left,o.top],wh:[o.width,o.height],element:s,timestamp:e}),c=a.anchor.getCurrentLocation({xy:[i.left,i.top],wh:[i.width,i.height],element:a,timestamp:e});this.connector.resetBounds(),this.connector.compute({sourcePos:u,targetPos:c,sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],"stroke-width":this._jsPlumb.paintStyleInUse.strokeWidth,sourceInfo:o,targetInfo:i});var l={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var h in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(h)){var d=this._jsPlumb.overlays[h];d.isVisible()&&(this._jsPlumb.overlayPlacements[h]=d.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(d)),l.minX=Math.min(l.minX,this._jsPlumb.overlayPlacements[h].minX),l.maxX=Math.max(l.maxX,this._jsPlumb.overlayPlacements[h].maxX),l.minY=Math.min(l.minY,this._jsPlumb.overlayPlacements[h].minY),l.maxY=Math.max(l.maxY,this._jsPlumb.overlayPlacements[h].maxY))}var f=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||1)/2,p=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||0),g={xmin:Math.min(this.connector.bounds.minX-(f+p),l.minX),ymin:Math.min(this.connector.bounds.minY-(f+p),l.minY),xmax:Math.max(this.connector.bounds.maxX+(f+p),l.maxX),ymax:Math.max(this.connector.bounds.maxY+(f+p),l.maxY)};for(var v in this.connector.paint(this._jsPlumb.paintStyleInUse,null,g),this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(v)){var m=this._jsPlumb.overlays[v];m.isVisible()&&m.paint(this._jsPlumb.overlayPlacements[v],g)}}this._jsPlumb.lastPaintedAt=e}},repaint:function(t){t=t||{},this.paint({elId:this.sourceId,recalc:!(!1===t.recalc),timestamp:t.timestamp})},prepareEndpoint:function(t,n,r,i,s,a,u,c){var l;if(i)r.endpoints[s]=i,i.addConnection(r);else{a.endpoints||(a.endpoints=[null,null]);var h=a.endpoints[s]||a.endpoint||t.Defaults.Endpoints[s]||e.Defaults.Endpoints[s]||t.Defaults.Endpoint||e.Defaults.Endpoint;a.endpointStyles||(a.endpointStyles=[null,null]),a.endpointHoverStyles||(a.endpointHoverStyles=[null,null]);var d=a.endpointStyles[s]||a.endpointStyle||t.Defaults.EndpointStyles[s]||e.Defaults.EndpointStyles[s]||t.Defaults.EndpointStyle||e.Defaults.EndpointStyle;null==d.fill&&null!=a.paintStyle&&(d.fill=a.paintStyle.stroke),null==d.outlineStroke&&null!=a.paintStyle&&(d.outlineStroke=a.paintStyle.outlineStroke),null==d.outlineWidth&&null!=a.paintStyle&&(d.outlineWidth=a.paintStyle.outlineWidth);var f=a.endpointHoverStyles[s]||a.endpointHoverStyle||t.Defaults.EndpointHoverStyles[s]||e.Defaults.EndpointHoverStyles[s]||t.Defaults.EndpointHoverStyle||e.Defaults.EndpointHoverStyle;null!=a.hoverPaintStyle&&(null==f&&(f={}),null==f.fill&&(f.fill=a.hoverPaintStyle.stroke));var p=a.anchors?a.anchors[s]:a.anchor?a.anchor:o(t.Defaults.Anchors[s],c,t)||o(e.Defaults.Anchors[s],c,t)||o(t.Defaults.Anchor,c,t)||o(e.Defaults.Anchor,c,t);l=n({paintStyle:d,hoverPaintStyle:f,endpoint:h,connections:[r],uuid:a.uuids?a.uuids[s]:null,anchor:p,source:u,scope:a.scope,reattach:a.reattach||t.Defaults.ReattachConnections,detachable:a.detachable||t.Defaults.ConnectionsDetachable}),null==i&&l.setDeleteOnEmpty(!0),r.endpoints[s]=l,!1===a.drawEndpoints&&l.setVisible(!1,!0,!0)}return l}})}.call("undefined"!=typeof window?window:m),function(){var t=this.jsPlumbUtil,e=this.jsPlumb;e.AnchorManager=function(n){var r={},o={},i={},s={},a=["left","top","right","bottom"],u={},c=this,l={},h=n.jsPlumbInstance,d={},f=function(t,e,n,r,o,i){if(t===e)return{orientation:"identity",a:["top","top"]};var s=Math.atan2(r.centery-n.centery,r.centerx-n.centerx),u=Math.atan2(n.centery-r.centery,n.centerx-r.centerx),c=[],l={};!function(t,e){for(var n=0;n<t.length;n++)l[t[n]]={left:[e[n].left,e[n].centery],right:[e[n].right,e[n].centery],top:[e[n].centerx,e[n].top],bottom:[e[n].centerx,e[n].bottom]}}(["source","target"],[n,r]);for(var h=0;h<a.length;h++)for(var d=0;d<a.length;d++)c.push({source:a[h],target:a[d],dist:Biltong.lineLength(l.source[a[h]],l.target[a[d]])});c.sort(function(t,e){return t.dist<e.dist?-1:t.dist>e.dist?1:0});for(var f=c[0].source,p=c[0].target,g=0;g<c.length&&(f=!o.isContinuous||o.isEdgeSupported(c[g].source)?c[g].source:null,p=!i.isContinuous||i.isEdgeSupported(c[g].target)?c[g].target:null,null==f||null==p);g++);return{a:[f,p],theta:s,theta2:u}},p=function(t){return function(e,n){return!1==(t?e[0][0]<n[0][0]:e[0][0]>n[0][0])?-1:1}},g={top:function(t,e){return t[0]>e[0]?1:-1},right:p(!0),bottom:p(!0),left:function(t,e){return(t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0])>(e[0][0]<0?-Math.PI-e[0][0]:Math.PI-e[0][0])?1:-1}},v=function(t,e){var n=h.getCachedData(t),r=n.s,i=n.o,a=function(e,n,r,i,a,u,c){if(i.length>0)for(var l=function(t,e,n,r,o,i,s){for(var a=[],u=e[o?0:1]/(r.length+1),c=0;c<r.length;c++){var l=(c+1)*u,h=i*e[o?1:0];s&&(l=e[o?0:1]-l);var d=o?l:h,f=n[0]+d,p=d/e[0],g=o?h:l,v=n[1]+g,m=g/e[1];a.push([f,v,p,m,r[c][1],r[c][2]])}return a}(0,n,r,(m=g[e],i.sort(m)),a,u,"right"===e||"top"===e),h=function(t,e){o[t.id]=[e[0],e[1],e[2],e[3]],s[t.id]=c},d=0;d<l.length;d++){var f=l[d][4],p=f.endpoints[0].elementId===t,v=f.endpoints[1].elementId===t;p&&h(f.endpoints[0],l[d]),v&&h(f.endpoints[1],l[d])}var m};a("bottom",r,[i.left,i.top],e.bottom,!0,1,[0,1]),a("top",r,[i.left,i.top],e.top,!0,0,[0,-1]),a("left",r,[i.left,i.top],e.left,!1,0,[-1,0]),a("right",r,[i.left,i.top],e.right,!1,1,[1,0])};this.reset=function(){r={},u={},l={}},this.addFloatingConnection=function(t,e){d[t]=e},this.removeFloatingConnection=function(t){delete d[t]},this.newConnection=function(n){var r=n.sourceId,o=n.targetId,i=n.endpoints,s=!0,a=function(a,c,l,h,d){r===o&&l.isContinuous&&(n._jsPlumb.instance.removeElement(i[1].canvas),s=!1),t.addToList(u,h,[d,c,l.constructor===e.DynamicAnchor])};a(0,i[0],i[0].anchor,o,n),s&&a(0,i[1],i[1].anchor,r,n)};var m=function(e){!function(e,n){if(e){var r=function(t){return t[4]===n};t.removeWithFunction(e.top,r),t.removeWithFunction(e.left,r),t.removeWithFunction(e.bottom,r),t.removeWithFunction(e.right,r)}}(l[e.elementId],e.id)};this.connectionDetached=function(e,n){var r=e.connection||e,o=e.sourceId,i=e.targetId,s=r.endpoints,a=function(e,n,r,o,i){t.removeWithFunction(u[o],function(t){return t[0].id===i.id})};a(0,s[1],s[1].anchor,o,r),a(0,s[0],s[0].anchor,i,r),r.floatingId&&(a(r.floatingIndex,r.floatingEndpoint,r.floatingEndpoint.anchor,r.floatingId,r),m(r.floatingEndpoint)),m(r.endpoints[0]),m(r.endpoints[1]),n||(c.redraw(r.sourceId),r.targetId!==r.sourceId&&c.redraw(r.targetId))},this.add=function(e,n){t.addToList(r,n,e)},this.changeId=function(t,e){u[e]=u[t],r[e]=r[t],delete u[t],delete r[t]},this.getConnectionsFor=function(t){return u[t]||[]},this.getEndpointsFor=function(t){return r[t]||[]},this.deleteEndpoint=function(e){t.removeWithFunction(r[e.elementId],function(t){return t.id===e.id}),m(e)},this.clearFor=function(t){delete r[t],r[t]=[]};var y=function(e,r,o,i,s,a,u,c,l,h,d,f){var p,g,v=-1,m=i.endpoints[u],y=m.id,b=[1,0][u],_=[[r,o],i,s,a,y],P=e[l],E=m._continuousAnchorEdge?e[m._continuousAnchorEdge]:null;if(E){var x=t.findWithFunction(E,function(t){return t[4]===y});if(-1!==x)for(E.splice(x,1),p=0;p<E.length;p++)g=E[p][1],t.addWithFunction(d,g,function(t){return t.id===g.id}),t.addWithFunction(f,E[p][1].endpoints[u],function(t){return t.id===g.endpoints[u].id}),t.addWithFunction(f,E[p][1].endpoints[b],function(t){return t.id===g.endpoints[b].id})}for(p=0;p<P.length;p++)g=P[p][1],1===n.idx&&P[p][3]===a&&-1===v&&(v=p),t.addWithFunction(d,g,function(t){return t.id===g.id}),t.addWithFunction(f,P[p][1].endpoints[u],function(t){return t.id===g.endpoints[u].id}),t.addWithFunction(f,P[p][1].endpoints[b],function(t){return t.id===g.endpoints[b].id});var S=c?-1!==v?v:0:P.length;P.splice(S,0,_),m._continuousAnchorEdge=l};this.updateOtherEndpoint=function(n,r,o,i){var s=t.findWithFunction(u[n],function(t){return t[0].id===i.id}),a=t.findWithFunction(u[r],function(t){return t[0].id===i.id});-1!==s&&(u[n][s][0]=i,u[n][s][1]=i.endpoints[1],u[n][s][2]=i.endpoints[1].anchor.constructor===e.DynamicAnchor),a>-1&&(u[r].splice(a,1),t.addToList(u,o,[i,i.endpoints[0],i.endpoints[0].anchor.constructor===e.DynamicAnchor])),i.updateConnectedClass()},this.sourceChanged=function(n,r,o,i){if(n!==r){o.sourceId=r,o.source=i,t.removeWithFunction(u[n],function(t){return t[0].id===o.id});var s=t.findWithFunction(u[o.targetId],function(t){return t[0].id===o.id});s>-1&&(u[o.targetId][s][0]=o,u[o.targetId][s][1]=o.endpoints[0],u[o.targetId][s][2]=o.endpoints[0].anchor.constructor===e.DynamicAnchor),t.addToList(u,r,[o,o.endpoints[1],o.endpoints[1].anchor.constructor===e.DynamicAnchor]),o.endpoints[1].anchor.isContinuous&&(o.source===o.target?o._jsPlumb.instance.removeElement(o.endpoints[1].canvas):null==o.endpoints[1].canvas.parentNode&&o._jsPlumb.instance.appendElement(o.endpoints[1].canvas)),o.updateConnectedClass()}},this.rehomeEndpoint=function(t,e,n){var o=r[e]||[],i=h.getId(n);if(i!==e){var s=o.indexOf(t);if(s>-1){var a=o.splice(s,1)[0];c.add(a,i)}}for(var u=0;u<t.connections.length;u++)t.connections[u].sourceId===e?c.sourceChanged(e,t.elementId,t.connections[u],t.element):t.connections[u].targetId===e&&(t.connections[u].targetId=t.elementId,t.connections[u].target=t.element,c.updateOtherEndpoint(t.connections[u].sourceId,e,t.elementId,t.connections[u]))},this.redraw=function(n,o,i,s,a,c){if(!h.isSuspendDrawing()){var p=r[n]||[],g=u[n]||[],m=[],b=[],_=[];i=i||h.timestamp(),s=s||{left:0,top:0},o&&(o={left:o.left+s.left,top:o.top+s.top});for(var P=h.updateOffset({elId:n,offset:o,recalc:!1,timestamp:i}),E={},x=0;x<g.length;x++){var S=g[x][0],C=S.sourceId,w=S.targetId,j=S.endpoints[0].anchor.isContinuous,D=S.endpoints[1].anchor.isContinuous;if(j||D){var I=C+"_"+w,M=E[I],O=S.sourceId===n?1:0;j&&!l[C]&&(l[C]={top:[],right:[],bottom:[],left:[]}),D&&!l[w]&&(l[w]={top:[],right:[],bottom:[],left:[]}),n!==w&&h.updateOffset({elId:w,timestamp:i}),n!==C&&h.updateOffset({elId:C,timestamp:i});var A=h.getCachedData(w),N=h.getCachedData(C);w===C&&(j||D)?(y(l[C],-Math.PI/2,0,S,!1,w,0,!1,"top",0,m,b),y(l[w],-Math.PI/2,0,S,!1,C,1,!1,"top",0,m,b)):(M||(M=f(C,w,N.o,A.o,S.endpoints[0].anchor,S.endpoints[1].anchor),E[I]=M),j&&y(l[C],M.theta,0,S,!1,w,0,!1,M.a[0],0,m,b),D&&y(l[w],M.theta2,-1,S,!0,C,1,!0,M.a[1],0,m,b)),j&&t.addWithFunction(_,C,function(t){return t===C}),D&&t.addWithFunction(_,w,function(t){return t===w}),t.addWithFunction(m,S,function(t){return t.id===S.id}),(j&&0===O||D&&1===O)&&t.addWithFunction(b,S.endpoints[O],function(t){return t.id===S.endpoints[O].id})}}for(x=0;x<p.length;x++)0===p[x].connections.length&&p[x].anchor.isContinuous&&(l[n]||(l[n]={top:[],right:[],bottom:[],left:[]}),y(l[n],-Math.PI/2,0,{endpoints:[p[x],p[x]],paint:function(){}},!1,n,0,!1,p[x].anchor.getDefaultFace(),0,m,b),t.addWithFunction(_,n,function(t){return t===n}));for(x=0;x<_.length;x++)v(_[x],l[_[x]]);for(x=0;x<p.length;x++)p[x].paint({timestamp:i,offset:P,dimensions:P.s,recalc:!0!==c});for(x=0;x<b.length;x++){var k=h.getCachedData(b[x].elementId);b[x].paint({timestamp:i,offset:k,dimensions:k.s})}for(x=0;x<g.length;x++){var T=g[x][1];if(T.anchor.constructor===e.DynamicAnchor){T.paint({elementWithPrecedence:n,timestamp:i}),t.addWithFunction(m,g[x][0],function(t){return t.id===g[x][0].id});for(var L=0;L<T.connections.length;L++)T.connections[L]!==g[x][0]&&t.addWithFunction(m,T.connections[L],function(t){return t.id===T.connections[L].id})}else T.anchor.constructor===e.Anchor&&t.addWithFunction(m,g[x][0],function(t){return t.id===g[x][0].id})}var F=d[n];for(F&&F.paint({timestamp:i,recalc:!1,elId:n}),x=0;x<m.length;x++)m[x].paint({elId:n,timestamp:i,recalc:!1,clearEdits:a})}};var b=function(e){t.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var n=e.faces||["top","right","bottom","left"],r=!(!1===e.clockwise),a={},u={top:"bottom",right:"left",left:"right",bottom:"top"},c={top:"right",right:"bottom",left:"top",bottom:"left"},l={top:"left",right:"top",left:"bottom",bottom:"right"},h=r?c:l,d=r?l:c,f=e.cssClass||"",p=0;p<n.length;p++)a[n[p]]=!0;this.getDefaultFace=function(){return 0===n.length?"top":n[0]},this.verifyEdge=function(t){return a[t]?t:a[u[t]]?u[t]:a[h[t]]?h[t]:a[d[t]]?d[t]:t},this.isEdgeSupported=function(t){return!0===a[t]},this.compute=function(t){return i[t.element.id]||o[t.element.id]||[0,0]},this.getCurrentLocation=function(t){return i[t.element.id]||o[t.element.id]||[0,0]},this.getOrientation=function(t){return s[t.id]||[0,0]},this.clearUserDefinedLocation=function(){delete i[e.elementId]},this.setUserDefinedLocation=function(t){i[e.elementId]=t},this.getCssClass=function(){return f}};h.continuousAnchorFactory={get:function(t){return new b(t)},clear:function(t){delete i[t],delete o[t]}}},e.Anchor=function(e){this.x=e.x||0,this.y=e.y||0,this.elementId=e.elementId,this.cssClass=e.cssClass||"",this.userDefinedLocation=null,this.orientation=e.orientation||[0,0],this.lastReturnValue=null,this.offsets=e.offsets||[0,0],this.timestamp=null,t.EventGenerator.apply(this),this.compute=function(t){var e=t.xy,n=t.wh,r=t.timestamp;return t.clearUserDefinedLocation&&(this.userDefinedLocation=null),r&&r===this.timestamp?this.lastReturnValue:(null!=this.userDefinedLocation?this.lastReturnValue=this.userDefinedLocation:this.lastReturnValue=[e[0]+this.x*n[0]+this.offsets[0],e[1]+this.y*n[1]+this.offsets[1]],this.timestamp=r,this.lastReturnValue)},this.getCurrentLocation=function(t){return t=t||{},null==this.lastReturnValue||null!=t.timestamp&&this.timestamp!==t.timestamp?this.compute(t):this.lastReturnValue}},t.extend(e.Anchor,t.EventGenerator,{equals:function(t){if(!t)return!1;var e=t.getOrientation(),n=this.getOrientation();return this.x===t.x&&this.y===t.y&&this.offsets[0]===t.offsets[0]&&this.offsets[1]===t.offsets[1]&&n[0]===e[0]&&n[1]===e[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(t){this.userDefinedLocation=t},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),e.FloatingAnchor=function(t){e.Anchor.apply(this,arguments);var n=t.reference,r=t.referenceCanvas,o=e.getSize(r),i=null,s=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(t){var e=t.xy,n=[e[0]+o[0]/2,e[1]+o[1]/2];return s=n,n},this.getOrientation=function(t){if(i)return i;var e=n.getOrientation(t);return[0*Math.abs(e[0])*-1,0*Math.abs(e[1])*-1]},this.over=function(t,e){i=t.getOrientation(e)},this.out=function(){i=null},this.getCurrentLocation=function(t){return null==s?this.compute(t):s}},t.extend(e.FloatingAnchor,e.Anchor),e.DynamicAnchor=function(t){e.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=t.elementId,this.jsPlumbInstance=t.jsPlumbInstance;for(var n=0;n<t.anchors.length;n++)this.anchors[n]=(r=t.anchors[n],o=this.jsPlumbInstance,i=this.elementId,r.constructor===e.Anchor?r:o.makeAnchor(r,i,o));var r,o,i;this.getAnchors=function(){return this.anchors},this.locked=!1;var s=this.anchors.length>0?this.anchors[0]:null,a=s,u=this,c=function(t,e,n,r,o){var i=r[0]+t.x*o[0],s=r[1]+t.y*o[1],a=r[0]+o[0]/2,u=r[1]+o[1]/2;return Math.sqrt(Math.pow(e-i,2)+Math.pow(n-s,2))+Math.sqrt(Math.pow(a-i,2)+Math.pow(u-s,2))},l=t.selector||function(t,e,n,r,o){for(var i=n[0]+r[0]/2,s=n[1]+r[1]/2,a=-1,u=1/0,l=0;l<o.length;l++){var h=c(o[l],i,s,t,e);h<u&&(a=l+0,u=h)}return o[a]};this.compute=function(t){var e=t.xy,n=t.wh,r=t.txy,o=t.twh;this.timestamp=t.timestamp;var i=u.getUserDefinedLocation();return null!=i?i:this.locked||null==r||null==o?s.compute(t):(t.timestamp=null,s=l(e,n,r,o,this.anchors),this.x=s.x,this.y=s.y,s!==a&&this.fire("anchorChanged",s),a=s,s.compute(t))},this.getCurrentLocation=function(t){return this.getUserDefinedLocation()||(null!=s?s.getCurrentLocation(t):null)},this.getOrientation=function(t){return null!=s?s.getOrientation(t):[0,0]},this.over=function(t,e){null!=s&&s.over(t,e)},this.out=function(){null!=s&&s.out()},this.getCssClass=function(){return s&&s.getCssClass()||""}},t.extend(e.DynamicAnchor,e.Anchor);var n=function(t,n,r,o,i,s){e.Anchors[i]=function(e){var a=e.jsPlumbInstance.makeAnchor([t,n,r,o,0,0],e.elementId,e.jsPlumbInstance);return a.type=i,s&&s(a,e),a}};n(.5,0,0,-1,"TopCenter"),n(.5,1,0,1,"BottomCenter"),n(0,.5,-1,0,"LeftMiddle"),n(1,.5,1,0,"RightMiddle"),n(.5,0,0,-1,"Top"),n(.5,1,0,1,"Bottom"),n(0,.5,-1,0,"Left"),n(1,.5,1,0,"Right"),n(.5,.5,0,0,"Center"),n(1,0,0,-1,"TopRight"),n(1,1,0,1,"BottomRight"),n(0,0,0,-1,"TopLeft"),n(0,1,0,1,"BottomLeft"),e.Defaults.DynamicAnchors=function(t){return t.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],t.elementId,t.jsPlumbInstance)},e.Anchors.AutoDefault=function(t){var n=t.jsPlumbInstance.makeDynamicAnchor(e.Defaults.DynamicAnchors(t));return n.type="AutoDefault",n};var r=function(t,n){e.Anchors[t]=function(e){var r=e.jsPlumbInstance.makeAnchor(["Continuous",{faces:n}],e.elementId,e.jsPlumbInstance);return r.type=t,r}};e.Anchors.Continuous=function(t){return t.jsPlumbInstance.continuousAnchorFactory.get(t)},r("ContinuousLeft",["left"]),r("ContinuousTop",["top"]),r("ContinuousBottom",["bottom"]),r("ContinuousRight",["right"]),n(0,0,0,0,"Assign",function(t,e){var n=e.position||"Fixed";t.positionFinder=n.constructor===String?e.jsPlumbInstance.AnchorPositionFinders[n]:n,t.constructorParams=e}),this.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(t,e,n){return[(t.left-e.left)/n[0],(t.top-e.top)/n[1]]},Grid:function(t,e,n,r){var o=t.left-e.left,i=t.top-e.top,s=n[0]/r.grid[0],a=n[1]/r.grid[1],u=Math.floor(o/s),c=Math.floor(i/a);return[(u*s+s/2)/n[0],(c*a+a/2)/n[1]]}},e.Anchors.Perimeter=function(t){var e=(t=t||{}).anchorCount||60,n=t.shape;if(!n)throw new Error("no shape supplied to Perimeter Anchor type");var r=function(){for(var t=2*Math.PI/e,n=0,r=[],o=0;o<e;o++){var i=.5+.5*Math.sin(n),s=.5+.5*Math.cos(n);r.push([i,s,0,0]),n+=t}return r},o=function(t){for(var n=e/t.length,r=[],o=function(t,o,i,s,a){for(var u=(i-t)/(n=e*a),c=(s-o)/n,l=0;l<n;l++)r.push([t+u*l,o+c*l,0,0])},i=0;i<t.length;i++)o.apply(null,t[i]);return r},i=function(t){for(var e=[],n=0;n<t.length;n++)e.push([t[n][0],t[n][1],t[n][2],t[n][3],1/t.length]);return o(e)},s=function(){return i([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},a={Circle:r,Ellipse:r,Diamond:function(){return i([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:s,Square:s,Triangle:function(){return i([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(t){for(var e=t.points,n=[],r=0,i=0;i<e.length-1;i++){var s=Math.sqrt(Math.pow(e[i][2]-e[i][0])+Math.pow(e[i][3]-e[i][1]));r+=s,n.push([e[i][0],e[i][1],e[i+1][0],e[i+1][1],s])}for(var a=0;a<n.length;a++)n[a][4]=n[a][4]/r;return o(n)}};if(!a[n])throw new Error("Shape ["+n+"] is unknown by Perimeter Anchor type");var u=a[n](t);t.rotation&&(u=function(t,e){for(var n=[],r=e/180*Math.PI,o=0;o<t.length;o++){var i=t[o][0]-.5,s=t[o][1]-.5;n.push([i*Math.cos(r)-s*Math.sin(r)+.5,i*Math.sin(r)+s*Math.cos(r)+.5,t[o][2],t[o][3]])}return n}(u,t.rotation));var c=t.jsPlumbInstance.makeDynamicAnchor(u);return c.type="Perimeter",c}}.call("undefined"!=typeof window?window:m),function(){var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,r=t.Biltong;e.Segments={AbstractSegment:function(t){this.params=t,this.findClosestPointOnPath=function(t,e){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(t.x1,t.x2),minY:Math.min(t.y1,t.y2),maxX:Math.max(t.x1,t.x2),maxY:Math.max(t.y1,t.y2)}}},Straight:function(t){var n,o,i,s,a,u,c;e.Segments.AbstractSegment.apply(this,arguments),this.type="Straight",this.getLength=function(){return n},this.getGradient=function(){return o},this.getCoordinates=function(){return{x1:s,y1:u,x2:a,y2:c}},this.setCoordinates=function(t){s=t.x1,u=t.y1,a=t.x2,c=t.y2,n=Math.sqrt(Math.pow(a-s,2)+Math.pow(c-u,2)),o=r.gradient({x:s,y:u},{x:a,y:c}),i=-1/o},this.setCoordinates({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),this.getBounds=function(){return{minX:Math.min(s,a),minY:Math.min(u,c),maxX:Math.max(s,a),maxY:Math.max(u,c)}},this.pointOnPath=function(t,e){if(0!==t||e){if(1!==t||e){var o=e?t>0?t:n+t:t*n;return r.pointOnLine({x:s,y:u},{x:a,y:c},o)}return{x:a,y:c}}return{x:s,y:u}},this.gradientAtPoint=function(t){return o},this.pointAlongPathFrom=function(t,e,n){var o=this.pointOnPath(t,n),i=e<=0?{x:s,y:u}:{x:a,y:c};return e<=0&&Math.abs(e)>1&&(e*=-1),r.pointOnLine(o,i,e)};var l=function(t,e,n){return n>=Math.min(t,e)&&n<=Math.max(t,e)},h=function(t,e,n){return Math.abs(n-t)<Math.abs(n-e)?t:e};this.findClosestPointOnPath=function(t,e){var d={d:1/0,x:null,y:null,l:null,x1:s,x2:a,y1:u,y2:c};if(0===o)d.y=u,d.x=l(s,a,t)?t:h(s,a,t);else if(o===1/0||o===-1/0)d.x=s,d.y=l(u,c,e)?e:h(u,c,e);else{var f=u-o*s,p=(e-i*t-f)/(o-i),g=o*p+f;d.x=l(s,a,p)?p:h(s,a,p),d.y=l(u,c,g)?g:h(u,c,g)}var v=r.lineLength([d.x,d.y],[s,u]);return d.d=r.lineLength([t,e],[d.x,d.y]),d.l=v/n,d}},Arc:function(t){e.Segments.AbstractSegment.apply(this,arguments);var n=function(e,n){return r.theta([t.cx,t.cy],[e,n])},o=2*Math.PI;this.radius=t.r,this.anticlockwise=t.ac,this.type="Arc",t.startAngle&&t.endAngle?(this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.x1=t.cx+this.radius*Math.cos(t.startAngle),this.y1=t.cy+this.radius*Math.sin(t.startAngle),this.x2=t.cx+this.radius*Math.cos(t.endAngle),this.y2=t.cy+this.radius*Math.sin(t.endAngle)):(this.startAngle=n(t.x1,t.y1),this.endAngle=n(t.x2,t.y2),this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2),this.endAngle<0&&(this.endAngle+=o),this.startAngle<0&&(this.startAngle+=o);var i=this.endAngle<this.startAngle?this.endAngle+o:this.endAngle;this.sweep=Math.abs(i-this.startAngle),this.anticlockwise&&(this.sweep=o-this.sweep);var s=2*Math.PI*this.radius,a=this.sweep/o,u=s*a;this.getLength=function(){return u},this.getBounds=function(){return{minX:t.cx-t.r,maxX:t.cx+t.r,minY:t.cy-t.r,maxY:t.cy+t.r}};var c=function(t){var e=Math.floor(t),n=Math.ceil(t);return t-e<1e-10?e:n-t<1e-10?n:t};this.pointOnPath=function(e,n){if(0===e)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1===e)return{x:this.x2,y:this.y2,theta:this.endAngle};n&&(e/=u);var r=function(t,e){if(t.anticlockwise){var n=t.startAngle<t.endAngle?t.startAngle+o:t.startAngle;return n-Math.abs(n-t.endAngle)*e}var r=t.endAngle<t.startAngle?t.endAngle+o:t.endAngle,i=Math.abs(r-t.startAngle);return t.startAngle+i*e}(this,e),i=t.cx+t.r*Math.cos(r),s=t.cy+t.r*Math.sin(r);return{x:c(i),y:c(s),theta:r}},this.gradientAtPoint=function(e,n){var o=this.pointOnPath(e,n),i=r.normal([t.cx,t.cy],[o.x,o.y]);return this.anticlockwise||i!==1/0&&i!==-1/0||(i*=-1),i},this.pointAlongPathFrom=function(e,n,r){var o=this.pointOnPath(e,r),i=n/s*2*Math.PI,a=this.anticlockwise?-1:1,u=o.theta+a*i;return{x:t.cx+this.radius*Math.cos(u),y:t.cy+this.radius*Math.sin(u)}}},Bezier:function(n){this.curve=[{x:n.x1,y:n.y1},{x:n.cp1x,y:n.cp1y},{x:n.cp2x,y:n.cp2y},{x:n.x2,y:n.y2}],e.Segments.AbstractSegment.apply(this,arguments),this.bounds={minX:Math.min(n.x1,n.x2,n.cp1x,n.cp2x),minY:Math.min(n.y1,n.y2,n.cp1y,n.cp2y),maxX:Math.max(n.x1,n.x2,n.cp1x,n.cp2x),maxY:Math.max(n.y1,n.y2,n.cp1y,n.cp2y)},this.type="Bezier";var r=function(e,n,r){return r&&(n=t.jsBezier.locationAlongCurveFrom(e,n>0?0:1,n)),n};this.pointOnPath=function(e,n){return e=r(this.curve,e,n),t.jsBezier.pointOnCurve(this.curve,e)},this.gradientAtPoint=function(e,n){return e=r(this.curve,e,n),t.jsBezier.gradientAtPoint(this.curve,e)},this.pointAlongPathFrom=function(e,n,o){return e=r(this.curve,e,o),t.jsBezier.pointAlongCurveFrom(this.curve,e,n)},this.getLength=function(){return t.jsBezier.getLength(this.curve)},this.getBounds=function(){return this.bounds}}},e.SegmentRenderer={getPath:function(t){return{Straight:function(){var e=t.getCoordinates();return"M "+e.x1+" "+e.y1+" L "+e.x2+" "+e.y2},Bezier:function(){var e=t.params;return"M "+e.x1+" "+e.y1+" C "+e.cp1x+" "+e.cp1y+" "+e.cp2x+" "+e.cp2y+" "+e.x2+" "+e.y2},Arc:function(){var e=t.params,n=t.sweep>Math.PI?1:0,r=t.anticlockwise?0:1;return"M"+t.x1+" "+t.y1+" A "+t.radius+" "+e.r+" 0 "+n+","+r+" "+t.x2+" "+t.y2}}[t.type]()}};var o=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};e.Connectors.AbstractConnector=function(t){o.apply(this,arguments);var i=[],s=0,a=[],u=[],c=t.stub||0,l=n.isArray(c)?c[0]:c,h=n.isArray(c)?c[1]:c,d=t.gap||0,f=n.isArray(d)?d[0]:d,p=n.isArray(d)?d[1]:d,g=null,v=!1,m=null,y=null,b=!1!==t.editable&&null!=e.ConnectorEditors&&null!=e.ConnectorEditors[this.type],_=this.setGeometry=function(t,e){v=!e,y=t},P=this.getGeometry=function(){return y};this.getPathData=function(){for(var t="",n=0;n<i.length;n++)t+=e.SegmentRenderer.getPath(i[n]),t+=" ";return t},this.hasBeenEdited=function(){return v},this.isEditing=function(){return null!=this.editor&&this.editor.isActive()},this.setEditable=function(t){return b=!(!t||null==e.ConnectorEditors||null==e.ConnectorEditors[this.type]||null!=this.overrideSetEditable&&!this.overrideSetEditable())&&t},this.isEditable=function(){return b},this.findSegmentForPoint=function(t,e){for(var n={d:1/0,s:null,x:null,y:null,l:null},r=0;r<i.length;r++){var o=i[r].findClosestPointOnPath(t,e);o.d<n.d&&(n.d=o.d,n.l=o.l,n.x=o.x,n.y=o.y,n.s=i[r],n.x1=o.x1,n.x2=o.x2,n.y1=o.y1,n.y2=o.y2,n.index=r)}return n};var E=function(t,e){e&&(t=t>0?t/s:(s+t)/s);for(var n=a.length-1,r=1,o=0;o<a.length;o++)if(a[o][1]>=t){n=o,r=1===t?1:0===t?0:(t-a[o][0])/u[o];break}return{segment:i[n],proportion:r,index:n}};this.setSegments=function(t){g=[],s=0;for(var e=0;e<t.length;e++)g.push(t[e]),s+=t[e].getLength()},this.getLength=function(){return s};var x=function(t){this.strokeWidth=t.strokeWidth;var e=r.quadrant(t.sourcePos,t.targetPos),n=t.targetPos[0]<t.sourcePos[0],o=t.targetPos[1]<t.sourcePos[1],i=t.strokeWidth||1,s=t.sourceEndpoint.anchor.getOrientation(t.sourceEndpoint),a=t.targetEndpoint.anchor.getOrientation(t.targetEndpoint),u=n?t.targetPos[0]:t.sourcePos[0],c=o?t.targetPos[1]:t.sourcePos[1],d=Math.abs(t.targetPos[0]-t.sourcePos[0]),g=Math.abs(t.targetPos[1]-t.sourcePos[1]);if(0===s[0]&&0===s[1]||0===a[0]&&0===a[1]){var v=d>g?0:1,m=[1,0][v];a=[],(s=[])[v]=t.sourcePos[v]>t.targetPos[v]?-1:1,a[v]=t.sourcePos[v]>t.targetPos[v]?1:-1,s[m]=0,a[m]=0}var y=n?d+f*s[0]:f*s[0],b=o?g+f*s[1]:f*s[1],_=n?p*a[0]:d+p*a[0],P=o?p*a[1]:g+p*a[1],E=s[0]*a[0]+s[1]*a[1],x={sx:y,sy:b,tx:_,ty:P,lw:i,xSpan:Math.abs(_-y),ySpan:Math.abs(P-b),mx:(y+_)/2,my:(b+P)/2,so:s,to:a,x:u,y:c,w:d,h:g,segment:e,startStubX:y+s[0]*l,startStubY:b+s[1]*l,endStubX:_+a[0]*h,endStubY:P+a[1]*h,isXGreaterThanStubTimes2:Math.abs(y-_)>l+h,isYGreaterThanStubTimes2:Math.abs(b-P)>l+h,opposite:-1===E,perpendicular:0===E,orthogonal:1===E,sourceAxis:0===s[0]?"y":"x",points:[u,c,d,g,y,b,_,P]};return x.anchorOrientation=x.opposite?"opposite":x.orthogonal?"orthogonal":"perpendicular",x};return this.getSegments=function(){return i},this.updateBounds=function(t){var e=t.getBounds();this.bounds.minX=Math.min(this.bounds.minX,e.minX),this.bounds.maxX=Math.max(this.bounds.maxX,e.maxX),this.bounds.minY=Math.min(this.bounds.minY,e.minY),this.bounds.maxY=Math.max(this.bounds.maxY,e.maxY)},this.pointOnPath=function(t,e){var n=E(t,e);return n.segment&&n.segment.pointOnPath(n.proportion,!1)||[0,0]},this.gradientAtPoint=function(t,e){var n=E(t,e);return n.segment&&n.segment.gradientAtPoint(n.proportion,!1)||0},this.pointAlongPathFrom=function(t,e,n){var r=E(t,n);return r.segment&&r.segment.pointAlongPathFrom(r.proportion,e,!1)||[0,0]},this.compute=function(t){m=x.call(this,t),s=i.length=a.length=u.length=0,this._compute(m,t),this.x=m.points[0],this.y=m.points[1],this.w=m.points[2],this.h=m.points[3],this.segment=m.segment,function(){for(var t=0,e=0;e<i.length;e++){var n=i[e].getLength();u[e]=n/s,a[e]=[t,t+=n/s]}}()},{addSegment:function(t,n,r){if(r.x1!==r.x2||r.y1!==r.y2){var o=new e.Segments[n](r);i.push(o),s+=o.getLength(),t.updateBounds(o)}},prepareCompute:x,sourceStub:l,targetStub:h,maxStub:Math.max(l,h),sourceGap:f,targetGap:p,maxGap:Math.max(f,p),setGeometry:_,getGeometry:P}},n.extend(e.Connectors.AbstractConnector,o),e.Endpoints.AbstractEndpoint=function(t){return o.apply(this,arguments),{compute:this.compute=function(t,e,n,r){var o=this._compute.apply(this,arguments);return this.x=o[0],this.y=o[1],this.w=o[2],this.h=o[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,o},cssClass:t.cssClass}},n.extend(e.Endpoints.AbstractEndpoint,o),e.Endpoints.Dot=function(t){this.type="Dot",e.Endpoints.AbstractEndpoint.apply(this,arguments),t=t||{},this.radius=t.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(t,e,n,r){this.radius=n.radius||this.radius;var o=t[0]-this.radius,i=t[1]-this.radius,s=2*this.radius,a=2*this.radius;if(n.stroke){var u=n.strokeWidth||1;o-=u,i-=u,s+=2*u,a+=2*u}return[o,i,s,a,this.radius]}},n.extend(e.Endpoints.Dot,e.Endpoints.AbstractEndpoint),e.Endpoints.Rectangle=function(t){this.type="Rectangle",e.Endpoints.AbstractEndpoint.apply(this,arguments),t=t||{},this.width=t.width||20,this.height=t.height||20,this._compute=function(t,e,n,r){var o=n.width||this.width,i=n.height||this.height;return[t[0]-o/2,t[1]-i/2,o,i]}},n.extend(e.Endpoints.Rectangle,e.Endpoints.AbstractEndpoint);var i=function(t){e.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};n.extend(i,e.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(t){this._jsPlumb.displayElements.push(t)}}),e.Endpoints.Image=function(r){this.type="Image",i.apply(this,arguments),e.Endpoints.AbstractEndpoint.apply(this,arguments);var o=r.onload,s=r.src||r.url,a=r.cssClass?" "+r.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=r.width,this._jsPlumb.heightToUse=r.height,this._jsPlumb.endpoint=r.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,o&&o(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(t,e){var n=t.constructor===String?t:t.src;o=e,this._jsPlumb.img.src=n,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(s,o),this._compute=function(t,e,n,r){return this.anchorPoint=t,this._jsPlumb.ready?[t[0]-this._jsPlumb.widthToUse/2,t[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=e.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+a),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(t,e,r){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var o=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,i=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;n.sizeElement(this.canvas,o,i,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(e,n){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(e,n):t.setTimeout(function(){this.paint(e,n)}.bind(this),200))}},n.extend(e.Endpoints.Image,[i,e.Endpoints.AbstractEndpoint],{cleanup:function(t){t&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),e.Endpoints.Blank=function(t){e.Endpoints.AbstractEndpoint.apply(this,arguments),this.type="Blank",i.apply(this,arguments),this._compute=function(t,e,n,r){return[t[0],t[1],10,0]};var r=t.cssClass?" "+t.cssClass:"";this.canvas=e.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+r),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(t,e){n.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},n.extend(e.Endpoints.Blank,[e.Endpoints.AbstractEndpoint,i],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),e.Endpoints.Triangle=function(t){this.type="Triangle",e.Endpoints.AbstractEndpoint.apply(this,arguments);var n=this;(t=t||{}).width=t.width||55,t.height=t.height||55,this.width=t.width,this.height=t.height,this._compute=function(t,e,r,o){var i=r.width||n.width,s=r.height||n.height;return[t[0]-i/2,t[1]-s/2,i,s]}};var s=e.Overlays.AbstractOverlay=function(t){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=t.component,this.loc=null==t.location?.5:t.location,this.endpointLoc=null==t.endpointLocation?[.5,.5]:t.endpointLocation,this.visible=!1!==t.visible};s.prototype={cleanup:function(t){t&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(t,e){},setVisible:function(t){this.visible=t,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(t){this.loc+=t,this.component.repaint()},setLocation:function(t){this.loc=t,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},e.Overlays.Arrow=function(t){this.type="Arrow",s.apply(this,arguments),this.isAppendedAtTopLevel=!1,t=t||{};var o=this;this.length=t.length||20,this.width=t.width||20,this.id=t.id;var i=(t.direction||1)<0?-1:1,a=t.paintStyle||{"stroke-width":1},u=t.foldback||.623;this.computeMaxSize=function(){return 1.5*o.width},this.elementCreated=function(n,r){if(this.path=n,t.events)for(var o in t.events)e.on(n,o,t.events[o])},this.draw=function(t,e){var o,s,c,l;if(t.pointAlongPathFrom){if(n.isString(this.loc)||this.loc>1||this.loc<0){var h=parseInt(this.loc,10),d=this.loc<0?1:0;o=t.pointAlongPathFrom(d,h,!1),s=t.pointAlongPathFrom(d,h-i*this.length/2,!1),c=r.pointOnLine(o,s,this.length)}else if(1===this.loc){if(o=t.pointOnPath(this.loc),s=t.pointAlongPathFrom(this.loc,-this.length),c=r.pointOnLine(o,s,this.length),-1===i){var f=c;c=o,o=f}}else if(0===this.loc){if(c=t.pointOnPath(this.loc),s=t.pointAlongPathFrom(this.loc,this.length),o=r.pointOnLine(c,s,this.length),-1===i){var p=c;c=o,o=p}}else o=t.pointAlongPathFrom(this.loc,i*this.length/2),s=t.pointOnPath(this.loc),c=r.pointOnLine(o,s,this.length);var g={hxy:o,tail:l=r.perpendicularLineTo(o,c,this.width),cxy:r.pointOnLine(o,c,u*this.length)},v=a.stroke||e.stroke,m=a.fill||e.stroke;return{component:t,d:g,"stroke-width":a.strokeWidth||e.strokeWidth,stroke:v,fill:m,minX:Math.min(o.x,l[0].x,l[1].x),maxX:Math.max(o.x,l[0].x,l[1].x),minY:Math.min(o.y,l[0].y,l[1].y),maxY:Math.max(o.y,l[0].y,l[1].y)}}return{component:t,minX:0,maxX:0,minY:0,maxY:0}}},n.extend(e.Overlays.Arrow,s,{updateFrom:function(t){this.length=t.length||this.length,this.width=t.width||this.width,this.direction=null!=t.direction?t.direction:this.direction,this.foldback=t.foldback||this.foldback}}),e.Overlays.PlainArrow=function(t){t=t||{};var n=e.extend(t,{foldback:1});e.Overlays.Arrow.call(this,n),this.type="PlainArrow"},n.extend(e.Overlays.PlainArrow,e.Overlays.Arrow),e.Overlays.Diamond=function(t){var n=(t=t||{}).length||40,r=e.extend(t,{length:n/2,foldback:2});e.Overlays.Arrow.call(this,r),this.type="Diamond"},n.extend(e.Overlays.Diamond,e.Overlays.Arrow);var a=function(t,e){return(null==t._jsPlumb.cachedDimensions||e)&&(t._jsPlumb.cachedDimensions=t.getDimensions()),t._jsPlumb.cachedDimensions},u=function(t){e.jsPlumbUIComponent.apply(this,arguments),s.apply(this,arguments);var r=this.fire;this.fire=function(){r.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=t.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=t.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=t.create,this._jsPlumb.initiallyInvisible=!1===t.visible,this.getElement=function(){if(null==this._jsPlumb.div){var n=this._jsPlumb.div=e.getElement(this._jsPlumb.create(this._jsPlumb.component));n.style.position="absolute",n.className=this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:t.cssClass?t.cssClass:""),this._jsPlumb.instance.appendElement(n),this._jsPlumb.instance.getId(n),this.canvas=n;var r="translate(-50%, -50%)";n.style.webkitTransform=r,n.style.mozTransform=r,n.style.msTransform=r,n.style.oTransform=r,n.style.transform=r,n._jsPlumb=this,!1===t.visible&&(n.style.display="none")}return this._jsPlumb.div},this.draw=function(t,e,r){var o=a(this);if(null!=o&&2===o.length){var i={x:0,y:0};if(r)i={x:r[0],y:r[1]};else if(t.pointOnPath){var s=this.loc,u=!1;(n.isString(this.loc)||this.loc<0||this.loc>1)&&(s=parseInt(this.loc,10),u=!0),i=t.pointOnPath(s,u)}else{var c=this.loc.constructor===Array?this.loc:this.endpointLoc;i={x:c[0]*t.w,y:c[1]*t.h}}var l=i.x-o[0]/2,h=i.y-o[1]/2;return{component:t,d:{minx:l,miny:h,td:o,cxy:i},minX:l,maxX:l+o[0],minY:h,maxY:h+o[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};n.extend(u,[e.jsPlumbUIComponent,s],{getDimensions:function(){return[1,1]},setVisible:function(t){this._jsPlumb.div&&(this._jsPlumb.div.style.display=t?"block":"none",t&&this._jsPlumb.initiallyInvisible&&(a(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(t){t?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(t,e){null!=this._jsPlumb.div&&t.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var t=a(this);return Math.max(t[0],t[1])},paint:function(t,e){this._jsPlumb.initialised||(this.getElement(),t.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=t.component.x+t.d.minx+"px",this._jsPlumb.div.style.top=t.component.y+t.d.miny+"px"}}),e.Overlays.Custom=function(t){this.type="Custom",u.apply(this,arguments)},n.extend(e.Overlays.Custom,u),e.Overlays.GuideLines=function(){var t=this;t.length=50,t.strokeWidth=5,this.type="GuideLines",s.apply(this,arguments),e.jsPlumbUIComponent.apply(this,arguments),this.draw=function(e,n){var o=e.pointAlongPathFrom(t.loc,t.length/2),i=e.pointOnPath(t.loc),s=r.pointOnLine(o,i,t.length),a=r.perpendicularLineTo(o,s,40),u=r.perpendicularLineTo(s,o,20);return{connector:e,head:o,tail:s,headLine:u,tailLine:a,minX:Math.min(o.x,s.x,u[0].x,u[1].x),minY:Math.min(o.y,s.y,u[0].y,u[1].y),maxX:Math.max(o.x,s.x,u[0].x,u[1].x),maxY:Math.max(o.y,s.y,u[0].y,u[1].y)}}},e.Overlays.Label=function(t){this.labelStyle=t.labelStyle,this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var n=e.extend({create:function(){return e.createElement("div")}},t);if(e.Overlays.Custom.call(this,n),this.type="Label",this.label=t.label||"",this.labelText=null,this.labelStyle){var r=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",r.style.font=this.labelStyle.font,r.style.color=this.labelStyle.color||"black",this.labelStyle.fill&&(r.style.background=this.labelStyle.fill),this.labelStyle.borderWidth>0){var o=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";r.style.border=this.labelStyle.borderWidth+"px solid "+o}this.labelStyle.padding&&(r.style.padding=this.labelStyle.padding)}},n.extend(e.Overlays.Label,e.Overlays.Custom,{cleanup:function(t){t&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(t){this.label=t,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),u.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var t=this.label(this);this.getElement().innerHTML=t.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(t){null!=t.label&&this.setLabel(t.label)}})}.call("undefined"!=typeof window?window:m),function(){var t=this;t.jsPlumb.extend(t.jsPlumbInstance.prototype,{getEventManager:function(){return(n=(e=this)._mottle)||(n=e._mottle=new t.Mottle),n;var e,n},on:function(t,e,n){return this.getEventManager().on.apply(this,arguments),this},off:function(t,e,n){return this.getEventManager().off.apply(this,arguments),this}})}.call("undefined"!=typeof window?window:m),function(){var t=this,e=t.jsPlumbUtil,n=t.jsPlumbInstance,r="stop",o="revert",i="_jsPlumbGroup",s="show",a="hide",u=function(t){function n(e,n){for(var r=e.getMembers(),o=0;o<r.length;o++)t[n?s:a](r[o],!0)}function r(e){var n=e.getMembers(),r=t.getConnections({source:n},!0),o=t.getConnections({target:n},!0),i={};e.connections.source.length=0,e.connections.target.length=0;var s=function(t){for(var n=0;n<t.length;n++)i[t[n].id]||(i[t[n].id]=!0,t[n].source._jsPlumbGroup===e?(t[n].target._jsPlumbGroup!==e&&e.connections.source.push(t[n]),u[t[n].id]=e):t[n].target._jsPlumbGroup===e&&(e.connections.target.push(t[n]),c[t[n].id]=e))};s(r),s(o)}var o={},u={},c={},l=this;t.bind("connection",function(t){null!=t.source[i]&&null!=t.target[i]&&t.source[i]===t.target[i]?(u[t.connection.id]=t.source[i],c[t.connection.id]=t.source[i]):(null!=t.source[i]&&(e.suggest(t.source[i].connections.source,t.connection),u[t.connection.id]=t.source[i]),null!=t.target[i]&&(e.suggest(t.target[i].connections.target,t.connection),c[t.connection.id]=t.target[i]))}),t.bind("internal.connectionDetached",function(t){!function(t){delete t.proxies;var n,r=u[t.id];null!=r&&(n=function(e){return e.id===t.id},e.removeWithFunction(r.connections.source,n),e.removeWithFunction(r.connections.target,n),delete u[t.id]),null!=(r=c[t.id])&&(n=function(e){return e.id===t.id},e.removeWithFunction(r.connections.source,n),e.removeWithFunction(r.connections.target,n),delete c[t.id])}(t.connection)}),t.bind("connectionMoved",function(t){var e=(0===t.index?u:c)[t.connection.id];if(e){var n=e.connections[0===t.index?"source":"target"],r=n.indexOf(t.connection);-1!==r&&n.splice(r,1)}}),this.addGroup=function(e){t.addClass(e.getEl(),"jtk-group-expanded"),o[e.id]=e,e.manager=this,r(e),t.fire("group:add",{group:e})},this.addToGroup=function(e,n,r){if(e=this.getGroup(e)){var o=e.getEl();if(n._isJsPlumbGroup)return;var i=n._jsPlumbGroup;if(i!==e){var s=t.getOffset(n,!0),a=e.collapsed?t.getOffset(o,!0):t.getOffset(e.getDragArea(),!0);null!=i&&(i.remove(n,r),l.updateConnectionsForGroup(i)),e.add(n,r);var u=function(t,n){var r=0===n?1:0;t.each(function(t){t.setVisible(!1),t.endpoints[r].element._jsPlumbGroup===e?(t.endpoints[r].setVisible(!1),l.expandConnection(t,r,e)):(t.endpoints[n].setVisible(!1),l.collapseConnection(t,n,e))})};e.collapsed&&(u(t.select({source:n}),0),u(t.select({target:n}),1));var c=t.getId(n);t.dragManager.setParent(n,c,o,t.getId(o),s);var h={left:s.left-a.left,top:s.top-a.top};t.setPosition(n,h),t.dragManager.revalidateParent(n,c,s),l.updateConnectionsForGroup(e),t.revalidate(c),setTimeout(function(){t.fire("group:addMember",{group:e,el:n})},0)}}},this.removeFromGroup=function(t,e,n){(t=this.getGroup(t))&&t.remove(e,null,n)},this.getGroup=function(t){var n=t;if(e.isString(t)&&null==(n=o[t]))throw new TypeError("No such group ["+t+"]");return n},this.getGroups=function(){var t=[];for(var e in o)t.push(o[e]);return t},this.removeGroup=function(e,n,r,i){e=this.getGroup(e),this.expandGroup(e,!0),e[n?"removeAll":"orphanAll"](r,i),t.remove(e.getEl()),delete o[e.id],delete t._groups[e.id],t.fire("group:remove",{group:e})},this.removeAllGroups=function(t,e,n){for(var r in o)this.removeGroup(o[r],t,e,n)};var h=this.collapseConnection=function(e,n,r){var o,s=r.getEl(),a=t.getId(s),u=e.endpoints[n].elementId,c=e.endpoints[0===n?1:0].element;c[i]&&!c[i].shouldProxy()&&c[i].collapsed||(e.proxies=e.proxies||[],(o=e.proxies[n]?e.proxies[n].ep:t.addEndpoint(s,{endpoint:r.getEndpoint(e,n),anchor:r.getAnchor(e,n),parameters:{isProxyEndpoint:!0}})).setDeleteOnEmpty(!0),e.proxies[n]={ep:o,originalEp:e.endpoints[n]},0===n?t.anchorManager.sourceChanged(u,a,e,s):(t.anchorManager.updateOtherEndpoint(e.endpoints[0].elementId,u,a,e),e.target=s,e.targetId=a),e.proxies[n].originalEp.detachFromConnection(e,null,!0),o.connections=[e],e.endpoints[n]=o,e.setVisible(!0))};this.collapseGroup=function(e){if(null!=(e=this.getGroup(e))&&!e.collapsed){var r=e.getEl();if(n(e,!1),e.shouldProxy()){var o=function(t,n){for(var r=0;r<t.length;r++){var o=t[r];h(o,n,e)}};o(e.connections.source,0),o(e.connections.target,1)}e.collapsed=!0,t.removeClass(r,"jtk-group-expanded"),t.addClass(r,"jtk-group-collapsed"),t.revalidate(r),t.fire("group:collapse",{group:e})}};var d=this.expandConnection=function(e,n,r){if(null!=e.proxies&&null!=e.proxies[n]){var o=t.getId(r.getEl()),i=e.proxies[n].originalEp.element,s=e.proxies[n].originalEp.elementId;e.endpoints[n]=e.proxies[n].originalEp,0===n?t.anchorManager.sourceChanged(o,s,e,i):(t.anchorManager.updateOtherEndpoint(e.endpoints[0].elementId,o,s,e),e.target=i,e.targetId=s),e.proxies[n].ep.detachFromConnection(e,null),e.proxies[n].originalEp.addConnection(e),delete e.proxies[n]}};this.expandGroup=function(e,r){if(null!=(e=this.getGroup(e))&&e.collapsed){var o=e.getEl();if(n(e,!0),e.shouldProxy()){var i=function(t,n){for(var r=0;r<t.length;r++){var o=t[r];d(o,n,e)}};i(e.connections.source,0),i(e.connections.target,1)}e.collapsed=!1,t.addClass(o,"jtk-group-expanded"),t.removeClass(o,"jtk-group-collapsed"),t.revalidate(o),this.repaintGroup(e),r||t.fire("group:expand",{group:e})}},this.repaintGroup=function(e){for(var n=(e=this.getGroup(e)).getMembers(),r=0;r<n.length;r++)t.revalidate(n[r])},this.updateConnectionsForGroup=r,this.refreshAllGroups=function(){for(var e in o)r(o[e]),t.dragManager.updateOffsets(t.getId(o[e].getEl()))}},c=function(n,s){function a(t,e){var r=function(t){return t.offsetParent}(t),o=n.getSize(r),i=n.getSize(t),s=e[0],a=s+i[0],u=e[1],c=u+i[1];return a>0&&s<o[0]&&c>0&&u<o[1]}function u(t){var e=n.getId(t),r=n.getOffset(t);t.parentNode.removeChild(t),n.getContainer().appendChild(t),n.setPosition(t,r),delete t._jsPlumbGroup,h(t),n.dragManager.clearParent(t,e)}function c(t){if(!a(t.el,t.pos)){var e=t.el._jsPlumbGroup;_?n.remove(t.el):u(t.el),e.remove(t.el)}}function l(t){var e=n.getId(t);n.revalidate(t),n.dragManager.revalidateParent(t,e)}function h(t){t._katavorioDrag&&((_||b)&&t._katavorioDrag.off(r,c),_||b||!y||(t._katavorioDrag.off(o,l),t._katavorioDrag.setRevert(null)))}function d(t){t._katavorioDrag&&((_||b)&&t._katavorioDrag.on(r,c),m&&t._katavorioDrag.setConstrain(!0),v&&t._katavorioDrag.setUseGhostProxy(!0),_||b||!y||(t._katavorioDrag.on(o,l),t._katavorioDrag.setRevert(function(t,e){return!a(t,e)})))}var f=this,p=s.el;this.getEl=function(){return p},this.id=s.id||e.uuid(),p._isJsPlumbGroup=!0;var g=this.getDragArea=function(){var t=n.getSelector(p,"[jtk-group-content]");return t&&t.length>0?t[0]:p},v=!0===s.ghost,m=v||!0===s.constrain,y=!1!==s.revert,b=!0===s.orphan,_=!0===s.prune,P=!0===s.dropOverride,E=!1!==s.proxied,x=[];if(this.connections={source:[],target:[],internal:[]},this.getAnchor=function(t,e){return s.anchor||"Continuous"},this.getEndpoint=function(t,e){return s.endpoint||["Dot",{radius:10}]},this.collapsed=!1,!1!==s.draggable){var S={stop:function(t){n.fire("groupDragStop",jsPlumb.extend(t,{group:f}))},scope:"_jsPlumbGroupDrag"};s.dragOptions&&t.jsPlumb.extend(S,s.dragOptions),n.draggable(s.el,S)}!1!==s.droppable&&n.droppable(s.el,{drop:function(t){var e=t.drag.el;if(!e._isJsPlumbGroup){var r=e._jsPlumbGroup;if(r!==f){if(null!=r&&r.overrideDrop(e,f))return;n.getGroupManager().addToGroup(f,e,!1)}}}});var C=function(t,e){for(var n=null==t.nodeType?t:[t],r=0;r<n.length;r++)e(n[r])};this.overrideDrop=function(t,e){return P&&(y||_||b)},this.add=function(t,e){var r=g();C(t,function(t){if(null!=t._jsPlumbGroup){if(t._jsPlumbGroup===f)return;t._jsPlumbGroup.remove(t,!0,e,!1)}t._jsPlumbGroup=f,x.push(t),n.isAlreadyDraggable(t)&&d(t),t.parentNode!==r&&r.appendChild(t),e||n.fire("group:addMember",{group:f,el:t})}),n.getGroupManager().updateConnectionsForGroup(f)},this.remove=function(t,r,o,i){C(t,function(t){if(delete t._jsPlumbGroup,e.removeWithFunction(x,function(e){return e===t}),r)try{f.getDragArea().removeChild(t)}catch(t){jsPlumbUtil.log("Could not remove element from Group "+t)}h(t),o||n.fire("group:removeMember",{group:f,el:t})}),i||n.getGroupManager().updateConnectionsForGroup(f)},this.removeAll=function(t,e){for(var r=0,o=x.length;r<o;r++)f.remove(x[0],t,e,!0);x.length=0,n.getGroupManager().updateConnectionsForGroup(f)},this.orphanAll=function(){for(var t=0;t<x.length;t++)u(x[t]);x.length=0},this.getMembers=function(){return x},p[i]=this,n.bind("elementDraggable",function(t){t.el._jsPlumbGroup===this&&d(t.el)}.bind(this)),this.shouldProxy=function(){return E},n.getGroupManager().addGroup(this)};n.prototype.addGroup=function(t){var e=this;if(e._groups=e._groups||{},null!=e._groups[t.id])throw new TypeError("cannot create Group ["+t.id+"]; a Group with that ID exists");if(null!=t.el[i])throw new TypeError("cannot create Group ["+t.id+"]; the given element is already a Group");var n=new c(e,t);return e._groups[n.id]=n,t.collapsed&&this.collapseGroup(n),n},n.prototype.addToGroup=function(t,e,n){var r=function(e){var r=this.getId(e);this.manage(r,e),this.getGroupManager().addToGroup(t,e,n)}.bind(this);if(Array.isArray(e))for(var o=0;o<e.length;o++)r(e[o]);else r(e)},n.prototype.removeFromGroup=function(t,e,n){this.getGroupManager().removeFromGroup(t,e,n)},n.prototype.removeGroup=function(t,e,n,r){this.getGroupManager().removeGroup(t,e,n,r)},n.prototype.removeAllGroups=function(t,e,n){this.getGroupManager().removeAllGroups(t,e,n)},n.prototype.getGroup=function(t){return this.getGroupManager().getGroup(t)},n.prototype.getGroups=function(){return this.getGroupManager().getGroups()},n.prototype.expandGroup=function(t){this.getGroupManager().expandGroup(t)},n.prototype.collapseGroup=function(t){this.getGroupManager().collapseGroup(t)},n.prototype.repaintGroup=function(t){this.getGroupManager().repaintGroup(t)},n.prototype.toggleGroup=function(t){null!=(t=this.getGroupManager().getGroup(t))&&this.getGroupManager()[t.collapsed?"expandGroup":"collapseGroup"](t)},n.prototype.getGroupManager=function(){var t=this._groupManager;return null==t&&(t=this._groupManager=new u(this)),t},n.prototype.removeGroupManager=function(){delete this._groupManager},n.prototype.getGroupFor=function(t){if(t=this.getElement(t))return t[i]}}.call("undefined"!=typeof window?window:m),function(){var t=this.jsPlumb,e=function(e){this.type="Flowchart",(e=e||{}).stub=null==e.stub?30:e.stub;var n,r=t.Connectors.AbstractConnector.apply(this,arguments),o=null==e.midpoint?.5:e.midpoint,i=!0===e.alwaysRespectStubs,s=null,a=null,u=null!=e.cornerRadius?e.cornerRadius:0,c=(e.loopbackRadius,function(t){return t<0?-1:0===t?0:1}),l=function(t,e,n,r){if(s!==e||a!==n){var o=null==s?r.sx:s,i=null==a?r.sy:a,u=o===e?"v":"h",l=c(e-o),h=c(n-i);s=e,a=n,t.push([o,i,e,n,u,l,h])}},h=function(t){return Math.sqrt(Math.pow(t[0]-t[2],2)+Math.pow(t[1]-t[3],2))},d=function(t){var e=[];return e.push.apply(e,t),e};this._compute=function(t,e){n=[],s=null,a=null;var c=function(){return[t.startStubX,t.startStubY,t.endStubX,t.endStubY]},f={perpendicular:c,orthogonal:c,opposite:function(e){var n=t,r="x"===e?0:1;return!i&&{x:function(){return 1===n.so[r]&&(n.startStubX>n.endStubX&&n.tx>n.startStubX||n.sx>n.endStubX&&n.tx>n.sx)||-1===n.so[r]&&(n.startStubX<n.endStubX&&n.tx<n.startStubX||n.sx<n.endStubX&&n.tx<n.sx)},y:function(){return 1===n.so[r]&&(n.startStubY>n.endStubY&&n.ty>n.startStubY||n.sy>n.endStubY&&n.ty>n.sy)||-1===n.so[r]&&(n.startStubY<n.endStubY&&n.ty<n.startStubY||n.sy<n.endStubY&&n.ty<n.sy)}}[e]()?{x:[(t.sx+t.tx)/2,t.startStubY,(t.sx+t.tx)/2,t.endStubY],y:[t.startStubX,(t.sy+t.ty)/2,t.endStubX,(t.sy+t.ty)/2]}[e]:[t.startStubX,t.startStubY,t.endStubX,t.endStubY]}}[t.anchorOrientation](t.sourceAxis),p="x"===t.sourceAxis?0:1,g="x"===t.sourceAxis?1:0,v=f[p],m=f[g],y=f[p+2],b=f[g+2];l(n,f[0],f[1],t);var _=t.startStubX+(t.endStubX-t.startStubX)*o,P=t.startStubY+(t.endStubY-t.startStubY)*o,E={x:[0,1],y:[1,0]},x={perpendicular:function(e){var n=t,r={x:[[n.startStubX,n.endStubX],null,[n.endStubX,n.startStubX]],y:[[n.startStubY,n.endStubY],null,[n.endStubY,n.startStubY]]},o={x:[[_,n.startStubY],[_,n.endStubY]],y:[[n.startStubX,P],[n.endStubX,P]]},i={x:[[n.endStubX,n.startStubY]],y:[[n.startStubX,n.endStubY]]},s={x:[[n.startStubX,n.endStubY],[n.endStubX,n.endStubY]],y:[[n.endStubX,n.startStubY],[n.endStubX,n.endStubY]]},a={x:[[n.startStubX,P],[n.endStubX,P],[n.endStubX,n.endStubY]],y:[[_,n.startStubY],[_,n.endStubY],[n.endStubX,n.endStubY]]},u={x:[n.startStubY,n.endStubY],y:[n.startStubX,n.endStubX]},c=E[e][0],l=E[e][1],h=n.so[c]+1,d=n.to[l]+1,f=-1===n.to[l]&&u[e][1]<u[e][0]||1===n.to[l]&&u[e][1]>u[e][0],p=r[e][h][0],g=r[e][h][1],v={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[e][h][d];return n.segment===v[3]||n.segment===v[2]&&f?o[e]:n.segment===v[2]&&g<p?i[e]:n.segment===v[2]&&g>=p||n.segment===v[1]&&!f?a[e]:n.segment===v[0]||n.segment===v[1]&&f?s[e]:void 0},orthogonal:function(e,n,r,o,i){var s=t,a={x:-1===s.so[0]?Math.min(n,o):Math.max(n,o),y:-1===s.so[1]?Math.min(n,o):Math.max(n,o)}[e];return{x:[[a,r],[a,i],[o,i]],y:[[r,a],[i,a],[i,o]]}[e]},opposite:function(n,o,i,s){var a=t,u={x:"y",y:"x"}[n],c={x:"height",y:"width"}[n],l=a["is"+n.toUpperCase()+"GreaterThanStubTimes2"];if(e.sourceEndpoint.elementId===e.targetEndpoint.elementId){var h=i+(1-e.sourceEndpoint.anchor[u])*e.sourceInfo[c]+r.maxStub;return{x:[[o,h],[s,h]],y:[[h,o],[h,s]]}[n]}return!l||1===a.so[p]&&o>s||-1===a.so[p]&&o<s?{x:[[o,P],[s,P]],y:[[_,o],[_,s]]}[n]:1===a.so[p]&&o<s||-1===a.so[p]&&o>s?{x:[[_,a.sy],[_,a.ty]],y:[[a.sx,P],[a.tx,P]]}[n]:void 0}}[t.anchorOrientation](t.sourceAxis,v,m,y,b);if(x)for(var S=0;S<x.length;S++)l(n,x[S][0],x[S][1],t);l(n,f[2],f[3],t),l(n,t.tx,t.ty,t),function(t,e,n){for(var o,i=null,s=0;s<e.length-1;s++){if(i=i||d(e[s]),o=d(e[s+1]),u>0&&i[4]!==o[4]){var a=Math.min(u,h(i),h(o));i[2]-=i[5]*a,i[3]-=i[6]*a,o[0]+=o[5]*a,o[1]+=o[6]*a;var c=i[6]===o[5]&&1===o[5]||i[6]===o[5]&&0===o[5]&&i[5]!==o[6]||i[6]===o[5]&&-1===o[5],l=(o[1]>i[3]?1:-1)==(o[0]>i[2]?1:-1),f=l&&c||!l&&!c?o[0]:i[2],p=l&&c||!l&&!c?i[3]:o[1];r.addSegment(t,"Straight",{x1:i[0],y1:i[1],x2:i[2],y2:i[3]}),r.addSegment(t,"Arc",{r:a,x1:i[2],y1:i[3],x2:o[0],y2:o[1],cx:f,cy:p,ac:c})}else{var g=i[2]===i[0]?0:i[2]>i[0]?n.lw/2:-n.lw/2,v=i[3]===i[1]?0:i[3]>i[1]?n.lw/2:-n.lw/2;r.addSegment(t,"Straight",{x1:i[0]-g,y1:i[1]-v,x2:i[2]+g,y2:i[3]+v})}i=o}null!=o&&r.addSegment(t,"Straight",{x1:o[0],y1:o[1],x2:o[2],y2:o[3]})}(this,n,t)}};this.jsPlumbUtil.extend(e,t.Connectors.AbstractConnector),t.registerConnectorType(e,"Flowchart")}.call("undefined"!=typeof window?window:m),function(){var t=this.jsPlumb,e=this.jsPlumbUtil;t.Connectors.AbstractBezierConnector=function(e){var n,r=!1!==(e=e||{}).showLoopback,o=(e.curviness,e.margin||5),i=(e.proximityLimit,e.orientation&&"clockwise"===e.orientation),s=e.loopbackRadius||25,a=!1;return this.overrideSetEditable=function(){return!a},this._compute=function(t,e){var u=e.sourcePos,c=e.targetPos,l=Math.abs(u[0]-c[0]),h=Math.abs(u[1]-c[1]);if(r&&e.sourceEndpoint.elementId===e.targetEndpoint.elementId){a=!0;var d=e.sourcePos[0],f=e.sourcePos[1]-o,p=d,g=f-s,v=p-s,m=g-s;l=2*s,h=2*s,t.points[0]=v,t.points[1]=m,t.points[2]=l,t.points[3]=h,n.addSegment(this,"Arc",{loopback:!0,x1:d-v+4,y1:f-m,startAngle:0,endAngle:2*Math.PI,r:s,ac:!i,x2:d-v-4,y2:f-m,cx:p-v,cy:g-m})}else a=!1,this._computeBezier(t,e,u,c,l,h)},n=t.Connectors.AbstractConnector.apply(this,arguments)},e.extend(t.Connectors.AbstractBezierConnector,t.Connectors.AbstractConnector);var n=function(e){e=e||{},this.type="Bezier";var n=t.Connectors.AbstractBezierConnector.apply(this,arguments),r=e.curviness||150;this.getCurviness=function(){return r},this._findControlPoint=function(t,e,n,o,i,s,a){var u=[];return s[0]!==a[0]||s[1]===a[1]?(0===a[0]?u.push(n[0]<e[0]?t[0]+10:t[0]-10):u.push(t[0]+r*a[0]),0===a[1]?u.push(n[1]<e[1]?t[1]+10:t[1]-10):u.push(t[1]+r*s[1])):(0===s[0]?u.push(e[0]<n[0]?t[0]+10:t[0]-10):u.push(t[0]-r*s[0]),0===s[1]?u.push(e[1]<n[1]?t[1]+10:t[1]-10):u.push(t[1]+r*a[1])),u},this._computeBezier=function(t,e,r,o,i,s){var a,u,c=this.getGeometry(),l=r[0]<o[0]?i:0,h=r[1]<o[1]?s:0,d=r[0]<o[0]?0:i,f=r[1]<o[1]?0:s;(this.hasBeenEdited()||this.isEditing())&&null!=c&&null!=c.controlPoints&&null!=c.controlPoints[0]&&null!=c.controlPoints[1]?(a=c.controlPoints[0],u=c.controlPoints[1]):(a=this._findControlPoint([l,h],r,o,e.sourceEndpoint,e.targetEndpoint,t.so,t.to),u=this._findControlPoint([d,f],o,r,e.targetEndpoint,e.sourceEndpoint,t.to,t.so)),n.setGeometry({controlPoints:[a,u]},!0),n.addSegment(this,"Bezier",{x1:l,y1:h,x2:d,y2:f,cp1x:a[0],cp1y:a[1],cp2x:u[0],cp2y:u[1]})}};e.extend(n,t.Connectors.AbstractBezierConnector),t.registerConnectorType(n,"Bezier")}.call("undefined"!=typeof window?window:m),function(){var t=this.jsPlumb,e=this.jsPlumbUtil,n=function(e){e=e||{},this.type="StateMachine";var n,r=t.Connectors.AbstractBezierConnector.apply(this,arguments),o=e.curviness||10,i=e.margin||5,s=e.proximityLimit||80;e.orientation&&e.orientation,this._computeBezier=function(t,e,a,u,c,l){var h=e.sourcePos[0]<e.targetPos[0]?0:c,d=e.sourcePos[1]<e.targetPos[1]?0:l,f=e.sourcePos[0]<e.targetPos[0]?c:0,p=e.sourcePos[1]<e.targetPos[1]?l:0;0===e.sourcePos[2]&&(h-=i),1===e.sourcePos[2]&&(h+=i),0===e.sourcePos[3]&&(d-=i),1===e.sourcePos[3]&&(d+=i),0===e.targetPos[2]&&(f-=i),1===e.targetPos[2]&&(f+=i),0===e.targetPos[3]&&(p-=i),1===e.targetPos[3]&&(p+=i);var g,v,m,y,b,_,P,E,x=(h+f)/2,S=(d+p)/2,C=(_=d,E=p,(b=h)<=(P=f)&&E<=_?1:b<=P&&_<=E?2:P<=b&&E>=_?3:4),w=Math.sqrt(Math.pow(f-h,2)+Math.pow(p-d,2)),j=r.getGeometry();(this.hasBeenEdited()||this.isEditing())&&null!=j?(g=j.controlPoints[0][0],m=j.controlPoints[0][1],v=j.controlPoints[1][0],y=j.controlPoints[1][1]):(g=(n=function(t,e,n,r,o,i,s,a,u){return a<=u?[t,e]:1===n?r[3]<=0&&o[3]>=1?[t+(r[2]<.5?-1*i:i),e]:r[2]>=1&&o[2]<=0?[t,e+(r[3]<.5?-1*s:s)]:[t+-1*i,e+-1*s]:2===n?r[3]>=1&&o[3]<=0?[t+(r[2]<.5?-1*i:i),e]:r[2]>=1&&o[2]<=0?[t,e+(r[3]<.5?-1*s:s)]:[t+i,e+-1*s]:3===n?r[3]>=1&&o[3]<=0?[t+(r[2]<.5?-1*i:i),e]:r[2]<=0&&o[2]>=1?[t,e+(r[3]<.5?-1*s:s)]:[t+-1*i,e+-1*s]:4===n?r[3]<=0&&o[3]>=1?[t+(r[2]<.5?-1*i:i),e]:r[2]<=0&&o[2]>=1?[t,e+(r[3]<.5?-1*s:s)]:[t+i,e+-1*s]:void 0}(x,S,C,e.sourcePos,e.targetPos,o,o,w,s))[0],v=n[0],m=n[1],y=n[1],r.setGeometry({controlPoints:[n,n]},!0)),r.addSegment(this,"Bezier",{x1:f,y1:p,x2:h,y2:d,cp1x:g,cp1y:m,cp2x:v,cp2y:y})}};e.extend(n,t.Connectors.AbstractBezierConnector),t.registerConnectorType(n,"StateMachine")}.call("undefined"!=typeof window?window:m),function(){var t=this.jsPlumb,e=this.jsPlumbUtil,n=function(e){this.type="Straight";var n=t.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(t,e){n.addSegment(this,"Straight",{x1:t.sx,y1:t.sy,x2:t.startStubX,y2:t.startStubY}),n.addSegment(this,"Straight",{x1:t.startStubX,y1:t.startStubY,x2:t.endStubX,y2:t.endStubY}),n.addSegment(this,"Straight",{x1:t.endStubX,y1:t.endStubY,x2:t.tx,y2:t.ty})}};e.extend(n,t.Connectors.AbstractConnector),t.registerConnectorType(n,"Straight")}.call("undefined"!=typeof window?window:m),function(){var t=this.jsPlumb,e=this.jsPlumbUtil,n={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},r="http://www.w3.org/2000/svg",o=function(t,e){for(var n in e)t.setAttribute(n,""+e[n])},i=function(e,n){return(n=n||{}).version="1.1",n.xmlns=r,t.createElementNS(r,e,null,null,n)},s=function(t){return"position:absolute;left:"+t[0]+"px;top:"+t[1]+"px"},a=function(t){for(var e=t.querySelectorAll(" defs,linearGradient,radialGradient"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n])},u=function(t,e,r,o,s){if(e.setAttribute("fill",r.fill?r.fill:"none"),e.setAttribute("stroke",r.stroke?r.stroke:"none"),r.gradient?function(t,e,n,r,o){var s,u="jsplumb_gradient_"+o._jsPlumb.instance.idstamp();a(t),s=n.gradient.offset?i("radialGradient",{id:u}):i("linearGradient",{id:u,gradientUnits:"userSpaceOnUse"});var c=i("defs");t.appendChild(c),c.appendChild(s);for(var l=0;l<n.gradient.stops.length;l++){var h=1===o.segment||2===o.segment?l:n.gradient.stops.length-1-l,d=n.gradient.stops[h][1],f=i("stop",{offset:Math.floor(100*n.gradient.stops[l][0])+"%","stop-color":d});s.appendChild(f)}var p=n.stroke?"stroke":"fill";e.setAttribute(p,"url(#"+u+")")}(t,e,r,0,s):(a(t),e.setAttribute("style","")),r.strokeWidth&&e.setAttribute("stroke-width",r.strokeWidth),r.dashstyle&&r.strokeWidth&&!r["stroke-dasharray"]){var u=-1===r.dashstyle.indexOf(",")?" ":",",c=r.dashstyle.split(u),l="";c.forEach(function(t){l+=Math.floor(t*r.strokeWidth)+u}),e.setAttribute("stroke-dasharray",l)}else r["stroke-dasharray"]&&e.setAttribute("stroke-dasharray",r["stroke-dasharray"]);for(var h in n)r[h]&&e.setAttribute(n[h],r[h])},c=function(t,e,n){t.childNodes.length>n?t.insertBefore(e,t.childNodes[n]):t.appendChild(e)};e.svg={node:i,attr:o,pos:s};var l=function(n){var r=n.pointerEventsSpec||"all",a={};t.jsPlumbUIComponent.apply(this,n.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var u=n.cssClass+" "+(n.originalArgs[0].cssClass||""),c={style:"",width:0,height:0,"pointer-events":r,position:"absolute"};this.svg=i("svg",c),n.useDivWrapper?(this.canvas=t.createElement("div",{position:"absolute"}),e.sizeElement(this.canvas,0,0,1,1),this.canvas.className=u):(o(this.svg,{class:u}),this.canvas=this.svg),n._jsPlumb.appendElement(this.canvas,n.originalArgs[0].parent),n.useDivWrapper&&this.canvas.appendChild(this.svg);var l=[this.canvas];return this.getDisplayElements=function(){return l},this.appendDisplayElement=function(t){l.push(t)},this.paint=function(t,r,i){if(null!=t){var u,c=[this.x,this.y],l=[this.w,this.h];null!=i&&(i.xmin<0&&(c[0]+=i.xmin),i.ymin<0&&(c[1]+=i.ymin),l[0]=i.xmax+(i.xmin<0?-i.xmin:0),l[1]=i.ymax+(i.ymin<0?-i.ymin:0)),n.useDivWrapper?(e.sizeElement(this.canvas,c[0],c[1],l[0],l[1]),c[0]=0,c[1]=0,u=s([0,0])):u=s([c[0],c[1]]),a.paint.apply(this,arguments),o(this.svg,{style:u,width:l[0]||0,height:l[1]||0})}},{renderer:a}};e.extend(l,t.jsPlumbUIComponent,{cleanup:function(t){t||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(t){var e=t.getContainer();this.canvas&&null==this.canvas.parentNode&&e.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&e.appendChild(this.bgCanvas)},setVisible:function(t){this.canvas&&(this.canvas.style.display=t?"block":"none")}}),t.ConnectorRenderers.svg=function(e){var n=this,r=l.apply(this,[{cssClass:e._jsPlumb.connectorClass+(this.isEditable()?" "+e._jsPlumb.editableConnectorClass:""),originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:e._jsPlumb}]),s=this.setEditable;this.setEditable=function(e){var n=s.apply(this,[e]);t[n?"addClass":"removeClass"](this.canvas,this._jsPlumb.instance.editableConnectorClass)},r.renderer.paint=function(r,s,a){var l=n.getSegments(),h=[0,0];if(a.xmin<0&&(h[0]=-a.xmin),a.ymin<0&&(h[1]=-a.ymin),l.length>0){var d={d:n.getPathData(),transform:"translate("+h[0]+","+h[1]+")","pointer-events":e["pointer-events"]||"visibleStroke"},f=null;if(n.x,n.y,n.w,n.h,r.outlineStroke){var p=r.outlineWidth||1,g=r.strokeWidth+2*p;delete(f=t.extend({},r)).gradient,f.stroke=r.outlineStroke,f.strokeWidth=g,null==n.bgPath?(n.bgPath=i("path",d),t.addClass(n.bgPath,t.connectorOutlineClass),c(n.svg,n.bgPath,0)):o(n.bgPath,d),u(n.svg,n.bgPath,f,0,n)}null==n.path?(n.path=i("path",d),c(n.svg,n.path,r.outlineStroke?1:0)):o(n.path,d),u(n.svg,n.path,r,0,n)}}},e.extend(t.ConnectorRenderers.svg,l);var h=t.SvgEndpoint=function(e){l.apply(this,[{cssClass:e._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:e._jsPlumb}]).renderer.paint=function(e){var n=t.extend({},e);n.outlineStroke&&(n.stroke=n.outlineStroke),null==this.node?(this.node=this.makeNode(n),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),u(this.svg,this.node,n,(this.x,this.y,this.w,this.h),this),s(this.node,(this.x,this.y))}.bind(this)};e.extend(h,l),t.Endpoints.svg.Dot=function(){t.Endpoints.Dot.apply(this,arguments),h.apply(this,arguments),this.makeNode=function(t){return i("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(t){o(t,{cx:this.w/2,cy:this.h/2,r:this.radius})}},e.extend(t.Endpoints.svg.Dot,[t.Endpoints.Dot,h]),t.Endpoints.svg.Rectangle=function(){t.Endpoints.Rectangle.apply(this,arguments),h.apply(this,arguments),this.makeNode=function(t){return i("rect",{width:this.w,height:this.h})},this.updateNode=function(t){o(t,{width:this.w,height:this.h})}},e.extend(t.Endpoints.svg.Rectangle,[t.Endpoints.Rectangle,h]),t.Endpoints.svg.Image=t.Endpoints.Image,t.Endpoints.svg.Blank=t.Endpoints.Blank,t.Overlays.svg.Label=t.Overlays.Label,t.Overlays.svg.Custom=t.Overlays.Custom;var d=function(e,n){e.apply(this,n),t.jsPlumbUIComponent.apply(this,n),this.isAppendedAtTopLevel=!1,this.path=null,this.paint=function(t,e){if(t.component.svg&&e){null==this.path&&(this.path=i("path",{"pointer-events":"all"}),t.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,t.component),this.canvas=t.component.svg);var s=n&&1===n.length&&n[0].cssClass||"",a=[0,0];e.xmin<0&&(a[0]=-e.xmin),e.ymin<0&&(a[1]=-e.ymin),o(this.path,{d:r(t.d),class:s,stroke:t.stroke?t.stroke:null,fill:t.fill?t.fill:null,transform:"translate("+a[0]+","+a[1]+")"})}};var r=function(t){return isNaN(t.cxy.x)||isNaN(t.cxy.y)?"":"M"+t.hxy.x+","+t.hxy.y+" L"+t.tail[0].x+","+t.tail[0].y+" L"+t.cxy.x+","+t.cxy.y+" L"+t.tail[1].x+","+t.tail[1].y+" L"+t.hxy.x+","+t.hxy.y};this.transfer=function(t){t.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),t.canvas.appendChild(this.path))}};e.extend(d,[t.jsPlumbUIComponent,t.Overlays.AbstractOverlay],{cleanup:function(t){null!=this.path&&(t?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(t,e){this.path&&e.canvas&&e.canvas.appendChild(this.path)},setVisible:function(t){null!=this.path&&(this.path.style.display=t?"block":"none")}}),t.Overlays.svg.Arrow=function(){d.apply(this,[t.Overlays.Arrow,arguments])},e.extend(t.Overlays.svg.Arrow,[t.Overlays.Arrow,d]),t.Overlays.svg.PlainArrow=function(){d.apply(this,[t.Overlays.PlainArrow,arguments])},e.extend(t.Overlays.svg.PlainArrow,[t.Overlays.PlainArrow,d]),t.Overlays.svg.Diamond=function(){d.apply(this,[t.Overlays.Diamond,arguments])},e.extend(t.Overlays.svg.Diamond,[t.Overlays.Diamond,d]),t.Overlays.svg.GuideLines=function(){var e,n,r=null,s=this;t.Overlays.GuideLines.apply(this,arguments),this.paint=function(t,u){null==r&&(r=i("path"),t.connector.svg.appendChild(r),s.attachListeners(r,t.connector),s.attachListeners(r,s),e=i("path"),t.connector.svg.appendChild(e),s.attachListeners(e,t.connector),s.attachListeners(e,s),n=i("path"),t.connector.svg.appendChild(n),s.attachListeners(n,t.connector),s.attachListeners(n,s));var c=[0,0];u.xmin<0&&(c[0]=-u.xmin),u.ymin<0&&(c[1]=-u.ymin),o(r,{d:a(t.head,t.tail),stroke:"red",fill:null,transform:"translate("+c[0]+","+c[1]+")"}),o(e,{d:a(t.tailLine[0],t.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+c[0]+","+c[1]+")"}),o(n,{d:a(t.headLine[0],t.headLine[1]),stroke:"green",fill:null,transform:"translate("+c[0]+","+c[1]+")"})};var a=function(t,e){return"M "+t.x+","+t.y+" L"+e.x+","+e.y}},e.extend(t.Overlays.svg.GuideLines,t.Overlays.GuideLines)}.call("undefined"!=typeof window?window:m),function(){var t=this.jsPlumb,e=this.jsPlumbUtil,n=this.Katavorio,r=this.Biltong,o=function(e,o){var i="_katavorio_"+(o=o||"main"),s=e[i],a=e.getEventManager();return s||((s=new n({bind:a.on,unbind:a.off,getSize:t.getSize,getConstrainingRectangle:function(t){return[t.parentNode.scrollWidth,t.parentNode.scrollHeight]},getPosition:function(t,n){var r=e.getOffset(t,n,t._katavorioDrag?t.offsetParent:null);return[r.left,r.top]},setPosition:function(t,e){t.style.left=e[0]+"px",t.style.top=e[1]+"px"},addClass:t.addClass,removeClass:t.removeClass,intersects:r.intersects,indexOf:function(t,e){return t.indexOf(e)},scope:e.getDefaultScope(),css:{noSelect:e.dragSelectClass,droppable:"jtk-droppable",draggable:"jtk-draggable",drag:"jtk-drag",selected:"jtk-drag-selected",active:"jtk-drag-active",hover:"jtk-drag-hover",ghostProxy:"jtk-ghost-proxy"}})).setZoom(e.getZoom()),e[i]=s,e.bind("zoom",s.setZoom)),s};t.extend(this.jsPlumbInstance.prototype,{animationSupported:!0,getElement:function(t){return null==t?null:"string"==typeof(t="string"==typeof t?t:null!=t.length&&null==t.enctype?t[0]:t)?document.getElementById(t):t},removeElement:function(t){o(this).elementRemoved(t),this.getEventManager().remove(t)},doAnimate:function(n,r,o){o=o||{};var i=this.getOffset(n),s=function(t,n){var r=function(r){if(null!=n[r]){if(e.isString(n[r])){var o=n[r].match(/-=/)?-1:1,i=n[r].substring(2);return t[r]+o*i}return n[r]}return t[r]};return[r("left"),r("top")]}(i,r),a=s[0]-i.left,u=s[1]-i.top,c=o.duration||250,l=c/15,h=15/c*a,d=15/c*u,f=0,p=setInterval(function(){t.setPosition(n,{left:i.left+h*(f+1),top:i.top+d*(f+1)}),null!=o.step&&o.step(f,Math.ceil(l)),++f>=l&&(window.clearInterval(p),null!=o.complete&&o.complete())},15)},destroyDraggable:function(t,e){o(this,e).destroyDraggable(t)},destroyDroppable:function(t,e){o(this,e).destroyDroppable(t)},initDraggable:function(t,e,n){o(this,n).draggable(t,e)},initDroppable:function(t,e,n){o(this,n).droppable(t,e)},isAlreadyDraggable:function(t){return null!=t._katavorioDrag},isDragSupported:function(t,e){return!0},isDropSupported:function(t,e){return!0},isElementDraggable:function(e){return(e=t.getElement(e))._katavorioDrag&&e._katavorioDrag.isEnabled()},getDragObject:function(t){return t[0].drag.getDragElement()},getDragScope:function(t){return t._katavorioDrag&&t._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(t){return t[0].e},getUIPosition:function(t,e){var n=t[0].el;if(null==n.offsetParent)return null;var r=t[0].finalPos||t[0].pos,o={left:r[0],top:r[1]};if(n._katavorioDrag&&n.offsetParent!==this.getContainer()){var i=this.getOffset(n.offsetParent);o.left+=i.left,o.top+=i.top}return o},setDragFilter:function(t,e,n){t._katavorioDrag&&t._katavorioDrag.setFilter(e,n)},setElementDraggable:function(e,n){(e=t.getElement(e))._katavorioDrag&&e._katavorioDrag.setEnabled(n)},setDragScope:function(t,e){t._katavorioDrag&&t._katavorioDrag.k.setDragScope(t,e)},setDropScope:function(t,e){t._katavorioDrop&&t._katavorioDrop.length>0&&t._katavorioDrop[0].k.setDropScope(t,e)},addToPosse:function(e,n){var r=Array.prototype.slice.call(arguments,1),i=o(this);t.each(e,function(e){(e=[t.getElement(e)]).push.apply(e,r),i.addToPosse.apply(i,e)})},setPosse:function(e,n){var r=Array.prototype.slice.call(arguments,1),i=o(this);t.each(e,function(e){(e=[t.getElement(e)]).push.apply(e,r),i.setPosse.apply(i,e)})},removeFromPosse:function(e,n){var r=Array.prototype.slice.call(arguments,1),i=o(this);t.each(e,function(e){(e=[t.getElement(e)]).push.apply(e,r),i.removeFromPosse.apply(i,e)})},removeFromAllPosses:function(e){var n=o(this);t.each(e,function(e){n.removeFromAllPosses(t.getElement(e))})},setPosseState:function(e,n,r){var i=o(this);t.each(e,function(e){i.setPosseState(t.getElement(e),n,r)})},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(t){t._katavorioDrag&&t._katavorioDrag.abort()},addToDragSelection:function(t){o(this).select(t)},removeFromDragSelection:function(t){o(this).deselect(t)},clearDragSelection:function(){o(this).deselectAll()},trigger:function(t,e,n,r){this.getEventManager().trigger(t,e,n,r)},doReset:function(){for(var t in this)0===t.indexOf("_katavorio_")&&this[t].reset()}});var i,s;i=t.init,(s=function(){/complete|loaded|interactive/.test(document.readyState)&&void 0!==document.body&&null!=document.body?i():setTimeout(s,9)})()}.call("undefined"!=typeof window?window:m);var y=function(){function t(t,e,n,r,o){this._plumber=t,this._nodeInstance=e,this._node=e.getNode(),this._previousNode=n,this._config=r,this._configDeltas=o}return t.prototype._renderShape=function(t){switch(t){case"HEXAGON":return"";case"CIRCLE":return'<defs><rect id="path-circle" x="4" y="3" width="48" height="48" rx="24"></rect></defs><g id="Node/-circle" stroke-width="1" fill-rule="evenodd"><mask id="mask-circle" fill="white"><use xlink:href="#path-circle"></use></mask><use id="Rectangle-circle" xlink:href="#path-circle"></use><g id="Colors-/-Turquoise" mask="url(#mask-circle)"><g transform="translate(4.000000, 4.000000)" id="Rectangle"><rect x="0" y="0" width="48" height="48"></rect></g></g></g>';case"DIAMOND":return'<defs><path d="M14,10 L42,10 C44.209139,10 46,11.790861 46,14 L46,42 C46,44.209139 44.209139,46 42,46 L14,46 C11.790861,46 10,44.209139 10,42 L10,14 C10,11.790861 11.790861,10 14,10 Z" id="path-diamond"></path></defs><g id="Node/-diamond" stroke-width="1" fill-rule="evenodd"><mask id="mask-diamond" fill="white"><use xlink:href="#path-diamond"></use></mask><use id="Rectangle-diamond" transform="translate(28.000000, 28.000000) rotate(45.000000) translate(-28.000000, -28.000000)" xlink:href="#path-diamond"></use></g>';case"SQUARE":default:return'<defs><rect id="path-square" x="4" y="4" width="48" height="48" rx="4"></rect></defs><g id="Node/-square" stroke-width="1" fill-rule="evenodd"><mask id="mask-square" fill="white"></mask><use id="Rectangle-square" xlink:href="#path-square"></use></g>'}},t.prototype._getIconHref=function(t){return t.iconCategory&&t.iconName?t.iconCategory+"#"+t.iconName:t.iconPath?t.iconPath:null},t.prototype._getNodeClassName=function(){var t=this._config.classPrefix+a.nodeClassSuffix,e=this._node.className||this._config.defaultNodeClassName||a.defaultNodeClassName,n=this._node.isSelected&&this._config.classPrefix+a.nodeSelectedSuffix;return t+(e?"  "+e:"")+(n?" "+n:"")},t.prototype._renderNodeElement=function(){var t=this._nodeInstance.getElement();if(!t){var e=document.createElement("div");return e.className=this._getNodeClassName(),e.style.position="absolute",e.id=this._nodeInstance.getId(),e.draggable=!0,e}var n=this._configDeltas.get("classPrefix"),r=this._configDeltas.get("defaultNodeClassName"),o=!this._previousNode||this._node.className!==this._previousNode.className,i=!this._previousNode||this._node.isSelected!==this._previousNode.isSelected;return(n||r||o||i)&&(t.className=this._getNodeClassName()),t},t.prototype._renderBackgroundSvg=function(t){var e=this._nodeInstance.getSvgBackgroundElement();return e?(this._previousNode&&this._node.nodeShape===this._previousNode.nodeShape||(e.innerHTML=this._renderShape(this._node.nodeShape)),this._configDeltas.get("classPrefix")&&e.setAttribute("class",this._config.classPrefix+a.nodeBackgroundSvgSuffix),e):((e=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("class",this._config.classPrefix+a.nodeBackgroundSvgSuffix),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.setAttribute("viewBox","0 0 56 56"),e.innerHTML=this._renderShape(this._node.nodeShape),t.appendChild(e),e)},t.prototype._renderLabelSpan=function(t){var e=this._nodeInstance.getLabelElement();return!e&&this._node.label?((e=document.createElement("span")).style.position="absolute",e.style.top="100%",e.style.left="50%",e.style.minWidth="150%",e.style.marginLeft="-75%",e.className=this._config.classPrefix+a.nodeLabelSuffix,t.appendChild(e),e):e&&!this._node.label?(t.removeChild(e),null):e&&this._node.label&&this._configDeltas.get("classPrefix")?(e.className=this._config.classPrefix+a.nodeLabelSuffix,e):e},t.prototype._renderIconSvg=function(t){var e=this._nodeInstance.getSvgIconElement(),n=this._node.iconCategory&&this._node.iconName||this._node.iconPath,r=this._node.iconClassName,o=this._config.classPrefix+a.nodeIconSvgSuffix,i=r?o+" "+r:o;if(!e&&n)return(e=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("class",i),e.setAttribute("width","50%"),e.setAttribute("height","50%"),e.style.position="absolute",e.style.left="25%",e.style.top="25%",t.appendChild(e),e;if(e&&!n)return t.removeChild(e),null;if(e&&n){var s=this._configDeltas.get("classPrefix"),u=!this._previousNode||this._previousNode.iconClassName!==this._node.iconClassName;return(s||u)&&e.setAttribute("class",i),e}},t.prototype._renderAnchors=function(t){var e=this,n=this._plumber.selectEndpoints({element:t});if(n.length)for(var r=(this._previousNode&&this._previousNode.anchors||[]).reduce(function(t,e){return t.set(e.id,e),t},new Map),o=0;o<n.length;o++){var i=n.get(o);if(!i.getUuid())return;var s=f.getAnchorIdFromUuid(this._node,i.getUuid()),u=this._nodeInstance.getAnchorMap().get(s);u&&!f.equals(u,r.get(s))?i.setAnchor(f.getPlumbAnchor(u)):u||this._plumber.deleteEndpoint(i)}this._nodeInstance.getAnchorMap().forEach(function(n,r){e._plumber.addEndpoint(t,{anchor:f.getPlumbAnchor(n),cssClass:e._config.classPrefix+a.emptyEndpointClassSuffix,uuid:f.getEndpointUuid(e._node,r),endpoint:["Dot",{radius:6,cssClass:e._config.classPrefix+a.endpointClassSuffix}],endpointStyle:{fill:"invalid_use_Css",stroke:"invalid_use_css"}},{isSource:!0,isTarget:!0})})},t.prototype.render=function(){var t=this._nodeInstance.getBounds(),e=this._renderNodeElement(),n=this._renderLabelSpan(e),r=this._renderBackgroundSvg(e),o=this._renderIconSvg(e),i=this._getIconHref(this._node),s=this._previousNode&&this._getIconHref(this._previousNode);if(this._previousNode&&this._node.left===this._previousNode.left||(e.style.left=t.left+"px"),this._previousNode&&this._node.top===this._previousNode.top||(e.style.top=t.top+"px"),this._previousNode&&this._node.width===this._previousNode.width||(e.style.width=t.width+"px"),this._previousNode&&this._node.height===this._previousNode.height||(e.style.height=t.height+"px"),!n||this._previousNode&&this._node.label===this._previousNode.label||(n.textContent=this._node.id+": "+this._node.label),o&&(!this._previousNode||i!==s)){var a=o.querySelector("use");a&&o.removeChild(a);var u=document.createElementNS("http://www.w3.org/2000/svg","use");u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i),o.appendChild(u)}this._previousNode&&this._node.nodeColor===this._previousNode.nodeColor||(e.style.fill=this._node.nodeColor||"#1789EE"),this._previousNode&&p.compareAnchors(this._node.anchors,this._previousNode.anchors)||this._renderAnchors(e),this._nodeInstance.updateRenderedElements(e,n,r,o)},t}(),b=function(){function t(t){this._plumber=t}return t.prototype.renderNode=function(t,e,n,r){new y(this._plumber,t,e,n,r).render()},t.prototype.unrenderNode=function(t){t.getElement()&&(this._plumber.remove(t.getElement()),t.updateRenderedElements(null,null,null,null))},t.prototype.renderConnector=function(t,e,n){var r=t.getPlumbConnection();if(r){var o=t.getPlumbAnchorConfig();r.endpoints.forEach(function(t,e){t.setAnchor(o[e])});var i=t.getConnector();return e&&e.strokeWidth===i.strokeWidth||r.setPaintStyle({stroke:"invalid_use_css",strokeWidth:i.strokeWidth||n.connectorStrokeWidth}),e&&e.hoverStrokeWidth===i.hoverStrokeWidth||r.setHoverPaintStyle({stroke:"invalid_use_css",strokeWidth:i.hoverStrokeWidth||n.connectorHoverStrokeWidth}),void r.repaint()}var s=this._plumber.connect({source:t.getSourceNodeId(),target:t.getTargetNodeId(),anchors:t.getPlumbAnchorConfig(),detachable:!1,cssClass:n.classPrefix+a.connectorClassSuffix,connector:["Flowchart",{cornerRadius:12}],endpoint:["Dot",{radius:6,cssClass:n.classPrefix+a.endpointClassSuffix}],paintStyle:{stroke:"invalid_use_css",strokeWidth:t.getConnector().strokeWidth||n.connectorStrokeWidth},hoverPaintStyle:{strokeWidth:t.getConnector().hoverStrokeWidth||n.connectorHoverStrokeWidth},endpointStyle:{fill:"invalid_use_Css",stroke:"invalid_use_css"}});s.canvas.id=l.getConnectorId(t.getConnector()),t.updateRenderedConnector(s)},t.prototype.unrenderConnector=function(t){this._plumber.deleteConnection(t.getPlumbConnection()),t.updateRenderedConnector(null)},t}(),_=function(){function t(t,e){this._action=e,this._duration=t,this._timeout=null,this._isWaiting=!0}return t.prototype.invoke=function(){var t=this;null===this._timeout?(this._action(),this._timeout=setTimeout(function(){t._isWaiting&&t._action(),t._timeout=null,t._isWaiting=!1},this._duration)):this._isWaiting=!0},t}(),P=function(t,e){var n=t.left,r=t.left+t.width,o=e.left,i=e.left+e.width,s=n<=o&&r>=o||n>=o&&n<=i,a=t.top,u=t.top+t.height,c=e.top,l=e.top+e.height;return s&&(a<c&&u>c||a>=c&&a<=l)},E=function(){function t(t,e,n,r,o){this._parent=t,this._size=e,this._minSize=n,this._bounds={left:r,top:o,width:e,height:e},this._itemChildren=null}return t.prototype.cascadeAdd=function(e,n){if(!this._containsBounds(n))return[];var r=this._size/2,o=this._minSize;if(r<o)return this._itemChildren=this._itemChildren||new Map,this._itemChildren.set(e,n),[this];var i=[],s=this._bounds,a=s.left,u=s.top;return P({left:a,top:u,width:r,height:r},n)&&(this._topLeftChild=this._topLeftChild||new t(this,r,o,a,u),Array.prototype.push.apply(i,this._topLeftChild.cascadeAdd(e,n))),P({left:a+r,top:u,width:r,height:r},n)&&(this._topRightChild=this._topRightChild||new t(this,r,o,a+r,u),Array.prototype.push.apply(i,this._topRightChild.cascadeAdd(e,n))),P({left:a,top:u+r,width:r,height:r},n)&&(this._bottomLeftChild=this._bottomLeftChild||new t(this,r,o,a,u+r),Array.prototype.push.apply(i,this._bottomLeftChild.cascadeAdd(e,n))),P({left:a+r,top:u+r,width:r,height:r},n)&&(this._bottomRightChild=this._bottomRightChild||new t(this,r,o,a+r,u+r),Array.prototype.push.apply(i,this._bottomRightChild.cascadeAdd(e,n))),i},t.prototype.cascadeGet=function(t){var e=new Set;if(!P(this._bounds,t))return e;if(this._itemChildren)this._itemChildren.forEach(function(n,r){P(t,n)&&e.add(r)});else{var n=function(t){e.add(t)};this._topLeftChild&&this._topLeftChild.cascadeGet(t).forEach(n),this._topRightChild&&this._topRightChild.cascadeGet(t).forEach(n),this._bottomLeftChild&&this._bottomLeftChild.cascadeGet(t).forEach(n),this._bottomRightChild&&this._bottomRightChild.cascadeGet(t).forEach(n)}return e},t.prototype.remove=function(t){this._itemChildren.delete(t),this._itemChildren.size||this._parent._cascadeDelete(this)},t.prototype._cascadeDelete=function(t){var e=t._bounds;e.left===this._bounds.left&&e.top===this._bounds.top?delete this._topLeftChild:e.left>this._bounds.left&&e.top===this._bounds.top?delete this._topRightChild:e.left===this._bounds.left&&e.top>this._bounds.top?delete this._bottomLeftChild:delete this._bottomRightChild,this._topLeftChild||this._topRightChild||this._bottomLeftChild||this._bottomRightChild||this._parent._cascadeDelete(this)},t.prototype._containsBounds=function(t){return P(this._bounds,t)},t}(),x=function(){function t(t,e,n){this._boundsGetter=n,this._rootQuad=new E(null,t,e,0,0),this._itemToQuadMap=new Map}return t.prototype.add=function(t){var e=this._boundsGetter(t),n=this._rootQuad.cascadeAdd(t,e);this._itemToQuadMap.set(t,n)},t.prototype.remove=function(t){var e=this._itemToQuadMap.get(t);e&&e.length&&(e.forEach(function(e){e.remove(t)}),this._itemToQuadMap.delete(t))},t.prototype.move=function(t){this.remove(t),this.add(t)},t.prototype.get=function(t,e,n,r){var o=this._rootQuad.cascadeGet({left:t,top:e,width:n,height:r});return Array.from(o)},t.prototype.has=function(t){return this._itemToQuadMap.has(t)},t.isCollision=P,t}(),S=function(){function t(){var t=this;this._nodeMap=new Map,this._renderedNodeIds=new Set,this._nodeBounds=new Map,this._dirtyNodes=new Set,this._connectorMap=new Map,this._outgoingConnectorMap=new Map,this._incomingConnectorMap=new Map,this._nodeQuadMap=new x(1e6,500,function(e){return t._getNodeConnectiveBounds(e)})}return t.prototype._getNodeConnectiveBounds=function(t){var e=this;if(this._nodeBounds.has(t))return this._nodeBounds.get(t);var n=this._nodeMap.get(t),r=(this._outgoingConnectorMap.get(t)||[]).map(function(t){return e._nodeMap.get(t)}),o=(this._incomingConnectorMap.get(t)||[]).map(function(t){return e._nodeMap.get(t)}),i=n.getBounds(),s=i.left,a=i.top,u=i.width,c=i.height,l=s+u,h=a+c;r.concat(o).forEach(function(t){var e=t.getBounds(),n=e.left+e.width,r=e.top+e.height;s=e.left<s?e.left:s,l=n>l?n:l,a=e.top<a?e.top:a,h=r>h?r:h});var d={left:s,width:l-s,top:a,height:h-a};return this._nodeBounds.set(t,d),d},t.prototype.addNodeInstance=function(t){this._nodeMap.set(t.getId(),t),this._dirtyNodes.add(t.getId())},t.prototype.getNodeInstance=function(t){return this._nodeMap.get(t)},t.prototype.isNodeInBounds=function(t,e,n,r,o){var i=t.getBounds();return x.isCollision(i,{left:e,top:n,width:r,height:o})},t.prototype.updateNodeInstance=function(t){this._nodeBounds.delete(t.getId()),this._nodeMap.set(t.getId(),t),this._dirtyNodes.add(t.getId())},t.prototype.removeNodeInstance=function(t){this._nodeBounds.delete(t.getId()),this._nodeMap.delete(t.getId()),this._renderedNodeIds.delete(t.getId()),this._dirtyNodes.add(t.getId())},t.prototype.markDirty=function(t){this._dirtyNodes.add(t.getId())},t.prototype.reflowNodes=function(){var t=this;this._dirtyNodes.forEach(function(e){var n=t._nodeMap.get(e),r=t._nodeQuadMap.has(e);return n?r?(t._nodeBounds.delete(e),t._nodeQuadMap.move(e),void t.getAllNodeConnectorInstances(e).forEach(function(n){n.getSourceNodeId()===e?(t._nodeBounds.delete(n.getTargetNodeId()),t._nodeQuadMap.move(n.getTargetNodeId())):(t._nodeBounds.delete(n.getSourceNodeId()),t._nodeQuadMap.move(n.getSourceNodeId()))})):t._nodeQuadMap.add(e):t._nodeQuadMap.remove(e)}),this._dirtyNodes.clear()},t.prototype.markNodeRendered=function(t,e){e?(this._renderedNodeIds.add(t.getId()),this._nodeMap.set(t.getId(),t)):this._renderedNodeIds.delete(t.getId())},t.prototype.getRenderedNodeIds=function(){return this._renderedNodeIds},t.prototype.queryNodeIds=function(t,e,n,r,o){var i=this,s=this._nodeQuadMap.get(t,e,n,r);if(o){var a={left:t,top:e,width:n,height:r};s=s.filter(function(t){var e=i.getNodeInstance(t);return x.isCollision(e.getBounds(),a)})}return s},t.prototype.queryNodes=function(t,e,n,r,o){var i=this;return this.queryNodeIds(t,e,n,r,o).map(function(t){return i._nodeMap.get(t).getNode()})},t.prototype.forEachNodeInstance=function(t){this._nodeMap.forEach(t)},t.prototype.getConnectorInstance=function(t){var e="string"==typeof t?t:l.getConnectorId(t);return this._connectorMap.get(e)},t.prototype.addConnectorInstance=function(t){this._connectorMap.set(t.getId(),t);var e=t.getConnector(),n=this._outgoingConnectorMap.get(e.sourceNodeId)||[];n.push(e.targetNodeId),this._outgoingConnectorMap.set(e.sourceNodeId,n);var r=this._incomingConnectorMap.get(e.targetNodeId)||[];r.push(e.sourceNodeId),this._incomingConnectorMap.set(e.targetNodeId,r)},t.prototype.removeConnector=function(t){this._connectorMap.delete(t.getId());var e=this._outgoingConnectorMap.get(t.getSourceNodeId()),n=this._incomingConnectorMap.get(t.getTargetNodeId());e.splice(e.indexOf(t.getTargetNodeId()),1),n.splice(n.indexOf(t.getSourceNodeId()),1)},t.prototype.getAllNodeConnectorInstances=function(t){var e=this,n=(this._outgoingConnectorMap.get(t)||[]).map(function(n){return e._connectorMap.get(l.getConnectorId({sourceNodeId:t,targetNodeId:n}))}),r=(this._incomingConnectorMap.get(t)||[]).map(function(n){return e._connectorMap.get(l.getConnectorId({sourceNodeId:n,targetNodeId:t}))});return n.concat(r)},t.prototype.forEachConnectorInstance=function(t){this._connectorMap.forEach(t)},t}(),C=function(){function t(t,e,n,r){this._surface=t,this._dataManager=e,this._config=n,this._bindings=r,this._surface.onmousedown=this._handleSurfaceDragStart.bind(this),this._surface.ontouchstart=this._handleSurfaceDragStart.bind(this),this._surface.onmousemove=this._handleSurfaceDragMove.bind(this),this._surface.ontouchmove=this._handleSurfaceDragMove.bind(this),this._surface.onmouseup=this._handleSurfaceDragEnd.bind(this),this._surface.ontouchend=this._handleSurfaceDragEnd.bind(this),this._surface.onclick=this._handleClick.bind(this),this._surface.onmouseover=this._handleMouseOver.bind(this),this._surface.onmouseout=this._handleMouseOut.bind(this),this._surface.ondragstart=this._handleDragStart.bind(this),this._surface.ondragend=this._handleDragEnd.bind(this),this._surface.ondrag=this._handleDragMove.bind(this),this._nodeDragPayload=null,this._surfaceDragPayload=null}return t.prototype.updateConfig=function(t){this._config=t},t.prototype.getDraggingNode=function(){return this._nodeDragPayload&&this._nodeDragPayload.nodeInstance},t.prototype._findEndpoint=function(t){if(t){for(var e=this._config.classPrefix+a.emptyEndpointClassSuffix;t&&t!==this._surface&&!t.classList.contains(e);)t=t.parentElement;return t&&t!==this._surface?t:null}},t.prototype._findNode=function(t){if(t){for(var e=this._config.classPrefix+a.nodeClassSuffix;t&&t!==this._surface&&!t.classList.contains(e);)t=t.parentElement;return t&&t!==this._surface?t:null}},t.prototype._findConnector=function(t){if(t){for(var e=this._config.classPrefix+a.connectorClassSuffix;t&&t!==this._surface&&!t.classList.contains(e);)t=t.parentElement;return t&&t!==this._surface?t:null}},t.prototype._handleMoveEvent=function(t,e,n){var r=t.x,o=t.y;0===t.x&&0===t.y&&(r=this._nodeDragPayload.lastX,o=this._nodeDragPayload.lastY);var i=r-this._nodeDragPayload.startX,s=o-this._nodeDragPayload.startY;this._nodeDragPayload.lastX=r,this._nodeDragPayload.lastY=o;var a=this._snapToGrid(e,n,i,s);return{deltaLeft:a.deltaLeft,deltaTop:a.deltaTop}},t.prototype._snapToGrid=function(t,e,n,r){var o=this._config.snapToGrid||a.defaultSnapToGrid;if(o[0]>1){var i=(t+n)%o[0];n=i<o[0]/2?n-i:n-i+o[0]}if(o[1]>1){var s=(e+r)%o[1];r=s<o[1]/2?r-s:r-s+o[1]}return{deltaLeft:n,deltaTop:r}},t.prototype._createGhostClearer=function(t){var e=t.cloneNode(!0);return e.style.position="absolute",e.style.left="-10000000px",e.style.top="-10000000px",e.style.opacity="0",document.body.appendChild(e),e},t.prototype._createGhost=function(t){if("GHOST"===this._config.dragMode){var e=t.cloneNode(!0);e.style.pointerEvents="none",e.className+=" "+this._config.classPrefix+a.nodeDragSuffix;var n=e.querySelector("."+this._config.classPrefix+a.nodeLabelSuffix);return n&&e.removeChild(n),this._surface.appendChild(e),e}},t.prototype._handleClick=function(t){if(!this._findEndpoint(t.target)){var e=this._findNode(t.target);e&&this._bindings.handleNodeClick(this._dataManager.getNodeInstance(e.id));var n=this._findConnector(t.target);n&&this._bindings.handleConnectorClick(this._dataManager.getConnectorInstance(n.id))}},t.prototype._handleMouseOver=function(t){var e=this._findEndpoint(t.target);if(e)e.classList.add(this._config.classPrefix+a.endpointHoveredSuffix);else{var n=this._findNode(t.target);n&&this._bindings.handleNodeEnter(this._dataManager.getNodeInstance(n.id));var r=this._findConnector(t.target);r&&this._bindings.handleConnectorEnter(this._dataManager.getConnectorInstance(r.id))}},t.prototype._handleMouseOut=function(t){var e=this._findEndpoint(t.target);if(e)e.classList.remove(this._config.classPrefix+a.endpointHoveredSuffix);else{var n=this._findNode(t.target);n&&this._bindings.handleNodeLeave(this._dataManager.getNodeInstance(n.id));var r=this._findConnector(t.target);r&&this._bindings.handleConnectorLeave(this._dataManager.getConnectorInstance(r.id))}},t.prototype._handleDragStart=function(t){if(!this._findEndpoint(t.target)){var e=this._findNode(t.target),n=e&&this._dataManager.getNodeInstance(e.id);if(n&&this._bindings.isNodeDragAllowed(n)){var r=n.getBounds(),o=this._createGhostClearer(e);t.dataTransfer.setDragImage(o,r.width/2,r.height/2),this._nodeDragPayload={nodeInstance:n,nodeElement:e,ghost:this._createGhost(e),ghostClearer:o,startX:t.x,startY:t.y,startScrollLeft:this._surface.parentElement.scrollLeft,startScrollTop:this._surface.parentElement.scrollTop,lastX:t.x,lastY:t.y},this._bindings.handleNodeDragStart(n)}}},t.prototype._handleDragEnd=function(t){var e=this;if(this._isConnectorDragMode&&(this._isConnectorDragMode=!1),this._nodeDragPayload){document.body.removeChild(this._nodeDragPayload.ghostClearer),this._nodeDragPayload.ghost&&this._surface.removeChild(this._nodeDragPayload.ghost);var n=this._nodeDragPayload.nodeInstance;if("INSTANCE"===this._config.dragMode){var r=n.getBounds();this._nodeDragPayload.nodeElement.style.left=r.left+"px",this._nodeDragPayload.nodeElement.style.top=r.top+"px"}var o=n.getBounds(),i=o.left,s=o.top,a=o.width,u=o.height,c=this._handleMoveEvent(t,i,s),l=c.deltaLeft,h=c.deltaTop,d=this._dataManager.queryNodeIds(i+l,s+h,a,u,!0).filter(function(t){return t!==n.getId()}).map(function(t){return e._dataManager.getNodeInstance(t)});this._nodeDragPayload=null,this._bindings.handleNodeDrop(n,i+l,s+h,d&&d[0])}},t.prototype._handleDragMove=function(t){if(this._nodeDragPayload){var e=this._nodeDragPayload.nodeInstance,n=e.getId(),r=e.getBounds(),o=r.left,i=r.top,s=r.width,a=r.height,u=this._handleMoveEvent(t,o,i),c=u.deltaLeft,l=u.deltaTop,h=this._nodeDragPayload.ghost||this._nodeDragPayload.nodeElement,d=this._surface.parentElement;if(c+=d.scrollLeft-this._nodeDragPayload.startScrollLeft,l+=d.scrollTop-this._nodeDragPayload.startScrollTop,0===c&&0===l)return;o+=c,i+=l;var f=this._dataManager.queryNodeIds(o,i,s,a,!0).filter(function(t){return t!==n});if(f&&f.length&&this._config.dragRules.indexOf("PREVENT_COLLISIONS")>=0)return;h.style.left=o+"px",h.style.top=i+"px",this._bindings.handleNodeDragMove(e,o,i)}},t.prototype._keyTogglePresent=function(t,e){return"ALT"===t?e.altKey:"CTRL"===t?e.ctrlKey||e.metaKey:"SHIFT"===t&&e.shiftKey},t.prototype._getSurfaceDragMode=function(t){var e=this;if("BRUSH"===this._config.surfaceDragMode)return"BRUSH";if("PAN"===this._config.surfaceDragMode)return"PAN";if("KEY_TOGGLE"===this._config.surfaceDragMode&&t instanceof MouseEvent){var n=this._config.surfaceBrushKeyToggle,r=this._config.surfacePanKeyToggle,o=r&&"ANY"===r,i=n&&"ANY"===n,s=Array.isArray(r)&&r.every(function(n){return e._keyTogglePresent(n,t)}),a=Array.isArray(n)&&n.every(function(n){return e._keyTogglePresent(n,t)});if(s)return"PAN";if(a)return"BRUSH";if(!a&&o)return"PAN";if(!s&&i)return"BRUSH"}else if("KEY_TOGGLE"===this._config.surfaceDragMode&&t instanceof TouchEvent)throw new Error("Touch pan/brush not yet implemented")},t.prototype._getSurfaceEventCoordinates=function(t){return t instanceof TouchEvent&&t.touches&&t.touches.length?{x:t.touches[0].clientX,y:t.touches[0].clientY}:t instanceof MouseEvent?{x:t.clientX,y:t.clientY}:void 0},t.prototype._getBrushBounds=function(t,e,n,r){var o=this._surface.getBoundingClientRect();return{left:Math.min(t,n)-o.left,top:Math.min(e,r)-o.top,width:Math.abs(t-n),height:Math.abs(e-r)}},t.prototype._renderBrushNode=function(t,e,n,r,o){t||((t=document.createElement("div")).style.position="absolute",t.style.pointerEvents="none",t.className=this._config.classPrefix+a.surfaceBrushSuffix,this._surface.appendChild(t));var i=this._getBrushBounds(e,n,r,o),s=i.left,u=i.top,c=i.width,l=i.height;return t.style.left=s+"px",t.style.top=u+"px",t.style.width=c+"px",t.style.height=l+"px",t},t.prototype._handleSurfaceDragStart=function(t){if(t.target===this._surface){var e=this._getSurfaceDragMode(t);if(e){var n,r=this._getSurfaceEventCoordinates(t);r&&("BRUSH"===e&&(n=this._renderBrushNode(null,r.x,r.y,r.x,r.y)),this._surfaceDragPayload={startX:r.x,startY:r.y,startScrollLeft:this._surface.parentElement.scrollLeft,startScrollTop:this._surface.parentElement.scrollTop,lastX:r.x,lastY:r.y,surfaceDragMode:e,brushNode:n})}}},t.prototype._handleSurfaceDragMove=function(t){if(this._surfaceDragPayload){var e=this._getSurfaceEventCoordinates(t);if(e){if("PAN"===this._surfaceDragPayload.surfaceDragMode){var n=e.x,r=e.y;0===n&&0===r&&(n=this._surfaceDragPayload.lastX,r=this._surfaceDragPayload.lastY);var o=n-this._surfaceDragPayload.startX,i=r-this._surfaceDragPayload.startY;window.console.log(o);var s=this._surface.parentElement;s.scrollLeft=Math.max(this._surfaceDragPayload.startScrollLeft-o,0),s.scrollTop=Math.max(this._surfaceDragPayload.startScrollTop-i,0),this._surfaceDragPayload.lastX=n,this._surfaceDragPayload.lastY=r}else if(this._surfaceDragPayload.brushNode){var a=this._surfaceDragPayload,u=a.startX,c=a.startY,l=a.brushNode;this._surfaceDragPayload.brushNode=this._renderBrushNode(l,u,c,e.x,e.y)}t.preventDefault(),t.stopPropagation()}}},t.prototype._handleSurfaceDragEnd=function(t){var e=this;if(this._surfaceDragPayload){if(this._surfaceDragPayload.brushNode){this._surface.removeChild(this._surfaceDragPayload.brushNode);var n=this._getSurfaceEventCoordinates(t),r=this._surfaceDragPayload,o=r.startX,i=r.startY,s=this._getBrushBounds(n.x,n.y,o,i),a=s.left,u=s.top,c=s.height,l=s.width,h=this._dataManager.queryNodeIds(a,u,l,c,!0)||[];this._bindings.handleNodeBrushSelect(h.map(function(t){return e._dataManager.getNodeInstance(t)}))}this._surfaceDragPayload=null}},t}(),w=function(){function t(t,e){this._nodeEvents=null,this._connectorEvents=null,this._refreshHandler=t,this._highlightHandler=e}return t.prototype.updateConfig=function(t,e){this._nodeEvents=t,this._connectorEvents=e},t.prototype.handleNodeClick=function(t){this._nodeEvents.onClick&&this._nodeEvents.onClick(t.getNode())},t.prototype.handleNodeEnter=function(t){this._highlightHandler(t,!0),this._nodeEvents.onMouseOver&&this._nodeEvents.onMouseOver(t.getNode())},t.prototype.handleNodeLeave=function(t){this._highlightHandler(t,!1),this._nodeEvents.onMouseOut&&this._nodeEvents.onMouseOut(t.getNode())},t.prototype.handleConnectorClick=function(t){this._connectorEvents.onClick&&this._connectorEvents.onClick(t.getConnector())},t.prototype.handleConnectorEnter=function(t){this._highlightHandler(t,!0),this._connectorEvents.onMouseOver&&this._connectorEvents.onMouseOver(t.getConnector())},t.prototype.handleConnectorLeave=function(t){this._highlightHandler(t,!1),this._connectorEvents.onMouseOut&&this._connectorEvents.onMouseOut(t.getConnector())},t.prototype.handleConnectorAdd=function(t,e,n,r){this._connectorEvents&&this._connectorEvents.onConnectorAdd&&this._connectorEvents.onConnectorAdd(t,e,n,r)},t.prototype.isNodeDragAllowed=function(t){return!this._nodeEvents||!this._nodeEvents.isDragAllowed||this._nodeEvents.isDragAllowed(t.getNode())},t.prototype.handleNodeDragStart=function(t){this._nodeEvents&&this._nodeEvents.onDragStart&&this._nodeEvents.onDragStart(t.getNode())},t.prototype.handleNodeDragMove=function(t,e,n){this._nodeEvents&&this._nodeEvents.onDragMove&&this._nodeEvents.onDragMove(t.getNode(),e,n),this._refreshHandler(t)},t.prototype.handleNodeDrop=function(t,e,n,r){if(this._nodeEvents&&this._nodeEvents.onDrop){var o=r&&r instanceof g?r.getNode():null,i=r&&r instanceof v?r.getConnector():null;this._nodeEvents.onDrop(t.getNode(),e,n,o||i)}this._refreshHandler(t)},t.prototype.isNodeDropAllowed=function(t,e,n,r){if(this._nodeEvents&&this._nodeEvents.isDropAllowed){var o=r&&r instanceof g?r.getNode():null,i=r&&r instanceof v?r.getConnector():null;return this._nodeEvents.isDropAllowed(t.getNode(),e,n,o||i)}return!0},t.prototype.handleNodeBrushSelect=function(t){this._nodeEvents&&this._nodeEvents.onBrushSelect&&this._nodeEvents.onBrushSelect(t.map(function(t){return t.getNode()}))},t}(),j=function(){function t(t){var e=this;this._root=t,this._config=c.getDefaultConfig(),this._canvas=document.createElement("div"),this._canvas.style.width="100%",this._canvas.style.height="100%",this._canvas.style.overflow="auto",this._windowThottler=new _(300,this._renderWindow.bind(this)),this._canvas.onscroll=function(){return e._windowThottler.invoke()},this._surface=document.createElement("div"),this._surface.style.position="relative",this._surface.style.minWidth="100%",this._surface.style.minHeight="100%",this._canvas.appendChild(this._surface),this._root.appendChild(this._canvas),this._plumber=window.jsPlumb.getInstance({Container:this._surface}),this._plumber.bind("connectionDrag",this._interceptConnectorDrag.bind(this,!0)),this._plumber.bind("connectionDragStop",this._interceptConnectorDrag.bind(this,!1)),this._renderer=new b(this._plumber),this._dataManager=new S,this._bindings=new w(this._interceptNodeDrag.bind(this),this._interceptHighlight.bind(this)),this._eventProcessor=new C(this._surface,this._dataManager,this._config,this._bindings)}return t.prototype.update=function(t,e,n){var r=null,o=null,i=null,s=!1;if(null!=t&&(r=h.getNodeDeltas(this._dataManager,t)),null!=e&&(o=h.getConnectorDeltas(this._dataManager,e,r)),null!=n&&(s=(i=h.getConfigDeltas(this._config,n))&&this._applyConfigDeltas(i)),r||o){r&&this._applyNodeDeltas(r),o&&this._applyConnectorDeltas(o),this._dataManager.reflowNodes();var a=this._dataManager.queryNodeIds(this._canvas.scrollLeft,this._canvas.scrollTop,this._canvas.clientWidth,this._canvas.clientHeight);this._renderNodeUpdates(r,i,a,s),this._renderConnectorUpdates(o,this._config,a,s),this._updateSurface()}},t.prototype.lasso=function(t,e,n,r){return t+=this._canvas.scrollLeft,e+=this._canvas.scrollTop,this._dataManager.queryNodes(t,e,n,r,!0)},t.prototype._interceptNodeDrag=function(t){"INSTANCE"===this._config.dragMode&&this._plumber.revalidate(t.getElement())},t.prototype._interceptConnectorDrag=function(t,e,n){if(this._surface.classList[t?"add":"remove"](this._config.classPrefix+a.connectorDraggingSuffix),!t&&e&&e.sourceId&&e.targetId&&n){var r=e.sourceId,o=e.targetId,i=e.endpoints;this._plumber.deleteConnection(e);var s=this._dataManager.getNodeInstance(r).getNode(),u=this._dataManager.getNodeInstance(o).getNode();this._bindings.handleConnectorAdd(r,o,f.getAnchorIdFromUuid(s,i[0].getUuid()),f.getAnchorIdFromUuid(u,i[1].getUuid()))}},t.prototype._interceptHighlight=function(t,e){if(t instanceof g)for(var n=this._plumber.selectEndpoints({element:t.getElement()}),r=0;r<n.length;r++)n.get(r)[e?"addClass":"removeClass"](this._config.classPrefix+a.endpointHoveredSuffix)},t.prototype._applyConfigDeltas=function(t){var e=this;if(t.size){this._config=c.clone(this._config);var n=!1;return t.forEach(function(t,r){e._config[r]=t.newValue,n=n||c.isReflowProperty(r)}),this._eventProcessor.updateConfig(this._config),this._bindings.updateConfig(this._config.nodeEvents,this._config.connectorEvents),n}},t.prototype._applyNodeDeltas=function(t){var e=this;(t.newEntries||[]).forEach(function(t){var n=new g(t);e._dataManager.addNodeInstance(n)}),(t.updatedEntries||[]).forEach(function(t){var n=e._dataManager.getNodeInstance(t.oldValue.id);n.updateNode(t.newValue),e._dataManager.updateNodeInstance(n)}),(t.deletedEntries||[]).forEach(function(t){var n=e._dataManager.getNodeInstance(t.id);e._renderer.unrenderNode(n),e._dataManager.removeNodeInstance(n)})},t.prototype._applyConnectorDeltas=function(t){var e=this;(t.newEntries||[]).forEach(function(t){var n=e._dataManager.getNodeInstance(t.sourceNodeId),r=e._dataManager.getNodeInstance(t.targetNodeId);e._dataManager.addConnectorInstance(new v(t,n,r)),e._dataManager.markDirty(n),e._dataManager.markDirty(r)})},t.prototype._renderConnectorUpdates=function(t,e,n,r){var o=this,i=t.newEntries.length||t.updatedEntries.length||t.deletedEntries.length||r,s=this._dataManager.getRenderedNodeIds(),a=new Set,u=new Set(n);i&&this._plumber.batch(function(){t.newEntries.forEach(function(t){var n=t.sourceNodeId,r=t.targetNodeId,i=o._dataManager.getConnectorInstance(t);(s.has(n)||s.has(r))&&(o._renderer.renderConnector(i,null,e),a.add(i.getId()))}),(t.deletedEntries||[]).forEach(function(t){var e=o._dataManager.getConnectorInstance(t);o._dataManager.removeConnector(e),o._renderer.unrenderConnector(e)}),t.updatedEntries.forEach(function(t){var n=t.newValue,r=n.sourceNodeId,i=n.targetNodeId,u=o._dataManager.getConnectorInstance(t.oldValue);if(a.add(l.getConnectorId(t.newValue)),s.has(r)||s.has(i)){var c=o._dataManager.getNodeInstance(t.newValue.sourceNodeId),h=o._dataManager.getNodeInstance(t.newValue.targetNodeId);u.updateConnector(t.newValue,c,h),o._renderer.renderConnector(u,t.oldValue,e)}else o._renderer.unrenderConnector(u)}),r&&u.forEach(function(t){o._dataManager.getAllNodeConnectorInstances(t).forEach(function(t){var n=t.getId();a.has(n)||(a.add(n),o._renderer.renderConnector(t,null,e))})})})},t.prototype._renderNodeUpdates=function(t,e,n,r){var o=this,i=new Set(n),s=this._dataManager.getRenderedNodeIds(),a=[];if((t.newEntries||[]).forEach(function(t){if(i.has(t.id)){var e=o._dataManager.getNodeInstance(t.id);o._renderer.renderNode(e,null,o._config,new Map),o._dataManager.markNodeRendered(e,!0),i.delete(t.id),a.push(e.getElement())}}),(t.updatedEntries||[]).forEach(function(t){var n=t.newValue.id,r=o._dataManager.getNodeInstance(n),u=i.has(n),c=s.has(n);u&&c?o._renderer.renderNode(r,t.oldValue,o._config,e):u&&!c?(o._renderer.renderNode(r,null,o._config,e),o._dataManager.markNodeRendered(r,!0),a.push(r.getElement())):!u&&c&&(o._renderer.unrenderNode(r),o._dataManager.markNodeRendered(r,!1)),i.delete(r.getId())}),i.forEach(function(t){if(!s.has(t)||r){var n=o._dataManager.getNodeInstance(t);o._renderer.renderNode(n,null,o._config,e),s.has(t)||(o._dataManager.markNodeRendered(n,!0),a.push(n.getElement()))}}),a.length){var u=document.createDocumentFragment();a.forEach(function(t){return u.appendChild(t)}),this._surface.append(u)}},t.prototype._renderWindow=function(){var t=this,e=new Set(this._dataManager.queryNodeIds(this._canvas.scrollLeft,this._canvas.scrollTop,this._canvas.clientWidth,this._canvas.clientHeight)),n=[];e.forEach(function(e){var r=t._dataManager.getNodeInstance(e);r.getElement()||(t._renderer.renderNode(r,null,t._config,new Map),t._dataManager.markNodeRendered(r,!0),t._surface.appendChild(r.getElement()),Array.prototype.push.apply(n,t._dataManager.getAllNodeConnectorInstances(e)))}),n.length&&this._plumber.batch(function(){n.forEach(function(e){e.getPlumbConnection()||t._renderer.renderConnector(e,null,t._config)})}),this._dataManager.getRenderedNodeIds().forEach(function(n){var r=t._eventProcessor.getDraggingNode(),o=r&&r.getId()===n;if(!e.has(n)&&!o){t._dataManager.getAllNodeConnectorInstances(n).forEach(function(e){e.getPlumbConnection()&&t._renderer.unrenderConnector(e)});var i=t._dataManager.getNodeInstance(n);t._renderer.unrenderNode(i),t._dataManager.markNodeRendered(i,!1)}})},t.prototype._updateSurface=function(){var t=-1/0,e=-1/0;this._dataManager.forEachNodeInstance(function(n){var r=n.getBounds(),o=r.left+r.width,i=r.top+r.height;t=o>t?o:t,e=i>e?i:e}),this._surface.style.width=t+a.canvasPadding+"px",this._surface.style.height=e+a.canvasPadding+"px"},t}();s.CanvasBuilderInstance=j;var D={createInstance:function(t){var e;return"string"==typeof t?t=document.getElementById(t):e=t,new j(e)}};s.default=D,"object"===o(e)&&void 0!==t?t.exports=s:void 0!==(r=function(){return s}.call(e,n,e,t))&&(t.exports=r)}();var i=window.canvasBuilder;e.default=i},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var o={nodes:[{id:"1234567",label:"Hello",left:2e3,top:50,iconClassName:"node-icon1",nodeColor:"#33AAAA"},{id:"faraway",label:"So Far!",left:2300,top:200,iconClassName:"node-icon2",nodeColor:"orange"},{id:"faraway2",label:"So Far II",left:2300,top:433,iconClassName:"node-icon2",nodeColor:"orange"},{id:"gary",label:"Gary's Node!",className:"node-selected",isSelected:!0,width:100,top:200,left:301,height:100,nodeColor:"green",nodeShape:"SQUARE",iconClassName:"node-icon1",anchors:[{id:"top",location:{leftPercent:.15,topPercent:.55}},{id:"top2",location:{leftPercent:1,topPercent:.24}}]},{id:"josh",label:"Josh Node",left:544,top:75,nodeShape:"DIAMOND",iconClassName:"node-icon1",nodeColor:"orange",className:"node-selected",anchors:[{id:"bottom",location:"BOTTOM"},{id:"left",location:"LEFT"},{id:"right",location:"TOP"}]}],connectors:[{sourceNodeId:"gary",targetNodeId:"josh",sourceAnchorId:"top2",targetAnchorId:"left",strokeWidth:5,hoverStrokeWidth:8},{sourceNodeId:"gary",targetNodeId:"1234567"},{sourceNodeId:"faraway",targetNodeId:"faraway2"}],config:{classPrefix:"App__slds-canvas-builder",snapToGrid:[64,64],surfaceDragMode:"KEY_TOGGLE",surfacePanKeyToggle:"ANY",surfaceBrushKeyToggle:["CTRL","SHIFT"],dragMode:"INSTANCE",dragRules:[],connectorStrokeWidth:2,connectorHoverStrokeWidth:4,nodeEvents:{},connectorEvents:{}}};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments[1];switch(e.type){case"ADD_NODE":return Object.assign({},t,{nodes:[].concat(r(t.nodes),[e.node])});default:return t}}}]);